#!/usr/bin/env node
'use strict';const a5_0x317bfa=a5_0x1330;(function(_0x3328ba,_0x26cdd0){const _0x331183=a5_0x1330,_0x3acb4b=_0x3328ba();while(!![]){try{const _0x277fc3=-parseInt(_0x331183(0xf4))/0x1+parseInt(_0x331183(0xea))/0x2*(-parseInt(_0x331183(0xa2))/0x3)+-parseInt(_0x331183(0xdf))/0x4*(parseInt(_0x331183(0xb0))/0x5)+-parseInt(_0x331183(0xde))/0x6*(-parseInt(_0x331183(0xd3))/0x7)+-parseInt(_0x331183(0xba))/0x8+-parseInt(_0x331183(0xfe))/0x9+parseInt(_0x331183(0xce))/0xa;if(_0x277fc3===_0x26cdd0)break;else _0x3acb4b['push'](_0x3acb4b['shift']());}catch(_0x3d2a17){_0x3acb4b['push'](_0x3acb4b['shift']());}}}(a5_0x43d3,0x962fc));function a5_0x43d3(){const _0x530c2f=['\x20scenarios','mergeOutputFiles','FRAMEWORKS','testContextOptions','initialize','red','getTCGConfigFilePaths','testObservability','gJGRX','accessibilityOptions','1018407zhdiqE','CVjvR','mqacM','shUlI','scenarios','format','../test-runner','../../helpers/utilities','AiasD','ofpHq','VwYPE','logLevel','FuOfo','\x20failed','5sAydQJ','tmp','stop','exports','../../helpers/BrowserStackSetup','cucumber','CUCUMBER','\x20skipped','jkrNt','vKizQ','4831456UFQaad','error\x20removing\x20tcg\x20config\x20file','forEach','winstonLogger','argv','BROWSERSTACK_TEST_OBSERVABILITY_YML','getHubUrl','rCFHM','../../helpers/helper','env','TvuCJ','bold','../../helpers/test-observability/utils','zyRkD','tngJR','QJNcm','cyan','../../helpers/testhub/testhubHandler','stepsPassed','config','24048280lqOQbz','bhbJc','path','skipSessionStatus','skipSessionName','447741qaoTuk','Fnjmo','isUndefined','pkhja','stepsAmbiguous','rmdirSync','JsHhl','Removing\x20tmp\x20directory\x20created\x20for\x20reports','util','green','debug','6bASfKl','1692388iMnsDB','push','\x20passed','finally','UbEHv','yellow','xwGMI','ZHFNT','GKHKj','finalExecution','\x20steps','2gBDjcq','ieyQu','getPlatformName','****\x20RESULTS\x20****','join','IHATf','jCRBj','AcIQh','turboScaleUrl','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','429905lJUdMF','stepsUndefined','markSDKSetupComplete','getUserWorkerCount','length','true','stepsFailed','printBuildLink','GeWky','launchBuild','515016ncmAcd','setupTCGAuth','\x20undefined','scenariosFailed','exitCode','Generating\x20consolidated\x20report...'];a5_0x43d3=function(){return _0x530c2f;};return a5_0x43d3();}const fs=require('fs'),path=require(a5_0x317bfa(0xd0)),util=require(a5_0x317bfa(0xdb)),logger=require('../../helpers/logger')[a5_0x317bfa(0xbd)],{default:BrowserStackSetup}=require(a5_0x317bfa(0xb4)),helper=require(a5_0x317bfa(0xc2)),utilities=require(a5_0x317bfa(0xa9)),constants=require('../utils/constants'),{parallelCucumberRun}=require(a5_0x317bfa(0xa8)),TestHubHandler=require(a5_0x317bfa(0xcb)),testOpsHelper=require(a5_0x317bfa(0xc6)),chalk=require('chalk');function printCucumberStats(_0xb25152){const _0x3c4d47=a5_0x317bfa,_0x20d133={};_0x20d133[_0x3c4d47(0xb8)]=function(_0x4eab7a,_0x452403){return _0x4eab7a>_0x452403;},_0x20d133['YNGXQ']=function(_0x2895bf,_0x32d225){return _0x2895bf-_0x32d225;},_0x20d133[_0x3c4d47(0xae)]=function(_0x3d9dd3,_0x565605){return _0x3d9dd3-_0x565605;},_0x20d133['JsHhl']=function(_0x24ccf2,_0x247b89){return _0x24ccf2>_0x247b89;},_0x20d133['vNeZK']=function(_0x4556ae,_0x24c39b){return _0x4556ae>_0x24c39b;},_0x20d133[_0x3c4d47(0xe5)]=function(_0x194ffd,_0x17e010){return _0x194ffd>_0x17e010;},_0x20d133[_0x3c4d47(0xfc)]=function(_0x43d6d7,_0x363a2a){return _0x43d6d7>_0x363a2a;},_0x20d133[_0x3c4d47(0xa3)]=function(_0x1a84c0,_0x2bd458){return _0x1a84c0>_0x2bd458;},_0x20d133[_0x3c4d47(0xc8)]=function(_0x2a1b54,_0x5191a7){return _0x2a1b54>_0x5191a7;},_0x20d133['IHATf']=function(_0x4480bf,_0x5e4776){return _0x4480bf>_0x5e4776;},_0x20d133[_0x3c4d47(0xab)]=function(_0x2d94da,_0x49b024){return _0x2d94da>_0x49b024;},_0x20d133['AcIQh']=function(_0x3060e8,_0x556a63){return _0x3060e8>_0x556a63;},_0x20d133['UbEHv']=function(_0x49b479,_0x28acc8){return _0x49b479>_0x28acc8;},_0x20d133[_0x3c4d47(0xc4)]=function(_0x20d8d3,_0x52c9f7){return _0x20d8d3+_0x52c9f7;},_0x20d133[_0x3c4d47(0xc7)]=function(_0x4b4eef,_0xc220c){return _0x4b4eef+_0xc220c;},_0x20d133[_0x3c4d47(0xd6)]=function(_0x4cade5,_0x176b1a){return _0x4cade5+_0x176b1a;},_0x20d133['JnTaO']=function(_0x513fbe,_0xd76a71){return _0x513fbe+_0xd76a71;},_0x20d133[_0x3c4d47(0xe7)]=function(_0x4dc173,_0x23fe2a){return _0x4dc173+_0x23fe2a;},_0x20d133['YRqVO']=function(_0x67e408,_0x3e125b){return _0x67e408+_0x3e125b;},_0x20d133[_0x3c4d47(0xaa)]=function(_0xdec0cd,_0x1cc2fe){return _0xdec0cd===_0x1cc2fe;},_0x20d133[_0x3c4d47(0xa4)]=_0x3c4d47(0xed);const _0x48d7de=_0x20d133;let _0x618b0b=0x0;if(_0x48d7de[_0x3c4d47(0xaa)](_0xb25152[_0x3c4d47(0xf8)],0x0))return _0x618b0b;return console['log'](chalk['bold']['bgWhite'](_0x48d7de[_0x3c4d47(0xa4)])),_0xb25152[_0x3c4d47(0xbc)](_0xea7910=>{const _0x70c330=_0x3c4d47,_0x255b9c=_0xea7910[0x0],_0x3c3f2a=_0xea7910[0x1];console['log']('\x0a'+chalk[_0x70c330(0xc5)][_0x70c330(0xe4)](''+helper[_0x70c330(0xec)](_0x255b9c)));const _0xc33f7f=_0x3c3f2a[_0x70c330(0xa6)],_0x22452a=_0x3c3f2a['steps'],_0x583477=_0x3c3f2a[_0x70c330(0x101)],_0x136da9=_0x3c3f2a[_0x70c330(0xfa)],_0x35159d=_0x3c3f2a[_0x70c330(0xcc)],_0x40cc0a=_0x3c3f2a['stepsSkipped'],_0x19bc71=_0x3c3f2a['stepsPending'],_0x1b92bf=_0x3c3f2a[_0x70c330(0xf5)],_0x168d5f=_0x3c3f2a['stepsUnknown'],_0x22fde0=_0x3c3f2a[_0x70c330(0xd7)],_0x3bd9ea=_0x3c3f2a['processSuccess'];let _0x1aaa4f=_0xc33f7f+_0x70c330(0x104);const _0x11bc5e=_0x48d7de[_0x70c330(0xb8)](_0x48d7de['YNGXQ'](_0xc33f7f,_0x583477),0x0)?_0x48d7de[_0x70c330(0xae)](_0xc33f7f,_0x583477):0x0;if(_0x48d7de[_0x70c330(0xd9)](_0x583477,0x0)&&_0x48d7de['vNeZK'](_0x11bc5e,0x0))_0x1aaa4f+='\x20('+chalk['bold'][_0x70c330(0x109)](_0x583477+_0x70c330(0xaf))+',\x20'+chalk[_0x70c330(0xc5)]['green'](_0x11bc5e+_0x70c330(0xe1))+')';else(_0x48d7de[_0x70c330(0xb8)](_0x583477,0x0)||_0x48d7de[_0x70c330(0xe5)](_0x11bc5e,0x0))&&(_0x1aaa4f+=_0x48d7de[_0x70c330(0xfc)](_0x583477,0x0)?'\x20('+chalk[_0x70c330(0xc5)][_0x70c330(0x109)](_0x583477+_0x70c330(0xaf))+')':'\x20('+chalk[_0x70c330(0xc5)][_0x70c330(0xdc)](_0x11bc5e+_0x70c330(0xe1))+')');const _0x2a25bd=_0x22452a+_0x70c330(0xe9),_0x4ebabe=[];_0x48d7de[_0x70c330(0xa3)](_0x22fde0,0x0)&&_0x4ebabe[_0x70c330(0xe0)](''+chalk[_0x70c330(0xc5)][_0x70c330(0x109)](_0x22fde0+'\x20ambiguous'));_0x48d7de[_0x70c330(0xc8)](_0x136da9,0x0)&&_0x4ebabe[_0x70c330(0xe0)](''+chalk[_0x70c330(0xc5)]['red'](_0x136da9+_0x70c330(0xaf)));_0x48d7de['IHATf'](_0x35159d,0x0)&&_0x4ebabe[_0x70c330(0xe0)](''+chalk[_0x70c330(0xc5)][_0x70c330(0xdc)](_0x35159d+_0x70c330(0xe1)));_0x48d7de[_0x70c330(0xab)](_0x19bc71,0x0)&&_0x4ebabe[_0x70c330(0xe0)](''+chalk[_0x70c330(0xc5)][_0x70c330(0xe4)](_0x19bc71+'\x20pending'));_0x48d7de[_0x70c330(0xef)](_0x40cc0a,0x0)&&_0x4ebabe['push'](''+chalk[_0x70c330(0xc5)][_0x70c330(0xca)](_0x40cc0a+_0x70c330(0xb7)));_0x48d7de[_0x70c330(0xf1)](_0x1b92bf,0x0)&&_0x4ebabe[_0x70c330(0xe0)](''+chalk[_0x70c330(0xc5)][_0x70c330(0xe4)](_0x1b92bf+_0x70c330(0x100)));_0x48d7de[_0x70c330(0xe3)](_0x168d5f,0x0)&&_0x4ebabe['push'](''+chalk['bold'][_0x70c330(0xe4)](_0x168d5f+_0x70c330(0xb7)));const _0x7cc97b=_0x48d7de['TvuCJ'](_0x48d7de['zyRkD'](_0x48d7de[_0x70c330(0xc4)](_0x2a25bd,'('),_0x4ebabe[_0x70c330(0xee)](',\x20')),')');console['log'](_0x48d7de[_0x70c330(0xd6)](_0x48d7de['JnTaO'](_0x48d7de[_0x70c330(0xe7)](_0x48d7de['YRqVO']('\x0a',_0x1aaa4f),'\x0a'),_0x7cc97b),'\x0a')),_0x48d7de[_0x70c330(0xaa)](_0x3bd9ea,![])&&(_0x618b0b=0x1);}),_0x618b0b;}function a5_0x1330(_0x984ce4,_0x49229c){const _0x43d3f7=a5_0x43d3();return a5_0x1330=function(_0x133030,_0x51f42c){_0x133030=_0x133030-0x9f;let _0x487bb4=_0x43d3f7[_0x133030];return _0x487bb4;},a5_0x1330(_0x984ce4,_0x49229c);}async function run(_0x15f570,_0x51a50c){const _0x4bb530=a5_0x317bfa,_0x38726d={'shUlI':function(_0x96cd2e,_0x130f8b){return _0x96cd2e(_0x130f8b);},'ZHFNT':function(_0x4963d0,_0x38a0c3){return _0x4963d0>_0x38a0c3;},'ieyQu':_0x4bb530(0x103),'bhbJc':_0x4bb530(0xda),'XYmxF':_0x4bb530(0xb5),'jCRBj':_0x4bb530(0xbb),'rCFHM':'cucumber-js','gJGRX':_0x4bb530(0xb1),'VwYPE':function(_0x306b55,_0x42a7c3){return _0x306b55>_0x42a7c3;},'QJNcm':function(_0x37c0aa,_0x2830e2){return _0x37c0aa-_0x2830e2;},'pYyBk':function(_0x384e84,_0x39210d){return _0x384e84>=_0x39210d;},'BIccJ':function(_0x2b0eba,_0xc876b5){return _0x2b0eba!=_0xc876b5;},'vKizQ':_0x4bb530(0xf9),'Fnjmo':function(_0x1d8b4b,_0x221fe4,_0xcc7394,_0x13ad49,_0x4743a2,_0x530f20){return _0x1d8b4b(_0x221fe4,_0xcc7394,_0x13ad49,_0x4743a2,_0x530f20);}},_0x35156b=new BrowserStackSetup(_0x15f570,_0x38726d[_0x4bb530(0xc1)]);await _0x35156b[_0x4bb530(0x108)]();!helper['isBrowserstackInfra']()&&await _0x35156b[_0x4bb530(0xff)]();await helper['handleApp'](_0x35156b[_0x4bb530(0xcd)]);const _0x442c5f=helper['useW3C'](_0x35156b['config']),_0x22225d=helper['prepareCapabilities'](_0x35156b['config'],_0x442c5f,constants[_0x4bb530(0x106)][_0x4bb530(0xb6)]);if(!_0x35156b[_0x4bb530(0xcd)])return;const _0x414bba=_0x35156b[_0x4bb530(0xcd)]['parallelsPerPlatform']||helper[_0x4bb530(0xf7)](_0x15f570,_0x51a50c,_0x35156b['config'],constants[_0x4bb530(0x106)][_0x4bb530(0xb6)])||0x1,_0x3c5cc1={'server':helper[_0x4bb530(0xc0)](_0x35156b[_0x4bb530(0xcd)]),'proxySettings':_0x35156b[_0x4bb530(0xcd)]['proxySettings'],'maxWorkers':_0x414bba,'browserStackLogLevel':_0x35156b[_0x4bb530(0xcd)][_0x4bb530(0xad)],'skipSessionName':_0x35156b[_0x4bb530(0xcd)][_0x4bb530(0x107)][_0x4bb530(0xd2)],'skipSessionStatus':_0x35156b[_0x4bb530(0xcd)][_0x4bb530(0x107)][_0x4bb530(0xd1)],'turboScaleUrl':_0x35156b[_0x4bb530(0xcd)][_0x4bb530(0xf2)]},_0x34783c=process[_0x4bb530(0xbe)],[_0x5b414d,_0x405312]=helper['parseFormatters'](_0x34783c),_0x2cd2ac=path[_0x4bb530(0xee)](process['cwd'](),_0x38726d[_0x4bb530(0xa0)]);if(_0x38726d[_0x4bb530(0xac)](_0x405312[_0x4bb530(0xf8)],0x0)){helper['createDir'](_0x2cd2ac);for(let _0x211381=_0x38726d[_0x4bb530(0xc9)](_0x5b414d[_0x4bb530(0xf8)],0x1);_0x38726d['pYyBk'](_0x211381,0x0);_0x211381--){_0x34783c['splice'](_0x5b414d[_0x211381],0x2);}}!helper[_0x4bb530(0xd5)](_0x35156b['config'][_0x4bb530(0xa1)])&&(process[_0x4bb530(0xc3)][_0x4bb530(0xf3)]=JSON['stringify'](_0x35156b['config']['accessibilityOptions']));_0x38726d['BIccJ'](_0x35156b[_0x4bb530(0xcd)][_0x4bb530(0x9f)],null)?process[_0x4bb530(0xc3)][_0x4bb530(0xbf)]=_0x35156b[_0x4bb530(0xcd)][_0x4bb530(0x9f)]:process[_0x4bb530(0xc3)][_0x4bb530(0xbf)]=_0x38726d[_0x4bb530(0xb9)];const _0x3ebeba=await TestHubHandler[_0x4bb530(0xfd)](constants['FRAMEWORKS'][_0x4bb530(0xb6)],_0x35156b);helper[_0x4bb530(0xf6)]();let _0x494ebf;_0x38726d[_0x4bb530(0xd4)](parallelCucumberRun,_0x22225d,_0x3c5cc1,_0x35156b['config'],_0x34783c,_0x405312)['then'](async _0x17faa4=>{const _0x559c44=_0x4bb530;_0x494ebf=_0x17faa4;const _0x28a856=_0x38726d[_0x559c44(0xa5)](printCucumberStats,_0x17faa4);process[_0x559c44(0x102)]=_0x28a856,_0x38726d[_0x559c44(0xe6)](_0x405312[_0x559c44(0xf8)],0x0)&&(logger[_0x559c44(0xdd)](_0x38726d[_0x559c44(0xeb)]),helper[_0x559c44(0x105)](_0x2cd2ac,_0x405312),logger[_0x559c44(0xdd)](_0x38726d[_0x559c44(0xcf)]),helper['removeDir'](_0x2cd2ac));})[_0x4bb530(0xe2)](async()=>{const _0x423b59=_0x4bb530;_0x35156b['errorMessage']=helper['getErrorMessageFromResults'](_0x494ebf,_0x38726d['XYmxF']),testOpsHelper[_0x423b59(0xfb)]();try{await TestHubHandler[_0x423b59(0xb2)]();}catch(_0x29c16c){logger['debug']('Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20'+util[_0x423b59(0xa7)](_0x29c16c));}try{const {browserstackFolderPath:_0xa3f0f7,tcgConfigPath:_0x440bdf}=helper[_0x423b59(0x10a)]();fs['unlinkSync'](_0x440bdf),fs[_0x423b59(0xd8)](_0xa3f0f7);}catch(_0x2a6feb){logger[_0x423b59(0xdd)](_0x38726d[_0x423b59(0xf0)],_0x2a6feb);}await utilities[_0x423b59(0xe8)](_0x35156b);});}module[a5_0x317bfa(0xb3)]=run;