#!/usr/bin/env node
'use strict';const a33_0x1b9796=a33_0x1d17;(function(_0x45786a,_0x2391f9){const _0x66d82a=a33_0x1d17,_0x168c24=_0x45786a();while(!![]){try{const _0x5d19be=parseInt(_0x66d82a(0x175))/0x1+-parseInt(_0x66d82a(0x199))/0x2*(-parseInt(_0x66d82a(0x167))/0x3)+parseInt(_0x66d82a(0x1ac))/0x4+-parseInt(_0x66d82a(0x1b1))/0x5+-parseInt(_0x66d82a(0x16b))/0x6*(parseInt(_0x66d82a(0x17c))/0x7)+-parseInt(_0x66d82a(0x166))/0x8*(-parseInt(_0x66d82a(0x19a))/0x9)+-parseInt(_0x66d82a(0x1b3))/0xa*(parseInt(_0x66d82a(0x189))/0xb);if(_0x5d19be===_0x2391f9)break;else _0x168c24['push'](_0x168c24['shift']());}catch(_0x140f54){_0x168c24['push'](_0x168c24['shift']());}}}(a33_0x9eda,0xa898e));function a33_0x9eda(){const _0x264708=['port','oLppa','../../helpers/logger','175pkxmAd','nightwatch.conf.js','TibKu','nightwatch.cmd','existsSync','join','XpRub','hub.browserstack.com','mRuxP','forEach','trim','Deleting\x20','zsyhO','30580ucApbU','ntSoj','HUlVm','selenium','CHKql','slice','UWqWL','Pyojh','isUndefined','--env','child\x20process\x20exited\x20with\x20code\x20','config','KwxsU','../../helpers/BrowserStackSetup','wKfnM','exports','70kkWSnA','4650831XcKwhH','ZnNWK','inherit','platforms','filter','findIndex','push','kDhQF','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','close','modifyBrowserStackCaps','start_process','path','stringify','info','child_process','EgRtm','debug','5187876sydBXG','host','fpwVU','BWXTh','modifyBrowserStackW3CCaps','3344660WBHskB','test_settings','5480ImrHMS','--config','env','nightwatch','8YnnGeV','82434KtmtRt','platform','webdriver','KUZId','178692Qdoehu','mergeDeep','nightwatch.json','cwd','nightwatch-browserstack.json','Getting\x20your\x20nightwatch\x20configs\x20from\x20','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','rIIWi','winstonLogger','../utils/constants','852038elWHwe','length','useW3C','GUfwM'];a33_0x9eda=function(){return _0x264708;};return a33_0x9eda();}function a33_0x1d17(_0x5956da,_0x567c3f){const _0x9eda14=a33_0x9eda();return a33_0x1d17=function(_0x1d17cd,_0x30683d){_0x1d17cd=_0x1d17cd-0x165;let _0x4a9bba=_0x9eda14[_0x1d17cd];return _0x4a9bba;},a33_0x1d17(_0x5956da,_0x567c3f);}const fs=require('fs'),path=require(a33_0x1b9796(0x1a6)),{spawn}=require(a33_0x1b9796(0x1a9)),logger=require(a33_0x1b9796(0x17b))[a33_0x1b9796(0x173)],{default:BrowserStackSetup}=require(a33_0x1b9796(0x196)),helper=require('../../helpers/helper'),constants=require(a33_0x1b9796(0x174)),getUserNightwatchConfigs=(_0x226374,_0x4496bb)=>{const _0x259bfd=a33_0x1b9796,_0x522571={'BWXTh':_0x259bfd(0x17d),'fpwVU':_0x259bfd(0x16d),'KwxsU':function(_0x5ed2c3,_0x1ed43c){return _0x5ed2c3(_0x1ed43c);},'wKfnM':_0x259bfd(0x171)};let _0x11a564=null,_0x325d72={};const _0x34991d=_0x4496bb[_0x259bfd(0x19f)](_0x29cac6=>_0x29cac6===_0x259bfd(0x1b4));if(!helper[_0x259bfd(0x191)](_0x226374['config'])&&fs[_0x259bfd(0x180)](path[_0x259bfd(0x181)](process[_0x259bfd(0x16e)](),_0x226374[_0x259bfd(0x194)])))_0x11a564=path[_0x259bfd(0x181)](process[_0x259bfd(0x16e)](),_0x226374[_0x259bfd(0x194)]),_0x4496bb['splice'](_0x34991d,0x2);else{if(fs[_0x259bfd(0x180)](path[_0x259bfd(0x181)](process['cwd'](),_0x522571[_0x259bfd(0x1af)])))_0x11a564=path['join'](process['cwd'](),_0x522571[_0x259bfd(0x1af)]);else fs[_0x259bfd(0x180)](path['join'](process['cwd'](),_0x522571['fpwVU']))&&(_0x11a564=path[_0x259bfd(0x181)](process[_0x259bfd(0x16e)](),_0x522571[_0x259bfd(0x1ae)]));}return _0x11a564?(logger[_0x259bfd(0x1a8)](_0x259bfd(0x170)+_0x11a564),_0x325d72=_0x522571[_0x259bfd(0x195)](require,_0x11a564)):logger[_0x259bfd(0x1a8)](_0x522571[_0x259bfd(0x197)]),_0x325d72;},removeExistingEnvs=_0x3592eb=>{const _0xcb1dd1=a33_0x1b9796,_0x267031={};_0x267031['zsyhO']=function(_0x524759,_0x5a2db9){return _0x524759>_0x5a2db9;},_0x267031['EgRtm']=function(_0x594af8,_0x37d8fa){return _0x594af8>_0x37d8fa;};const _0x54b6ce=_0x267031;let _0x2149a9=_0x3592eb[_0xcb1dd1(0x19f)](_0x163ade=>_0x163ade===_0xcb1dd1(0x192));_0x54b6ce[_0xcb1dd1(0x188)](_0x2149a9,-0x1)&&_0x3592eb['splice'](_0x2149a9,0x2),_0x2149a9=_0x3592eb[_0xcb1dd1(0x19f)](_0x580336=>_0x580336==='-e'),_0x54b6ce[_0xcb1dd1(0x1aa)](_0x2149a9,-0x1)&&_0x3592eb['splice'](_0x2149a9,0x2);};function run(_0x456272,_0x14b6d0){const _0x36206a=a33_0x1b9796,_0x3898a9={'TibKu':_0x36206a(0x165),'ZnNWK':function(_0x26293e,_0x5f59fc){return _0x26293e+_0x5f59fc;},'mRuxP':_0x36206a(0x1b2),'ntSoj':function(_0x51900b,_0x432b1e,_0x58b68c){return _0x51900b(_0x432b1e,_0x58b68c);},'GUfwM':_0x36206a(0x183),'oLppa':_0x36206a(0x1a2),'JNZAI':function(_0x5781bb,_0x1c3be9){return _0x5781bb===_0x1c3be9;},'KUZId':_0x36206a(0x16f),'CHKql':function(_0x298b51,_0x369f50){return _0x298b51(_0x369f50);},'kDhQF':function(_0x3e62d0,_0x48c507,_0x4b1714,_0x30cd7a){return _0x3e62d0(_0x48c507,_0x4b1714,_0x30cd7a);},'UWqWL':_0x36206a(0x17f),'nQTzq':_0x36206a(0x1b4),'rIIWi':'--env','zOOCr':_0x36206a(0x19c),'Pyojh':_0x36206a(0x1a3)},_0x38aa13=new BrowserStackSetup(_0x456272);if(!_0x38aa13['config'])return;const _0x1173bc=_0x3898a9[_0x36206a(0x18a)](getUserNightwatchConfigs,_0x456272,_0x14b6d0),_0x4258f4={};_0x4258f4[_0x36206a(0x1a5)]=![];const _0x32af27={};_0x32af27[_0x36206a(0x1ad)]=_0x3898a9[_0x36206a(0x178)],_0x32af27[_0x36206a(0x179)]=0x1bb;const _0x5b4205={};_0x5b4205[_0x36206a(0x169)]=_0x4258f4,_0x5b4205[_0x36206a(0x18c)]=_0x32af27;const _0xd17091=_0x5b4205;logger['info'](_0x3898a9[_0x36206a(0x17a)]);const _0x5cbcc9={..._0x1173bc},_0x3f68b4=_0x5cbcc9,_0x44efa9=helper[_0x36206a(0x177)](_0x38aa13[_0x36206a(0x194)]),_0x119832=[];_0x38aa13[_0x36206a(0x194)][_0x36206a(0x19d)]['forEach']((_0x21ad89,_0x32cc1d)=>{const _0x43aef1=_0x36206a;_0x44efa9?_0x119832['push'](helper[_0x43aef1(0x1b0)](_0x38aa13[_0x43aef1(0x194)],_0x3898a9[_0x43aef1(0x17e)],_0x32cc1d)):_0x119832[_0x43aef1(0x1a0)](helper[_0x43aef1(0x1a4)](_0x38aa13[_0x43aef1(0x194)],_0x3898a9['TibKu'],_0x32cc1d));});const _0xe58970={},_0x336c50=[];_0x456272[_0x36206a(0x1b5)]=_0x456272[_0x36206a(0x1b5)]||_0x456272['e'];const _0x1e3826=_0x456272[_0x36206a(0x1b5)]?_0x456272[_0x36206a(0x1b5)]['trim']()['split'](',')['map'](_0x3e3537=>_0x3e3537[_0x36206a(0x186)]())[_0x36206a(0x19e)](_0x3b51a8=>_0x3b51a8!==''):[''];_0x3898a9['JNZAI'](_0x1e3826[_0x36206a(0x176)],0x0)&&_0x1e3826[_0x36206a(0x1a0)]('');_0x1e3826[_0x36206a(0x185)](_0x2a1e8d=>{const _0x342b4e=_0x36206a,_0xcce8e0={'HUlVm':function(_0x3f101d,_0x1d34f7){const _0x319a51=a33_0x1d17;return _0x3898a9[_0x319a51(0x19b)](_0x3f101d,_0x1d34f7);},'XpRub':_0x3898a9[_0x342b4e(0x184)]};_0x119832['forEach'](_0x331cd5=>{const _0x3383f9=_0x342b4e;let _0x28e4ec=_0xcce8e0[_0x3383f9(0x18b)](helper['getPlatformName'](_0x331cd5,'_'),'_'+Date['now']());_0x2a1e8d&&(_0x28e4ec+='_'+_0x2a1e8d);if(_0x2a1e8d&&(!_0x1173bc[_0xcce8e0[_0x3383f9(0x182)]]||!_0x1173bc[_0xcce8e0['XpRub']][_0x2a1e8d]))return;const _0xb6c34={..._0xd17091};_0xb6c34['desiredCapabilities']=_0x331cd5;const _0x265045=_0xb6c34;_0xe58970[_0x28e4ec]=_0x2a1e8d?helper[_0x3383f9(0x16c)](_0x1173bc[_0xcce8e0[_0x3383f9(0x182)]][_0x2a1e8d],_0x265045):_0x265045,_0x336c50[_0x3383f9(0x1a0)](_0x28e4ec);});});!_0x3f68b4[_0x36206a(0x1b2)]&&(_0x3f68b4[_0x36206a(0x1b2)]={});_0x3f68b4[_0x36206a(0x1b2)]={..._0x3f68b4[_0x36206a(0x1b2)],..._0xe58970};const _0x2ef17a=path[_0x36206a(0x181)](__dirname,_0x3898a9[_0x36206a(0x16a)]);fs['writeFileSync'](_0x2ef17a,JSON[_0x36206a(0x1a7)](_0x3f68b4)),_0x3898a9[_0x36206a(0x18d)](removeExistingEnvs,_0x14b6d0);const _0x1ae865=_0x3898a9[_0x36206a(0x1a1)](spawn,/^win/['test'](process[_0x36206a(0x168)])?_0x3898a9[_0x36206a(0x18f)]:_0x3898a9[_0x36206a(0x17e)],[_0x3898a9['nQTzq'],_0x2ef17a,..._0x14b6d0[_0x36206a(0x18e)](0x1),_0x3898a9[_0x36206a(0x172)],_0x336c50[_0x36206a(0x181)](',')],{'stdio':_0x3898a9['zOOCr']});_0x1ae865['on'](_0x3898a9[_0x36206a(0x190)],async _0x5ef0b2=>{const _0x3efc7d=_0x36206a;logger[_0x3efc7d(0x1ab)](_0x3efc7d(0x193)+_0x5ef0b2),logger['info'](_0x3efc7d(0x187)+_0x2ef17a),fs['unlinkSync'](_0x2ef17a);});}module[a33_0x1b9796(0x198)]=run;