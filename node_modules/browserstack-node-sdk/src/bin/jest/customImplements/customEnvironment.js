const a16_0x51e4ee=a16_0x351e;function a16_0x3f0c(){const _0x169907=['getInstance','percy','1434035EEtckp','KQixm','jest-config','browserstackPercyBestPlatform','getTestEnvironment','../../../helpers/test-observability/requestQueueHandler','shutdown','gnZDH','split','BSTACK_JEST_TEST_ENV','XrfXZ','KuATa','../../../helpers/testhub/utils','percyCaptureMode','../../../helpers/test-observability/utils','jest-environment-node','Tjyhb','QhRFw','quit','240bCPgbN','LLSmm','DkKGd','global','1mGNVFR','450430JwXXnZ','4|2|1|3|0','828684TTNiua','EcxVk','modifyCommand','cwd','cleanup','setup','PYPSA','test','capability','cleanupDrivers','TSUbN','__platformCaps','../test-observability/obsReporter','default','nestedKeyValue','browserStackPercyOptions','isTrue','framework','19044XSLGsq','__timeout','sessionNameProvided','__skipSessionStatus','requireModule','__webdriver','isBrowserstackInfra','Builder','bGztc','akNqT','390rDDDwh','2396bEPSEi','109043XhyGdH','configuration','test_start','resolveTestEnvironment','20OOqZWD','registerListeners','projectConfig','329UDeuGw','sZxXz','handleTestEvent','skipSessionName','platformCaps','shouldProcessEventForTesthub','driver','skipSessionStatus','timeout__','puBAc','browserstackPlatformIndex','xGFIV','rbPWE','FRAMEWORKS','requireSeleniumWebdriver','40016OwOuKd','../../../helpers/helper','testEnvironmentOptions','../../utils/constants'];a16_0x3f0c=function(){return _0x169907;};return a16_0x3f0c();}(function(_0x4e244c,_0x4feb56){const _0x596016=a16_0x351e,_0x11ada1=_0x4e244c();while(!![]){try{const _0x59a62b=parseInt(_0x596016(0x19c))/0x1*(parseInt(_0x596016(0x19d))/0x2)+-parseInt(_0x596016(0x1bb))/0x3*(parseInt(_0x596016(0x1bc))/0x4)+-parseInt(_0x596016(0x1d9))/0x5+-parseInt(_0x596016(0x19f))/0x6+parseInt(_0x596016(0x1c4))/0x7*(parseInt(_0x596016(0x1d3))/0x8)+parseInt(_0x596016(0x1b1))/0x9*(-parseInt(_0x596016(0x1c1))/0xa)+-parseInt(_0x596016(0x1bd))/0xb*(-parseInt(_0x596016(0x198))/0xc);if(_0x59a62b===_0x4feb56)break;else _0x11ada1['push'](_0x11ada1['shift']());}catch(_0x3f1e6b){_0x11ada1['push'](_0x11ada1['shift']());}}}(a16_0x3f0c,0x24ffa));const helper=require(a16_0x51e4ee(0x1d4)),constants=require(a16_0x51e4ee(0x1d6)),{isTestObservabilitySession}=require(a16_0x51e4ee(0x193)),RequestQueueHandler=require(a16_0x51e4ee(0x1de)),ObservabilityReporter=require(a16_0x51e4ee(0x1ab)),testhubUtils=require(a16_0x51e4ee(0x191)),getTestEnvironment=((()=>{const _0x3063b3=a16_0x51e4ee,_0x5e9964={};_0x5e9964['TSUbN']='jest-resolve',_0x5e9964[_0x3063b3(0x1cf)]=_0x3063b3(0x1db);const _0x449ce4=_0x5e9964;try{const _0x482d66=helper[_0x3063b3(0x1b5)](_0x449ce4[_0x3063b3(0x1a9)]);if(_0x482d66[_0x3063b3(0x1c0)])return _0x482d66[_0x3063b3(0x1c0)];const _0x2ccd5f=helper['requireModule'](_0x449ce4['xGFIV']);if(_0x2ccd5f[_0x3063b3(0x1dd)])return _0x2ccd5f[_0x3063b3(0x1dd)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x598bbc=a16_0x51e4ee,_0x5ba7a7={'gnZDH':function(_0x55a636,_0x1c71b7){return _0x55a636(_0x1c71b7);},'QhRFw':'node','HNcar':_0x598bbc(0x194),'KQixm':function(_0x2cfbe7,_0xe233a4){return _0x2cfbe7(_0xe233a4);}},_0x34b4f4=_0x5ba7a7[_0x598bbc(0x18c)](getTestEnvironment,{'rootDir':process[_0x598bbc(0x1a2)](),'testEnvironment':process['env'][_0x598bbc(0x18e)]||_0x5ba7a7[_0x598bbc(0x196)]});if(!_0x34b4f4)return _0x5ba7a7['gnZDH'](_interopRequireDefault,helper['requireModule'](_0x5ba7a7['HNcar']));return _0x5ba7a7[_0x598bbc(0x1da)](_interopRequireDefault,helper[_0x598bbc(0x1b5)](_0x34b4f4));})()),_seleniumWebdriver2=((()=>{const _0xae4ed2=a16_0x51e4ee,_0x321288={'XrfXZ':function(_0x59c714,_0x2afd28){return _0x59c714(_0x2afd28);}};try{const _0x2ddcf9=helper[_0xae4ed2(0x1d2)]();return helper[_0xae4ed2(0x1a1)](),_0x321288[_0xae4ed2(0x18f)](_interopRequireDefault,_0x2ddcf9);}catch{return null;}})());function a16_0x351e(_0x554f54,_0x4fe7f7){const _0x3f0ce1=a16_0x3f0c();return a16_0x351e=function(_0x351e54,_0x4a011c){_0x351e54=_0x351e54-0x18b;let _0x44b975=_0x3f0ce1[_0x351e54];return _0x44b975;},a16_0x351e(_0x554f54,_0x4fe7f7);}function _interopRequireDefault(_0x566284){return _0x566284&&_0x566284['__esModule']?_0x566284:{'default':_0x566284};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x51e4ee(0x1ac)]['Builder']:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x51e4ee(0x1ac)]{constructor(_0x7a6ee8){const _0x3e0c12=a16_0x51e4ee,_0xad87af={'bGztc':_0x3e0c12(0x197),'aGpHR':_0x3e0c12(0x19e),'BwfnF':function(_0x24963b,_0x5dd7fd){return _0x24963b+_0x5dd7fd;},'puBAc':'4|6|1|0|5|8|7|3|2|9','rbPWE':'testEnvironmentOptions','PYPSA':_0x3e0c12(0x1ae),'Tjyhb':_0x3e0c12(0x1dc),'EcxVk':_0x3e0c12(0x1d8),'akNqT':function(_0x5c0e85,_0x19f0f5){return _0x5c0e85(_0x19f0f5);},'LLSmm':'../../../index','sZxXz':_0x3e0c12(0x1c8),'wPMip':_0x3e0c12(0x192)};super(_0x7a6ee8),this[_0x3e0c12(0x19b)]['__timeout']=0x0,this[_0x3e0c12(0x1be)]={};!_0x7a6ee8['testEnvironmentOptions']&&(_0x7a6ee8['testEnvironmentOptions']={});if(helper[_0x3e0c12(0x1b7)]()){const _0x38d5bf=_0xad87af['aGpHR'][_0x3e0c12(0x18d)]('|');let _0x4778bf=0x0;while(!![]){switch(_0x38d5bf[_0x4778bf++]){case'0':this[_0x3e0c12(0x19b)][_0x3e0c12(0x1b2)]=_0xad87af['BwfnF'](this['configuration'][_0x3e0c12(0x1cc)],constants['BSTACK_DELTA']);continue;case'1':this[_0x3e0c12(0x1be)]=_0x7a6ee8['testEnvironmentOptions'];continue;case'2':this['builder']=new _seleniumWebdriver2[(_0x3e0c12(0x1ac))][(_0x3e0c12(0x1b8))]();continue;case'3':this[_0x3e0c12(0x1a7)]=_0x7a6ee8[_0x3e0c12(0x1c3)]?_0x7a6ee8[_0x3e0c12(0x1c3)]['capability']:_0x7a6ee8[_0x3e0c12(0x1a7)];continue;case'4':_0x7a6ee8[_0x3e0c12(0x1d5)]=_0x7a6ee8[_0x3e0c12(0x1c3)]?_0x7a6ee8['projectConfig'][_0x3e0c12(0x1d5)]:_0x7a6ee8['testEnvironmentOptions'];continue;}break;}}if(testhubUtils[_0x3e0c12(0x1c9)]()){const _0x29df40=new ObservabilityReporter();_0x29df40[_0x3e0c12(0x1c2)]();}this[_0x3e0c12(0x19b)]['browserStackGlobals']={},this[_0x3e0c12(0x1be)][_0x3e0c12(0x1b0)]=constants[_0x3e0c12(0x1d1)]['JEST'];if(_seleniumWebdriver2){const _0x25d516=_0xad87af[_0x3e0c12(0x1cd)][_0x3e0c12(0x18d)]('|');let _0xf0dabb=0x0;while(!![]){switch(_0x25d516[_0xf0dabb++]){case'0':this['global'][_0x3e0c12(0x1dc)]=helper[_0x3e0c12(0x1ad)](_0x7a6ee8,[_0xad87af['rbPWE'],_0xad87af[_0x3e0c12(0x1a5)],_0xad87af[_0x3e0c12(0x195)]]);continue;case'1':this['global'][_0x3e0c12(0x1ce)]=(_0x7a6ee8['projectConfig']?_0x7a6ee8[_0x3e0c12(0x1c3)]['browserstackPlatformIndex']:_0x7a6ee8[_0x3e0c12(0x1ce)])||0x0;continue;case'2':this[_0x3e0c12(0x19b)][_0x3e0c12(0x1b4)]=helper['isTrue'](this['configuration'][_0x3e0c12(0x1cb)]);continue;case'3':helper[_0x3e0c12(0x1af)](this[_0x3e0c12(0x1be)][_0x3e0c12(0x1c7)])?this[_0x3e0c12(0x19b)][_0x3e0c12(0x1b3)]=!![]:this[_0x3e0c12(0x19b)][_0x3e0c12(0x1b3)]=![];continue;case'4':this['global']['__drivers']=[];continue;case'5':this[_0x3e0c12(0x19b)][_0x3e0c12(0x1d8)]=helper[_0x3e0c12(0x1ad)](_0x7a6ee8,[_0xad87af['rbPWE'],_0xad87af[_0x3e0c12(0x1a5)],_0xad87af[_0x3e0c12(0x1a0)]]);continue;case'6':this[_0x3e0c12(0x19b)][_0x3e0c12(0x1b6)]=_0xad87af[_0x3e0c12(0x1ba)](require,_0xad87af[_0x3e0c12(0x199)])['browserstackAgentV2']({...this[_0x3e0c12(0x1be)],'capability':this['capability']||{}},this,testhubUtils['shouldProcessEventForTesthub']());continue;case'7':this[_0x3e0c12(0x19b)][_0x3e0c12(0x1aa)]=helper['nestedKeyValue'](this[_0x3e0c12(0x1be)],[_0xad87af[_0x3e0c12(0x1c5)],this[_0x3e0c12(0x19b)]['browserstackPlatformIndex']])||{};continue;case'8':this[_0x3e0c12(0x19b)][_0x3e0c12(0x192)]=helper[_0x3e0c12(0x1ad)](_0x7a6ee8,[_0xad87af[_0x3e0c12(0x1d0)],_0xad87af['PYPSA'],_0xad87af['wPMip']]);continue;case'9':this[_0x3e0c12(0x19b)][_0x3e0c12(0x1a3)]=async()=>{const _0x2e7d54=_0x3e0c12;await this[_0x2e7d54(0x19b)][_0x2e7d54(0x1ca)][_0x2e7d54(0x197)](_0xad87af[_0x2e7d54(0x1b9)]);};continue;}break;}}}async['teardown'](){const _0x5b0cb2=a16_0x51e4ee;_seleniumWebdriver2&&(await helper[_0x5b0cb2(0x1a8)](this['global']['__driversArray']),this['global'][_0x5b0cb2(0x1b6)]['Builder']=originalBuilder),await RequestQueueHandler[_0x5b0cb2(0x1d7)]()[_0x5b0cb2(0x18b)]();}async[a16_0x51e4ee(0x1a4)](){}async[a16_0x51e4ee(0x1c6)](_0x38452c,_0x1173c1){const _0x3603f9=a16_0x51e4ee,_0x2935c1={};_0x2935c1[_0x3603f9(0x19a)]=function(_0x36bb6d,_0x5ee560){return _0x36bb6d===_0x5ee560;},_0x2935c1['KuATa']=_0x3603f9(0x1bf);const _0x80f623=_0x2935c1,{name:_0x3a6d5b}=_0x38452c;_0x80f623[_0x3603f9(0x19a)](_0x3a6d5b,_0x80f623[_0x3603f9(0x190)])&&(this[_0x3603f9(0x19b)]['testContext']=_0x38452c[_0x3603f9(0x1a6)]);}}module['exports']=CustomEnvironment;