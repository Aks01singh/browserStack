const a46_0x4ba744=a46_0x3ce7;function a46_0x3ce7(_0x14e4b9,_0x10f65e){const _0xe74d17=a46_0xe74d();return a46_0x3ce7=function(_0x3ce7e9,_0xc5ff9d){_0x3ce7e9=_0x3ce7e9-0x116;let _0x2c6c3d=_0xe74d17[_0x3ce7e9];return _0x2c6c3d;},a46_0x3ce7(_0x14e4b9,_0x10f65e);}(function(_0x4d59b4,_0x375b36){const _0x2a5374=a46_0x3ce7,_0x36bfb6=_0x4d59b4();while(!![]){try{const _0x432ea9=-parseInt(_0x2a5374(0x15f))/0x1+-parseInt(_0x2a5374(0x139))/0x2+parseInt(_0x2a5374(0x14f))/0x3+parseInt(_0x2a5374(0x12e))/0x4+-parseInt(_0x2a5374(0x142))/0x5*(parseInt(_0x2a5374(0x164))/0x6)+parseInt(_0x2a5374(0x165))/0x7+parseInt(_0x2a5374(0x12d))/0x8*(parseInt(_0x2a5374(0x16b))/0x9);if(_0x432ea9===_0x375b36)break;else _0x36bfb6['push'](_0x36bfb6['shift']());}catch(_0x275591){_0x36bfb6['push'](_0x36bfb6['shift']());}}}(a46_0xe74d,0xa40a0));const Worker=require('jest-worker')[a46_0x4ba744(0x128)],Emittery=require(a46_0x4ba744(0x149)),pLimit=require(a46_0x4ba744(0x15d)),util=require(a46_0x4ba744(0x155)),logger=require('../../helpers/logger')['winstonLogger'],{debug}=require('../../helpers/test-observability/utils'),TestHubHandler=require('../../helpers/testhub/testhubHandler'),{FRAMEWORKS}=require(a46_0x4ba744(0x116));function a46_0xe74d(){const _0x379905=['cqvLI','info','p-limit','kgTCh','1268841mHvKAa','parallelVanillaRun','vHJoD','cucumberWorker','results','6kaaady','2930382FqzZsR','ZjIGC','then','Running\x20','MLkgg','_workerPool','1263474loNjvj','_child','log','parallelTestRun','map','kkGde','platform-run-success','mmSOm','../../helpers/test-observability/constants','IMSAS','stop','send','vanillaWorker','platform','YUHyZ','ODsfH','XvKYM','getStdout','JMvwn','failureCount','hRwLY','file','clnTb','PHZbL','json','qZLql','Worker','config','Workers\x20failed\x20to\x20exit\x20gracefully','ZLXLq','stderr','8gZMYtO','4174972megidu','error','aNBeu','getStderr','emit','./testWorker.js','launchBuild','veqbU','JtgCR','end','waitForExit','70346QkUitw','test-file-failure','platform-run-start','stdout','getWorkers','DJOJm','all','KTkeG','exit','2477865RMQTTU','test-file-success','resolve','cCOrd','pipe','WPBnF','MOCHA','emittery','length','NhcFv','push','exitCode','avKXv','2606208tEjcTv','fpsTS','djwSO','parallelCucumberRun','WrtGG','configuration','util','Ejley','EavPo','worker','platform-run-failure','eKOME'];a46_0xe74d=function(){return _0x379905;};return a46_0xe74d();}exports[a46_0x4ba744(0x16e)]=(_0x336017,_0x47a88c,_0x38dcc7)=>new Promise(async _0x2190d3=>{const _0x50b732=a46_0x4ba744,_0x4c2222={'fpsTS':_0x50b732(0x121),'avKXv':function(_0x41f3ca,_0x1b11eb){return _0x41f3ca+_0x1b11eb;},'Ejley':_0x50b732(0x163),'TqhCQ':_0x50b732(0x12a),'KTkeG':function(_0x3e5dcf,_0x29b691){return _0x3e5dcf(_0x29b691);},'YUHyZ':'test-file-start','qZLql':_0x50b732(0x133),'ZjIGC':_0x50b732(0x158),'hRwLY':'json','NhcFv':_0x50b732(0x146),'XvKYM':function(_0x19ab7c,_0x4cfa16){return _0x19ab7c*_0x4cfa16;},'aNBeu':_0x50b732(0x143),'cuzBz':_0x50b732(0x13a),'GGxBH':function(_0x2c9f52,_0x35fbb5){return _0x2c9f52(_0x35fbb5);}},_0x908c22=_0x38dcc7[_0x50b732(0x129)],_0x49360b={},_0x467ec0=await TestHubHandler[_0x50b732(0x134)](FRAMEWORKS[_0x50b732(0x148)],_0x38dcc7),_0x30fce7=new Worker(require[_0x50b732(0x144)](_0x4c2222[_0x50b732(0x127)]),{'exposedMethods':[_0x4c2222[_0x50b732(0x166)]],'forkOptions':{'serialization':_0x4c2222[_0x50b732(0x122)],'stdio':_0x4c2222[_0x50b732(0x14b)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x4c2222[_0x50b732(0x11e)](_0x47a88c,0x1),'enableWorkerThreads':!![]}),_0x3be801=new Emittery();_0x3be801['on'](_0x4c2222[_0x50b732(0x130)],_0x421918=>{const _0x183cd0=_0x50b732;_0x49360b[_0x421918[0x0]]?(_0x49360b[_0x421918[0x0]][_0x4c2222[_0x183cd0(0x150)]]=_0x4c2222[_0x183cd0(0x14e)](_0x49360b[_0x421918[0x0]][_0x4c2222[_0x183cd0(0x150)]],_0x421918[0x1][_0x4c2222[_0x183cd0(0x150)]]),_0x49360b[_0x421918[0x0]][_0x4c2222[_0x183cd0(0x156)]]=[..._0x49360b[_0x421918[0x0]][_0x4c2222[_0x183cd0(0x156)]],..._0x421918[0x1][_0x4c2222[_0x183cd0(0x156)]]]):_0x49360b[_0x421918[0x0]]={'failureCount':_0x421918[0x1][_0x4c2222[_0x183cd0(0x150)]],'results':[..._0x421918[0x1][_0x4c2222[_0x183cd0(0x156)]]]};}),_0x3be801['on'](_0x4c2222['cuzBz'],_0x2c5de9=>console[_0x50b732(0x16d)](_0x2c5de9[0x1]));_0x30fce7['getStdout']()&&_0x30fce7[_0x50b732(0x11f)]()[_0x50b732(0x146)](process[_0x50b732(0x13c)]);_0x30fce7[_0x50b732(0x131)]()&&_0x30fce7[_0x50b732(0x131)]()['pipe'](process['stderr']);const _0xac074b=async()=>{const _0x1fb7de=_0x50b732,{forceExited:_0x39a7c2}=await _0x30fce7['end']();_0x39a7c2&&console[_0x1fb7de(0x12f)](_0x4c2222['TqhCQ']);try{await TestHubHandler[_0x1fb7de(0x118)]();}catch(_0x3895b){_0x4c2222[_0x1fb7de(0x140)](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20'+_0x3895b);}_0x4c2222[_0x1fb7de(0x140)](_0x2190d3,_0x49360b);},_0x45d17f=_0x4c2222['GGxBH'](pLimit,_0x4c2222[_0x50b732(0x11e)](_0x47a88c,0x1)),_0x3f8035=_0x3c25c2=>_0x45d17f(async()=>{const _0x441a6b=_0x50b732;return await _0x3be801[_0x441a6b(0x132)](_0x4c2222[_0x441a6b(0x11c)],_0x3c25c2),_0x30fce7[_0x441a6b(0x158)](_0x3c25c2,_0x908c22);});Promise[_0x50b732(0x13f)](_0x336017[_0x50b732(0x16f)](_0x543f53=>_0x3f8035(_0x543f53)[_0x50b732(0x167)](_0x2396e4=>_0x3be801[_0x50b732(0x132)](_0x50b732(0x143),[_0x543f53['configuration'][_0x50b732(0x11b)],_0x2396e4]),_0x3145f2=>_0x3be801[_0x50b732(0x132)](_0x50b732(0x13a),[_0x543f53,_0x3145f2]))))['then'](_0xac074b,_0xac074b);}),exports[a46_0x4ba744(0x152)]=(_0x7abab,_0x31bdaf,_0xe2ee06,_0x443dc8,_0x29cc47)=>{const _0x632a69=a46_0x4ba744,_0x35a678={'PHZbL':_0x632a69(0x13b),'WrtGG':'Workers\x20failed\x20to\x20exit\x20gracefully','EavPo':function(_0x5678f4,_0x5df6ca){return _0x5678f4(_0x5df6ca);},'clnTb':'./testWorker.js','eKOME':_0x632a69(0x162),'cCOrd':'json','ZLXLq':_0x632a69(0x146),'IMSAS':_0x632a69(0x171),'ODsfH':_0x632a69(0x159)};return new Promise(_0x3d4e86=>{const _0x3808cd=_0x632a69,_0x2cf300={'MLkgg':_0x35a678[_0x3808cd(0x153)],'vHJoD':function(_0x1c8e48,_0x38c592){const _0x2f32dd=_0x3808cd;return _0x35a678[_0x2f32dd(0x157)](_0x1c8e48,_0x38c592);}},_0xd57872=[],_0x3e6d14=new Worker(require[_0x3808cd(0x144)](_0x35a678[_0x3808cd(0x124)]),{'exposedMethods':[_0x35a678[_0x3808cd(0x15a)]],'forkOptions':{'serialization':_0x35a678[_0x3808cd(0x145)],'stdio':_0x35a678[_0x3808cd(0x12b)]},'numWorkers':_0x7abab['length']||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0xbe64b4=new Emittery();_0xbe64b4['on'](_0x35a678[_0x3808cd(0x117)],_0xc2d97f=>{const _0x5246b1=_0x3808cd;_0xd57872[_0x5246b1(0x14c)]([_0xc2d97f[0x0],_0xc2d97f[0x1]]);}),_0xbe64b4['on'](_0x35a678[_0x3808cd(0x11d)],_0xeaf0bb=>console[_0x3808cd(0x16d)](_0xeaf0bb[0x1]));_0x3e6d14[_0x3808cd(0x11f)]()&&_0x3e6d14[_0x3808cd(0x11f)]()[_0x3808cd(0x146)](process[_0x3808cd(0x13c)]);_0x3e6d14['getStderr']()&&_0x3e6d14[_0x3808cd(0x131)]()[_0x3808cd(0x146)](process[_0x3808cd(0x12c)]);const _0x18579c=async()=>{const _0x46e042=_0x3808cd,{forceExited:_0x47b50e}=await _0x3e6d14[_0x46e042(0x137)]();_0x47b50e&&console[_0x46e042(0x12f)](_0x2cf300[_0x46e042(0x169)]),_0x2cf300[_0x46e042(0x161)](_0x3d4e86,_0xd57872);},_0x2dd2c6=_0x35a678['EavPo'](pLimit,_0x7abab[_0x3808cd(0x14a)]||0x1),_0x4f6a9b=(_0x56ac07,_0xb52782)=>_0x2dd2c6(async()=>{const _0x4a8645=_0x3808cd;return await _0xbe64b4[_0x4a8645(0x132)](_0x35a678[_0x4a8645(0x125)],_0x56ac07),_0x31bdaf['platformCaps']=_0xe2ee06['platforms'][_0xb52782],_0x3e6d14[_0x4a8645(0x162)](_0x56ac07,_0x31bdaf,_0xe2ee06,_0x443dc8,_0x29cc47);});Promise[_0x3808cd(0x13f)](_0x7abab[_0x3808cd(0x16f)]((_0x4d89ea,_0xef07ae)=>_0x4f6a9b(_0x4d89ea,_0xef07ae)[_0x3808cd(0x167)](_0x35560f=>_0xbe64b4[_0x3808cd(0x132)](_0x3808cd(0x171),[_0x4d89ea,_0x35560f]),_0x913add=>_0xbe64b4[_0x3808cd(0x132)](_0x3808cd(0x159),[_0x4d89ea,_0x913add]))))['then'](_0x18579c,_0x18579c);});},exports[a46_0x4ba744(0x160)]=(_0x19f478,_0x278856)=>new Promise(_0x57b3ef=>{const _0x3e5d17=a46_0x4ba744,_0x432bd8={'geGcZ':_0x3e5d17(0x141),'kgTCh':function(_0x3a9411,_0x5540da){return _0x3a9411===_0x5540da;},'EDZWj':function(_0x134db9,_0x58fccd){return _0x134db9!==_0x58fccd;},'JtgCR':'Workers\x20failed\x20to\x20exit\x20gracefully','veqbU':function(_0x2f454,_0x4b7255){return _0x2f454(_0x4b7255);},'WPBnF':'./testWorker.js','DJOJm':_0x3e5d17(0x11a),'dHIOq':_0x3e5d17(0x126),'JMvwn':_0x3e5d17(0x146),'cqvLI':_0x3e5d17(0x143),'mmSOm':_0x3e5d17(0x13a),'kkGde':function(_0xb9bb76,_0x481758){return _0xb9bb76(_0x481758);}},_0x4ed0b7={},_0x11aece=new Worker(require[_0x3e5d17(0x144)](_0x432bd8[_0x3e5d17(0x147)]),{'exposedMethods':[_0x432bd8[_0x3e5d17(0x13e)]],'forkOptions':{'serialization':_0x432bd8['dHIOq'],'stdio':_0x432bd8[_0x3e5d17(0x120)]},'numWorkers':_0x278856,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x4bb5b6=new Emittery();_0x4bb5b6['on'](_0x432bd8[_0x3e5d17(0x15b)],_0x4a949a=>{const _0x1a6979=_0x3e5d17;_0x4a949a[0x0]&&logger[_0x1a6979(0x15c)](_0x1a6979(0x168)+_0x4a949a[0x1]+'\x20for',_0x4a949a[0x0]);}),_0x4bb5b6['on'](_0x432bd8[_0x3e5d17(0x172)],_0x597477=>{const _0x5cef23=_0x3e5d17;process[_0x5cef23(0x14d)]=0x1;});_0x11aece[_0x3e5d17(0x11f)]()&&_0x11aece[_0x3e5d17(0x11f)]()[_0x3e5d17(0x146)](process['stdout']);_0x11aece['getStderr']()&&_0x11aece[_0x3e5d17(0x131)]()[_0x3e5d17(0x146)](process['stderr']);const _0x4e6055=async()=>{const _0x5e3881=_0x3e5d17,_0x46294d={'rrItV':function(_0x5ddb16,_0x135c1e){const _0x12f276=a46_0x3ce7;return _0x432bd8[_0x12f276(0x15e)](_0x5ddb16,_0x135c1e);},'djwSO':function(_0x15f795,_0x4cff2f){return _0x432bd8['EDZWj'](_0x15f795,_0x4cff2f);}};let _0x3c3933=0x0;const _0x3e0bdd=_0x11aece[_0x5e3881(0x16a)][_0x5e3881(0x13d)](),_0x1a1e1a=()=>{},_0x5574d0=_0x3e0bdd[_0x5e3881(0x16f)](async _0x38f06c=>{const _0x386ede=_0x5e3881;_0x38f06c[_0x386ede(0x119)]([0x2,![]],_0x1a1e1a,_0x1a1e1a,_0x1a1e1a),_0x38f06c[_0x386ede(0x16c)]['on'](_0x432bd8['geGcZ'],_0x466fc0=>{const _0x1d070e=_0x386ede;_0x46294d['rrItV'](_0x3c3933,0x0)&&_0x46294d[_0x1d070e(0x151)](_0x466fc0,0x0)&&(_0x3c3933=_0x466fc0);}),await _0x38f06c[_0x386ede(0x138)]();});await Promise[_0x5e3881(0x13f)](_0x5574d0),process['exitCode']=_0x3c3933;const {forceExited:_0x30aebb}=await _0x11aece[_0x5e3881(0x137)]();_0x30aebb&&console[_0x5e3881(0x12f)](_0x432bd8[_0x5e3881(0x136)]),_0x432bd8[_0x5e3881(0x135)](_0x57b3ef,_0x4ed0b7);},_0x487f38=_0x432bd8[_0x3e5d17(0x170)](pLimit,_0x278856),_0x309b08=_0x3a1a04=>_0x487f38(async()=>{const _0x513df1=_0x3e5d17;return _0x11aece[_0x513df1(0x11a)](_0x3a1a04);});Promise[_0x3e5d17(0x13f)](_0x19f478[_0x3e5d17(0x16f)](_0x489485=>_0x309b08(_0x489485)[_0x3e5d17(0x167)](_0x20d32c=>_0x4bb5b6[_0x3e5d17(0x132)](_0x3e5d17(0x143),[_0x489485[_0x3e5d17(0x154)]['platform'],_0x489485[_0x3e5d17(0x154)][_0x3e5d17(0x123)]]),_0x3c8787=>_0x4bb5b6[_0x3e5d17(0x132)]('test-file-failure',[_0x489485,_0x3c8787]))))[_0x3e5d17(0x167)](_0x4e6055,_0x4e6055);});