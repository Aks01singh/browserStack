#!/usr/bin/env node

const a45_0x4c77f0=a45_0x1180;(function(_0x563ac1,_0x18da25){const _0x536710=a45_0x1180,_0x11f1f9=_0x563ac1();while(!![]){try{const _0x58edf3=-parseInt(_0x536710(0xda))/0x1*(parseInt(_0x536710(0x10d))/0x2)+-parseInt(_0x536710(0x124))/0x3*(-parseInt(_0x536710(0x115))/0x4)+-parseInt(_0x536710(0x116))/0x5*(-parseInt(_0x536710(0x102))/0x6)+-parseInt(_0x536710(0xfc))/0x7*(parseInt(_0x536710(0x100))/0x8)+-parseInt(_0x536710(0xf6))/0x9*(parseInt(_0x536710(0x108))/0xa)+-parseInt(_0x536710(0xe2))/0xb+-parseInt(_0x536710(0xe5))/0xc*(-parseInt(_0x536710(0xef))/0xd);if(_0x58edf3===_0x18da25)break;else _0x11f1f9['push'](_0x11f1f9['shift']());}catch(_0x2cc4fe){_0x11f1f9['push'](_0x11f1f9['shift']());}}}(a45_0x4c4c,0x5fbbd));const fs=require('fs'),helper=require('../helpers/helper'),utilities=require(a45_0x4c77f0(0x117)),yaml=require('js-yaml'),yargs=require(a45_0x4c77f0(0x111)),logger=require(a45_0x4c77f0(0x104))[a45_0x4c77f0(0xe4)],configFileTemplate=__dirname+a45_0x4c77f0(0x126),configFileTemplatePW=__dirname+a45_0x4c77f0(0x114),configFile=process['cwd']()+a45_0x4c77f0(0x118),packageFile=process[a45_0x4c77f0(0x123)]()+a45_0x4c77f0(0xfb),frameworks=[a45_0x4c77f0(0x106),a45_0x4c77f0(0x121),a45_0x4c77f0(0xee),'node',a45_0x4c77f0(0xed),a45_0x4c77f0(0xe7),a45_0x4c77f0(0x10b)];function a45_0x1180(_0x13bf44,_0x5208e3){const _0x4c4c04=a45_0x4c4c();return a45_0x1180=function(_0x1180ee,_0x378b82){_0x1180ee=_0x1180ee-0xda;let _0x2aeaab=_0x4c4c04[_0x1180ee];return _0x2aeaab;},a45_0x1180(_0x13bf44,_0x5208e3);}let config;logger['info'](a45_0x4c77f0(0x11e)),createConfigurationFile(yargs[a45_0x4c77f0(0xdf)][a45_0x4c77f0(0xf0)],yargs['argv'][a45_0x4c77f0(0xeb)],yargs[a45_0x4c77f0(0xdf)][a45_0x4c77f0(0x10b)]);try{sdkSetup();}catch(a45_0x58ca6c){logger['debug'](a45_0x4c77f0(0x11a)+a45_0x58ca6c);}addScriptInPackageJson();function createConfigurationFile(_0x26055d,_0x1558d2,_0x6ffec0=![]){const _0x2e2289=a45_0x4c77f0,_0x47e2ed={};_0x47e2ed[_0x2e2289(0xff)]=_0x2e2289(0xf9),_0x47e2ed[_0x2e2289(0xe8)]=_0x2e2289(0x11d),_0x47e2ed['muvnU']=_0x2e2289(0xec);const _0x13a389=_0x47e2ed;try{let _0x248568=fs['readFileSync'](_0x6ffec0?configFileTemplatePW:configFileTemplate,_0x13a389[_0x2e2289(0xff)]);_0x26055d&&(_0x248568=_0x248568[_0x2e2289(0xe9)](_0x13a389[_0x2e2289(0xe8)],_0x26055d)),_0x1558d2&&(_0x248568=_0x248568[_0x2e2289(0xe9)](_0x13a389[_0x2e2289(0x10c)],_0x1558d2)),config=yaml['load'](_0x248568),fs['writeFileSync'](configFile,_0x248568,_0x5a2137=>{const _0x124f86=_0x2e2289;_0x5a2137&&logger[_0x124f86(0xdc)](_0x5a2137);});}catch(_0x31f4b9){logger[_0x2e2289(0xdc)](_0x31f4b9);}}function addPostInstallScript(_0x2f4586,_0x286683){const _0x21a8bd=a45_0x4c77f0,_0x31ea99={};_0x31ea99[_0x21a8bd(0x112)]=_0x21a8bd(0x11c),_0x31ea99[_0x21a8bd(0x125)]=_0x21a8bd(0x109),_0x31ea99['cTJNT']=_0x21a8bd(0x10f);const _0x1b5bf2=_0x31ea99;let _0x4faff3=_0x2f4586[_0x1b5bf2[_0x21a8bd(0x112)]];if(_0x4faff3&&_0x4faff3['includes'](_0x1b5bf2[_0x21a8bd(0x125)]))return;!_0x4faff3?_0x4faff3=_0x1b5bf2[_0x21a8bd(0x125)]:_0x4faff3+=_0x1b5bf2[_0x21a8bd(0xf5)],_0x286683['push']([_0x1b5bf2['jQwra'],_0x4faff3]);}function addScriptInPackageJson(){const _0x1a2525=a45_0x4c77f0,_0x469ded={'ZgUjv':_0x1a2525(0xf9),'eshwc':function(_0x3c1822,_0x3e9088){return _0x3c1822<_0x3e9088;},'AjbHT':function(_0x8526c6,_0x3eb4a6,_0x6a56){return _0x8526c6(_0x3eb4a6,_0x6a56);},'UMCRw':function(_0x52d167,_0x4478df){return _0x52d167<_0x4478df;},'FlqXz':function(_0x413e85,_0x457346){return _0x413e85<_0x457346;},'bIbJP':function(_0x58ab7c,_0x25fe2e){return _0x58ab7c!==_0x25fe2e;},'KFZzy':_0x1a2525(0xf3)},_0x2fc1f8=JSON[_0x1a2525(0xf8)](fs[_0x1a2525(0x119)](packageFile,_0x469ded['ZgUjv'])),_0x25bb73=[];for(let _0x141786=0x0;_0x469ded[_0x1a2525(0xe1)](_0x141786,frameworks[_0x1a2525(0xdd)]);_0x141786+=0x1){const _0xa7f5eb=_0x469ded[_0x1a2525(0x103)](findScriptsWithFramework,_0x2fc1f8['scripts'],frameworks[_0x141786]);for(let _0x5491d3=0x0;_0x469ded['UMCRw'](_0x5491d3,_0xa7f5eb[_0x1a2525(0xdd)]);_0x5491d3+=0x1){_0x25bb73[_0x1a2525(0x11b)](_0x469ded['AjbHT'](getUpdatedCommand,_0x2fc1f8[_0x1a2525(0xde)],_0xa7f5eb[_0x5491d3]));}_0x469ded['AjbHT'](addPostInstallScript,_0x2fc1f8['scripts'],_0x25bb73);}const _0x33e601={..._0x2fc1f8[_0x1a2525(0xde)]},_0x4a9e56=_0x33e601;for(let _0x343dbf=0x0;_0x469ded['FlqXz'](_0x343dbf,_0x25bb73['length']);_0x343dbf+=0x1){_0x4a9e56[_0x25bb73[_0x343dbf][0x0]]=_0x25bb73[_0x343dbf][0x1];}_0x469ded[_0x1a2525(0xfe)](JSON[_0x1a2525(0x127)](_0x2fc1f8['scripts']),JSON['stringify'](_0x4a9e56))&&(logger['info'](_0x469ded['KFZzy']),_0x2fc1f8[_0x1a2525(0xde)]=_0x4a9e56,fs[_0x1a2525(0xf2)](packageFile,JSON['stringify'](_0x2fc1f8,null,0x2),_0x118bb8=>{const _0x36b9ec=_0x1a2525;_0x118bb8&&logger[_0x36b9ec(0xdc)](_0x118bb8);}));};function findScriptsWithFramework(_0x20e4a2,_0xed45df){const _0xd3d9d=a45_0x4c77f0,_0x19788c={};_0x19788c['LwGsN']=function(_0x19d782,_0x4b1681){return _0x19d782<_0x4b1681;},_0x19788c[_0xd3d9d(0x122)]='browserstack-node-sdk';const _0x6d2e70=_0x19788c,_0x120d62=[],_0x3ea14b=Object[_0xd3d9d(0x120)](_0x20e4a2);for(let _0x159698=0x0;_0x6d2e70[_0xd3d9d(0xfd)](_0x159698,_0x3ea14b[_0xd3d9d(0xdd)]);_0x159698+=0x1){_0x3ea14b[_0x159698][0x1]['includes'](_0xed45df)&&!_0x3ea14b[_0x159698][0x1][_0xd3d9d(0xf4)](_0x6d2e70['URBLH'])&&_0x120d62[_0xd3d9d(0x11b)](_0x3ea14b[_0x159698][0x0]);}return _0x120d62;}function a45_0x4c4c(){const _0x5e0cbb=['stringify','123763mRYrfo','indexOf','error','length','scripts','argv','debug','eshwc','4069692xSMHkP','isUndefined','winstonLogger','2474004PAmmSD','info','codeceptjs','Xuzfs','replace','join','key','YOUR_ACCESS_KEY','nightwatch','cucumber-js','65dLiGmw','username','split','writeFileSync','Adding\x20new\x20script(s)\x20in\x20package.json...','includes','cTJNT','448605CBlnpR','crJdO','parse','utf8','browserstack-node-sdk','/package.json','61733Zgdqrm','LwGsN','bIbJP','kwyfN','240SYnnUa','lKAul','240GkSSyO','AjbHT','../helpers/logger','zGoHP','mocha','mlcAD','110UlbfPd','npm\x20update\x20browserstack-node-sdk','node-setup','playwright','muvnU','2JDaOcA','Setup\x20completed','\x20&&\x20npm\x20update\x20browserstack-node-sdk','fireFunnelTestEvent','yargs','jQwra','browserstack-node-sdk\x20','/../../browserstack.pw.yml.sample','369416OWikzZ','25765GxnTfs','../helpers/utilities','/browserstack.yml','readFileSync','Error\x20in\x20Fire\x20SDKSetup.\x20Stacktrace:\x20','push','postinstall','YOUR_USERNAME','Creating\x20configuration\x20file...','SDKSetup','entries','jest','URBLH','cwd','15XHESsa','eSQff','/../../browserstack.yml.sample'];a45_0x4c4c=function(){return _0x5e0cbb;};return a45_0x4c4c();}function getUpdatedCommand(_0x374b13,_0x59e896){const _0x5255fa=a45_0x4c77f0,_0x25f303={};_0x25f303['lKAul']=function(_0x5a5878,_0x5066b4){return _0x5a5878!==_0x5066b4;},_0x25f303[_0x5255fa(0xf7)]=_0x5255fa(0xfa),_0x25f303[_0x5255fa(0x107)]=function(_0x35e539,_0xf52f73){return _0x35e539===_0xf52f73;};const _0x18f6ec=_0x25f303,_0x251e22=_0x59e896+'-browserstack',_0x1c4661=_0x374b13[_0x59e896],_0x561cc0=_0x1c4661[_0x5255fa(0xf1)]('\x20');for(const _0x4c718f of frameworks){if(_0x18f6ec[_0x5255fa(0x101)](_0x561cc0[_0x5255fa(0xdb)](_0x4c718f),-0x1)){_0x561cc0['splice'](_0x561cc0[_0x5255fa(0xdb)](_0x4c718f),0x0,_0x18f6ec[_0x5255fa(0xf7)]);break;}}let _0x1f5515=_0x561cc0[_0x5255fa(0xea)]('\x20');return _0x18f6ec[_0x5255fa(0x107)](_0x1f5515,_0x1c4661)&&(_0x1f5515=_0x5255fa(0x113)+_0x1c4661),[_0x251e22,_0x1f5515];}function sdkSetup(){const _0x2d3286=a45_0x4c77f0,_0x2be5d6={};_0x2be5d6[_0x2d3286(0x105)]=_0x2d3286(0x10a),_0x2be5d6['ngKHo']=_0x2d3286(0x11f);const _0x304afc=_0x2be5d6;if(helper[_0x2d3286(0xe3)](config))return;config['source']=_0x304afc[_0x2d3286(0x105)];try{utilities[_0x2d3286(0x110)](_0x304afc['ngKHo'],{},config,'');}catch(_0x11e276){logger[_0x2d3286(0xe0)](_0x2d3286(0x11a)+_0x11e276);}}logger[a45_0x4c77f0(0xe6)](a45_0x4c77f0(0x10e));