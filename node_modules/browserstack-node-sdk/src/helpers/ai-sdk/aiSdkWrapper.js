function a59_0x4a68(){const _0xcd8af4=['kCrOh','nhgQg','BrowserstackHealingSetTcgTokenFailed','string','setToken','../logger','./autoHealHelper','CskSD','VnIaw','aiHeal_sessionToken','SET_TCG_TOKEN_TIMEOUT','aiHeal_userId','\x20command','Hvqgy','BrowserstackHealingHealFailureFailed','\x22}}}','cICjv','info','aiSdkWrapper','33iEgPKn','PNWIO','TCG_REGION','getTestName','TjOUL','{\x22region\x22:\x20\x22','browserstackSessionName','192415pIdKRk','chrome','aiHeal_isGroupAIEnabled','OicaI','VceDV','wqKEq','BrowserstackHealing.setToken\x20method\x20timed\x20out','TCG_URL','SOSyr','name_','cancel','BrowserstackHealingPollResultFailed','fromEntries','initializeHealingCapabilities','../globals','handleSuccess','\x22,\x20\x22tcgUrls\x22:\x20{\x22','ualEP','ehgya','chromeOptions_','BrowserstackHealing.healFailure\x20method\x20timed\x20out','framework','27288IEGrhB','FzusE','safari','race','GScbj','381112cUoQZH','map_','log','getProjectName','newCapabilities','11361nPOhEf','using','getSession','microsoftedge','TvoTV','error','HEALING_LOG_DATA_TIMEOUT','parameters_','BrowserstackHealing','message','4449109evgOjX','WMTBA','6SYxoOX','172538svdiCE','toLowerCase','winstonLogger','12sQbvbc','3354Rtcbtv','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','keys','yoVcv','setTcgToken','OSEnF','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','logData','189prOdpV','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','BrowserstackHealing.logData\x20method\x20timed\x20out','edgeOptions_','handleFailure','split','2160710GYNFhp','KZJJj','then','BrowserstackHealing.pollResult\x20method\x20timed\x20out','156iNYRhu','locatorValue','_handleEvent','firefox','RWqAk','ieOptions_','POLL_HEALING_RESULT_TIMEOUT','fwonH','config','LROSA','browserName','Qmalk','replace','POaDj','selector','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','join','healFailure','psXmo','value','aiHealing','OOhxW','getGlobal','rkEPk'];a59_0x4a68=function(){return _0xcd8af4;};return a59_0x4a68();}function a59_0x3b7e(_0x10c543,_0x5239ed){const _0x4a686b=a59_0x4a68();return a59_0x3b7e=function(_0x3b7e46,_0x3b030b){_0x3b7e46=_0x3b7e46-0x91;let _0x242604=_0x4a686b[_0x3b7e46];return _0x242604;},a59_0x3b7e(_0x10c543,_0x5239ed);}const a59_0x13fd5e=a59_0x3b7e;(function(_0xbe6e33,_0xadbf14){const _0x24123f=a59_0x3b7e,_0x153356=_0xbe6e33();while(!![]){try{const _0x1109b9=parseInt(_0x24123f(0xe6))/0x1*(-parseInt(_0x24123f(0xe9))/0x2)+-parseInt(_0x24123f(0xd9))/0x3*(-parseInt(_0x24123f(0xfc))/0x4)+-parseInt(_0x24123f(0xb9))/0x5+parseInt(_0x24123f(0xe5))/0x6*(-parseInt(_0x24123f(0xe3))/0x7)+parseInt(_0x24123f(0xd4))/0x8*(parseInt(_0x24123f(0xf2))/0x9)+parseInt(_0x24123f(0xf8))/0xa*(parseInt(_0x24123f(0xb2))/0xb)+parseInt(_0x24123f(0xcf))/0xc*(parseInt(_0x24123f(0xea))/0xd);if(_0x1109b9===_0xadbf14)break;else _0x153356['push'](_0x153356['shift']());}catch(_0x446fef){_0x153356['push'](_0x153356['shift']());}}}(a59_0x4a68,0xa47b7));const path=require('path'),{commandRepository}=require(a59_0x13fd5e(0xa5)),constants=require('../../bin/utils/constants'),logger=require(a59_0x13fd5e(0xa4))[a59_0x13fd5e(0xe8)],globals=require(a59_0x13fd5e(0xc7)),timeoutPromise=require('../../helpers/timeoutPromise'),isUndefinedOrNull=_0xd8bafc=>_0xd8bafc===undefined||_0xd8bafc===null||_0xd8bafc==='',isNotUndefinedOrNull=_0x5d769e=>!isUndefinedOrNull(_0x5d769e),isString=_0xce6bfb=>isNotUndefinedOrNull(_0xce6bfb)&&typeof _0xce6bfb===a59_0x13fd5e(0xa2);class AiSdkWrapper{constructor(){const _0x17d4b3=a59_0x13fd5e,_0x1e6f49={'rkEPk':function(_0xdabd04,_0x35bb66){return _0xdabd04(_0x35bb66);},'fwonH':'../../ai-sdk-node/bundle'};this[_0x17d4b3(0xe1)]=undefined;try{this[_0x17d4b3(0xe1)]=_0x1e6f49[_0x17d4b3(0x9e)](require,path[_0x17d4b3(0x97)](__dirname,_0x1e6f49[_0x17d4b3(0x103)]));}catch(_0x228a41){logger['error'](_0x17d4b3(0xeb)+(_0x228a41&&_0x228a41[_0x17d4b3(0xe2)]?_0x228a41[_0x17d4b3(0xe2)]:''));}}[a59_0x13fd5e(0xc6)](_0x49c79e){const _0xf0a1e9=a59_0x13fd5e,_0x417c53={};_0x417c53['TvoTV']=_0xf0a1e9(0xd8),_0x417c53[_0xf0a1e9(0xd3)]=function(_0x18a9b7,_0x1a18fd){return _0x18a9b7===_0x1a18fd;},_0x417c53['SOSyr']=_0xf0a1e9(0xba),_0x417c53[_0xf0a1e9(0xef)]=_0xf0a1e9(0xff),_0x417c53[_0xf0a1e9(0xa6)]=function(_0x216593,_0x1ea14f){return _0x216593===_0x1ea14f;},_0x417c53[_0xf0a1e9(0x100)]=_0xf0a1e9(0xd1),_0x417c53['LROSA']='edge',_0x417c53['FzusE']=_0xf0a1e9(0xdc);const _0x216d71=_0x417c53;try{const _0x7f5ac6=this[_0xf0a1e9(0xe1)]['initializeCapabilities'](Object[_0xf0a1e9(0xc5)](_0x49c79e['getCapabilities']()[_0xf0a1e9(0xd5)]));console[_0xf0a1e9(0xd6)](_0x216d71[_0xf0a1e9(0xdd)],_0x7f5ac6);if(_0x216d71[_0xf0a1e9(0xd3)](_0x7f5ac6?.['browserName']?.['toLowerCase'](),_0x216d71[_0xf0a1e9(0xc1)]))_0x49c79e[_0xf0a1e9(0xcc)]=_0x7f5ac6;else{if(_0x216d71['GScbj'](_0x7f5ac6?.[_0xf0a1e9(0x91)]?.['toLowerCase'](),_0x216d71[_0xf0a1e9(0xef)]))_0x49c79e['firefoxOptions_']=_0x7f5ac6;else{if(_0x216d71[_0xf0a1e9(0xa6)](_0x7f5ac6?.[_0xf0a1e9(0x91)]?.['toLowerCase'](),_0x216d71[_0xf0a1e9(0x100)]))_0x49c79e['safariOptions_']=_0x7f5ac6;else{if(_0x216d71['CskSD'](_0x7f5ac6?.[_0xf0a1e9(0x91)]?.[_0xf0a1e9(0xe7)](),_0x216d71[_0xf0a1e9(0x105)])||_0x216d71[_0xf0a1e9(0xd3)](_0x7f5ac6?.[_0xf0a1e9(0x91)]?.['toLowerCase'](),_0x216d71[_0xf0a1e9(0xd0)]))_0x49c79e[_0xf0a1e9(0xf5)]=_0x7f5ac6;else _0x216d71[_0xf0a1e9(0xa6)](_0x7f5ac6?.[_0xf0a1e9(0x91)]?.[_0xf0a1e9(0xe7)](),'ie')&&(_0x49c79e[_0xf0a1e9(0x101)]=_0x7f5ac6);}}}Object[_0xf0a1e9(0xec)](_0x7f5ac6)['forEach'](_0x1133df=>{const _0x4a2c50=_0x49c79e['capabilities_']['get'](_0x1133df);_0x49c79e['capabilities_']['set'](_0x1133df,_0x7f5ac6[_0x1133df]);});}catch(_0x2f7159){logger['error'](_0xf0a1e9(0xf3)+(_0x2f7159&&_0x2f7159[_0xf0a1e9(0xe2)]?_0x2f7159[_0xf0a1e9(0xe2)]:''));}}async[a59_0x13fd5e(0xee)](_0x106c0e){const _0x22c18c=a59_0x13fd5e,_0x17b63e={'vulYU':function(_0x3332c9,_0x260bd2,_0x4e9cad,_0x2d08d9,_0x419331,_0x5827da,_0x38cd8c){return _0x3332c9(_0x260bd2,_0x4e9cad,_0x2d08d9,_0x419331,_0x5827da,_0x38cd8c);},'VnIaw':_0x22c18c(0xbf),'cICjv':_0x22c18c(0xa1),'oPqwj':'aiHeal_sessionToken'},_0x45c74d=new Date(),_0x88dd6d=_0x17b63e['vulYU'](timeoutPromise,constants[_0x22c18c(0xa9)],_0x17b63e[_0x22c18c(0xa7)],_0x17b63e[_0x22c18c(0xaf)],_0x45c74d,this[_0x22c18c(0x104)],this['framework']);await Promise[_0x22c18c(0xd2)]([this[_0x22c18c(0xe1)][_0x22c18c(0xa3)](_0x106c0e,globals['getGlobal'](_0x17b63e['oPqwj']),constants[_0x22c18c(0xc0)])[_0x22c18c(0xfa)](()=>{const _0x140f55=_0x22c18c;_0x88dd6d[_0x140f55(0xc3)]();}),_0x88dd6d]);}async['_handleEvent'](_0x163df1,_0x40442e,_0x47437e,_0x184230){const _0x4fe94b=a59_0x13fd5e,_0x3d4bd6={'psXmo':function(_0x5d337e,_0xbf109a){return _0x5d337e===_0xbf109a;},'PNWIO':function(_0x2a85b5,_0x1992f2){return _0x2a85b5(_0x1992f2);},'ualEP':function(_0x440c3c,_0x2822b9){return _0x440c3c(_0x2822b9);},'Qmalk':function(_0x23fc32,_0x22a95d){return _0x23fc32(_0x22a95d);},'WMTBA':function(_0x19d50a,_0x4ca9aa){return _0x19d50a(_0x4ca9aa);},'OXQVm':'s://','KZJJj':function(_0x12cce0,_0x12fe76){return _0x12cce0(_0x12fe76);},'OicaI':_0x4fe94b(0xaa),'nhgQg':'aiHeal_groupId','wqKEq':_0x4fe94b(0xbb),'ehgya':function(_0x1d33c5,_0x460725,_0x280e83,_0x39d3b2,_0x8b5973,_0x2fa9a3,_0x3bcd16){return _0x1d33c5(_0x460725,_0x280e83,_0x39d3b2,_0x8b5973,_0x2fa9a3,_0x3bcd16);},'VceDV':_0x4fe94b(0xf4),'POaDj':'BrowserstackHealingLogDataFailed','OOhxW':function(_0x1b1b24,_0x16932b,_0xb34831,_0x28d720,_0x1c2823,_0x32ce86,_0x5337e9){return _0x1b1b24(_0x16932b,_0xb34831,_0x28d720,_0x1c2823,_0x32ce86,_0x5337e9);},'kCrOh':_0x4fe94b(0xcd),'XiTlw':_0x4fe94b(0xad)},_0x4480f7=(await _0x40442e[_0x4fe94b(0xdb)]())['getId']();let _0x39e94f='';if(commandRepository['isSelfHealEnabled']()&&_0x3d4bd6[_0x4fe94b(0x99)](_0x184230,![])||_0x3d4bd6[_0x4fe94b(0x99)](_0x184230,!![])){const _0x2ee2d0=_0x3d4bd6[_0x4fe94b(0xb3)](isNotUndefinedOrNull,_0x47437e['parameters_'][_0x4fe94b(0xda)])&&_0x3d4bd6[_0x4fe94b(0xb3)](isString,_0x47437e['parameters_'][_0x4fe94b(0xda)])?_0x47437e[_0x4fe94b(0xe0)][_0x4fe94b(0xda)][_0x4fe94b(0x93)](/'/g,'\x5c\x27')[_0x4fe94b(0x93)](/"/g,'\x5c\x22'):'',_0x413f40=_0x3d4bd6['PNWIO'](isNotUndefinedOrNull,_0x47437e[_0x4fe94b(0xe0)][_0x4fe94b(0xda)])&&_0x3d4bd6[_0x4fe94b(0xb3)](isString,_0x47437e['parameters_'][_0x4fe94b(0x9a)])?_0x47437e['parameters_'][_0x4fe94b(0x9a)]['replace'](/'/g,'\x5c\x27')[_0x4fe94b(0x93)](/"/g,'\x5c\x22'):'',_0x4687f4=_0x3d4bd6[_0x4fe94b(0xca)](isNotUndefinedOrNull,commandRepository[_0x4fe94b(0xd7)]())&&_0x3d4bd6['ualEP'](isString,commandRepository[_0x4fe94b(0xd7)]())?commandRepository['getProjectName']()[_0x4fe94b(0x93)](/'/g,'\x5c\x27')[_0x4fe94b(0x93)](/"/g,'\x5c\x22'):'';let _0x491791=_0x3d4bd6[_0x4fe94b(0x92)](isNotUndefinedOrNull,global[_0x4fe94b(0xb8)])&&_0x3d4bd6[_0x4fe94b(0xe4)](isString,global[_0x4fe94b(0xb8)])?global[_0x4fe94b(0xb8)][_0x4fe94b(0x93)](/'/g,'\x5c\x27')[_0x4fe94b(0x93)](/"/g,'\x5c\x22'):'';!_0x491791&&(_0x491791=_0x3d4bd6[_0x4fe94b(0xe4)](isNotUndefinedOrNull,commandRepository[_0x4fe94b(0xb5)]())&&_0x3d4bd6['Qmalk'](isString,commandRepository[_0x4fe94b(0xb5)]())?commandRepository[_0x4fe94b(0xb5)]()['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'');let _0x12ed44=_0x4fe94b(0xb7)+constants[_0x4fe94b(0xb4)]+_0x4fe94b(0xc9)+constants[_0x4fe94b(0xb4)]+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants[_0x4fe94b(0xc0)][_0x4fe94b(0xf7)](_0x3d4bd6['OXQVm'])[0x1]+_0x4fe94b(0xae);_0x12ed44=_0x3d4bd6[_0x4fe94b(0xe4)](isNotUndefinedOrNull,_0x12ed44)&&_0x3d4bd6[_0x4fe94b(0xf9)](isString,_0x12ed44)?_0x12ed44['replace'](/'/g,'\x5c\x27')[_0x4fe94b(0x93)](/"/g,'\x5c\x22'):'';const _0x144c09=commandRepository['getCommands'](_0x4480f7),_0xfbb2e2=globals['getGlobal'](_0x3d4bd6[_0x4fe94b(0xbc)]),_0x2d1c2d=globals['getGlobal'](_0x3d4bd6[_0x4fe94b(0xa0)]),_0x5075b7=globals['getGlobal'](_0x3d4bd6[_0x4fe94b(0xbe)]),_0x1b4942=![],_0x3fe55d=new Date();if(_0x184230){const _0x40e21f=_0x3d4bd6[_0x4fe94b(0xcb)](timeoutPromise,constants[_0x4fe94b(0xdf)],_0x3d4bd6[_0x4fe94b(0xbd)],_0x3d4bd6[_0x4fe94b(0x94)],_0x3fe55d,this[_0x4fe94b(0x104)],this[_0x4fe94b(0xce)]);_0x39e94f=await Promise[_0x4fe94b(0xd2)]([this[_0x4fe94b(0xe1)][_0x4fe94b(0xf1)](_0x2ee2d0,_0x413f40,_0x4687f4,_0x491791,_0x2d1c2d,_0x4480f7,_0x144c09,_0x12ed44)[_0x4fe94b(0xfa)](_0x12c5d7=>{const _0x30cdf4=_0x4fe94b;return _0x40e21f[_0x30cdf4(0xc3)](),_0x12c5d7;}),_0x40e21f]);}else{if(commandRepository['isSelfHealEnabled']()){const _0x774253=_0x3d4bd6[_0x4fe94b(0x9c)](timeoutPromise,constants['HEALING_FAILURE_TIMEOUT'],_0x3d4bd6[_0x4fe94b(0x9f)],_0x3d4bd6['XiTlw'],_0x3fe55d,this[_0x4fe94b(0x104)],this[_0x4fe94b(0xce)]);_0x39e94f=await Promise['race']([this['BrowserstackHealing'][_0x4fe94b(0x98)](_0x2ee2d0,_0x413f40,_0x4687f4,_0x491791,_0xfbb2e2,_0x2d1c2d,_0x4480f7,_0x144c09,_0x1b4942,_0x5075b7,_0x12ed44)[_0x4fe94b(0xfa)](_0xaee484=>{const _0x46cd12=_0x4fe94b;return _0x774253[_0x46cd12(0xc3)](),_0xaee484;}),_0x774253]);}}_0x39e94f&&await _0x40442e['executeScript'](_0x39e94f);}}async[a59_0x13fd5e(0xc8)](_0x237de4,_0x35762b,_0xc70952){const _0x34570e=a59_0x13fd5e;try{await this['_handleEvent'](_0x237de4,_0x35762b,_0xc70952,!![]);}catch(_0x28fafb){return logger[_0x34570e(0xde)]('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x28fafb&&_0x28fafb[_0x34570e(0xe2)]?_0x28fafb['message']:'')),![];}return!![];}async[a59_0x13fd5e(0xf6)](_0x3476c7,_0x4ff599,_0x3b0a29){const _0x41a34f=a59_0x13fd5e,_0x482720={'yoVcv':function(_0x1b51ae,_0x3fc6c8,_0x58bcd1,_0x58b6e5,_0x12723c,_0x1944f3,_0x117cab){return _0x1b51ae(_0x3fc6c8,_0x58bcd1,_0x58b6e5,_0x12723c,_0x1944f3,_0x117cab);},'TjOUL':_0x41a34f(0xfb),'Hvqgy':_0x41a34f(0xc4),'rQWKX':_0x41a34f(0xa8)};try{await this[_0x41a34f(0xfe)](_0x3476c7,_0x4ff599,_0x3b0a29,![]);const _0x30877c=(await _0x4ff599['getSession']())['getId'](),_0x3b15cc=new Date(),_0x7b660d=_0x482720[_0x41a34f(0xed)](timeoutPromise,constants[_0x41a34f(0x102)],_0x482720[_0x41a34f(0xb6)],_0x482720[_0x41a34f(0xac)],_0x3b15cc,this[_0x41a34f(0x104)],this[_0x41a34f(0xce)]),_0x17c158=await Promise['race']([this[_0x41a34f(0xe1)]['pollResult'](constants[_0x41a34f(0xc0)],_0x30877c,globals[_0x41a34f(0x9d)](_0x482720['rQWKX']))[_0x41a34f(0xfa)](_0x26288b=>{return _0x7b660d['cancel'](),_0x26288b;}),_0x7b660d]);if(_0x17c158&&_0x17c158[_0x41a34f(0x95)]&&_0x17c158['value']){const _0x58fe4a={};return _0x58fe4a['locatorType']=_0x17c158[_0x41a34f(0x95)],_0x58fe4a[_0x41a34f(0xfd)]=_0x17c158['value'],_0x58fe4a[_0x41a34f(0x9b)]=!![],_0x58fe4a;}const _0x1fd63a={};return _0x1fd63a['locatorType']=_0x3b0a29['parameters_'][_0x41a34f(0xda)],_0x1fd63a[_0x41a34f(0xfd)]=_0x17c158[_0x41a34f(0x9a)],_0x1fd63a[_0x41a34f(0x9b)]=!![],_0x1fd63a;}catch(_0x5a08b8){return logger['debug'](_0x41a34f(0xf0)+(_0x5a08b8&&_0x5a08b8[_0x41a34f(0xe2)]?_0x5a08b8[_0x41a34f(0xe2)]:'')),logger[_0x41a34f(0xb0)](_0x41a34f(0x96)+_0x3b0a29[_0x41a34f(0xc2)]+_0x41a34f(0xab)),_0x3b0a29;}}}exports[a59_0x13fd5e(0xb1)]=Object['freeze'](new AiSdkWrapper());