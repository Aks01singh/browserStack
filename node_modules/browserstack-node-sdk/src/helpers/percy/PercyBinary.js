const a72_0x14d2e3=a72_0x3755;function a72_0x2cf6(){const _0x29306b=['wjWYI','30943IQsELX','SuEtr','W_OK','/percy-linux.zip','match','once','pLcts','follow-redirects','close','child_process','Corrupt\x20percy\x20binary,\x20retrying','LEapF','kFUum','PnWxO','QORPG','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file','lazyEntries','xPSyD','lRvkR','readFileSync','QLoFX','percy','LNAME','gYzXI','entry','open','1312TskrgX','Error\x20trying\x20to\x20download\x20percy\x20binary','AWGLx','FdArK','https-proxy-agent','hlQSp','DHjrg','xSzRG','darwin','download','yauzl','percy.exe','useCaCertificate','HOME','undefined','GDtmy','fdYyl','url','XpjIo','gbLSB','platform','YhBMv','tmpdir','proxyPort','CvYFd','74qweDZm','agent','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response','VxrDb','XtAGy','6yzBPPh','fileName','readEntry','createWriteStream','parse','path','USERNAME','win32','validateBinary','SwGQu','mnKlu','RUnDX','fxTYs','wEVgS','1414580NjrCtH','winstonLogger','tqCwM','VmDsb','uSNxT','function','BCmDW','LyskN','openReadStream','X_OK','mkdirSync','test','cwd','linux','chmod','qpHjN','GNXjc','join','pMUbR','NlKyx','stdout','SxInr','USERPROFILE','5146757Jipfpb','LOGNAME','14157vdsKZY','KVJEe','proxyHost','206503HxDxZL','nHsWs','aaHBq','4611XbDKdP','length','evYlZ','vQVqL','mkztu','host','--version','JYGWi','error','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request','https://github.com/percy/cli/releases/latest/download','getuid','mAIPA','pipe','data','550oInWkM','MGBaa','qGcbp','PkgDd','LIlQo','twwiE','DJlWs','ViKPY','end','tvbgl','homedir','.zip','/percy-osx.zip','4328VJUEgV','ckmld','.browserstack','../logger','exports','hqcSh','pHuSH','wQSAI','BXIZp','xagrA','accessSync','bHgrl','QRzxQ','4047828ijDAEH','HOMEPATH','jTaSl'];a72_0x2cf6=function(){return _0x29306b;};return a72_0x2cf6();}function a72_0x3755(_0x393f77,_0x20906a){const _0x2cf645=a72_0x2cf6();return a72_0x3755=function(_0x375549,_0x45932f){_0x375549=_0x375549-0x171;let _0x20234c=_0x2cf645[_0x375549];return _0x20234c;},a72_0x3755(_0x393f77,_0x20906a);}(function(_0x2cc3ef,_0xad0724){const _0x936659=a72_0x3755,_0x229ec3=_0x2cc3ef();while(!![]){try{const _0x15f4e8=parseInt(_0x936659(0x1bd))/0x1*(parseInt(_0x936659(0x1f0))/0x2)+parseInt(_0x936659(0x190))/0x3*(-parseInt(_0x936659(0x1ac))/0x4)+parseInt(_0x936659(0x171))/0x5+-parseInt(_0x936659(0x1f5))/0x6*(-parseInt(_0x936659(0x188))/0x7)+parseInt(_0x936659(0x1d7))/0x8*(-parseInt(_0x936659(0x18a))/0x9)+-parseInt(_0x936659(0x19f))/0xa*(-parseInt(_0x936659(0x18d))/0xb)+-parseInt(_0x936659(0x1b9))/0xc;if(_0x15f4e8===_0xad0724)break;else _0x229ec3['push'](_0x229ec3['shift']());}catch(_0x451a1d){_0x229ec3['push'](_0x229ec3['shift']());}}}(a72_0x2cf6,0xe4d20));const {https}=require(a72_0x14d2e3(0x1c4)),url=require(a72_0x14d2e3(0x1e8)),yauzl=require(a72_0x14d2e3(0x1e1)),fs=require('fs'),path=require(a72_0x14d2e3(0x1fa)),os=require('os'),{spawn}=require(a72_0x14d2e3(0x1c6)),HttpsProxyAgent=require(a72_0x14d2e3(0x1db)),logger=require(a72_0x14d2e3(0x1af))[a72_0x14d2e3(0x172)];class PercyBinary{#hostOS=process[a72_0x14d2e3(0x1eb)];#httpPath=null;#binaryName=a72_0x14d2e3(0x1d2);#orderedPaths=[path[a72_0x14d2e3(0x182)](this.#homedir(),a72_0x14d2e3(0x1ae)),process[a72_0x14d2e3(0x17d)](),os[a72_0x14d2e3(0x1ed)]()];constructor(){const _0x1b1773=a72_0x14d2e3,_0x29a278={};_0x29a278[_0x1b1773(0x1e6)]=_0x1b1773(0x19a),_0x29a278[_0x1b1773(0x1b7)]=function(_0x32dc21,_0x5acf52){return _0x32dc21+_0x5acf52;},_0x29a278['tqCwM']=_0x1b1773(0x1ab),_0x29a278['twwiE']='/percy-win.zip',_0x29a278[_0x1b1773(0x1ff)]=_0x1b1773(0x1e2),_0x29a278[_0x1b1773(0x1ea)]=_0x1b1773(0x1c0);const _0x357692=_0x29a278,_0x1c15bb=_0x357692[_0x1b1773(0x1e6)];if(this.#hostOS['match'](/darwin|mac os/i))this.#httpPath=_0x357692['bHgrl'](_0x1c15bb,_0x357692[_0x1b1773(0x173)]);else this.#hostOS[_0x1b1773(0x1c1)](/mswin|msys|mingw|cygwin|bccwin|wince|emc|win32/i)?(this.#httpPath=_0x357692[_0x1b1773(0x1b7)](_0x1c15bb,_0x357692[_0x1b1773(0x1a4)]),this.#binaryName=_0x357692['mnKlu']):this.#httpPath=_0x357692['bHgrl'](_0x1c15bb,_0x357692[_0x1b1773(0x1ea)]);}#getAvailableDirs(){const _0xf04388=a72_0x14d2e3,_0x5b52b4={};_0x5b52b4[_0xf04388(0x1dc)]=function(_0x3d634d,_0x1cb445){return _0x3d634d<_0x1cb445;},_0x5b52b4[_0xf04388(0x1d1)]=_0xf04388(0x1d8);const _0xe8c155=_0x5b52b4;for(var _0x464d73=0x0;_0xe8c155[_0xf04388(0x1dc)](_0x464d73,this.#orderedPaths[_0xf04388(0x191)]);_0x464d73++){var _0x5c4525=this.#orderedPaths[_0x464d73];if(this.#makePath(_0x5c4525))return _0x5c4525;}throw new Error(_0xe8c155['QLoFX']);}#makePath(_0x23a539){const _0x3ad8c5=a72_0x14d2e3;try{return!this.#checkPath(_0x23a539)&&fs[_0x3ad8c5(0x17b)](_0x23a539),!![];}catch{return![];}}#checkPath(_0x5946d8,_0x4037f8){const _0x5f31ff=a72_0x14d2e3,_0x428ffb={};_0x428ffb[_0x5f31ff(0x1fe)]=function(_0xfa460b,_0x1a5657){return _0xfa460b|_0x1a5657;},_0x428ffb[_0x5f31ff(0x1a8)]=function(_0x408530,_0x127c41){return _0x408530!==_0x127c41;},_0x428ffb[_0x5f31ff(0x1d9)]=_0x5f31ff(0x1e5);const _0x5f80e=_0x428ffb;_0x4037f8=_0x4037f8||_0x5f80e[_0x5f31ff(0x1fe)](fs['R_OK'],fs[_0x5f31ff(0x1bf)]);try{return fs[_0x5f31ff(0x1b6)](_0x5946d8,_0x4037f8),!![];}catch(_0x147174){if(_0x5f80e[_0x5f31ff(0x1a8)](typeof fs[_0x5f31ff(0x1b6)],_0x5f80e[_0x5f31ff(0x1d9)]))return![];try{return fs['statSync'](_0x5946d8),!![];}catch(_0x4fd0a7){return![];}}}async['getBinaryPath'](_0x3af5b0){const _0x2023e3=a72_0x14d2e3,_0x4d87fb={};_0x4d87fb[_0x2023e3(0x194)]=_0x2023e3(0x1c7);const _0xa4e4ca=_0x4d87fb;var _0x32f9ae=this.#getAvailableDirs(),_0x2b05a3=path[_0x2023e3(0x182)](_0x32f9ae,this.#binaryName);if(this.#checkPath(_0x2b05a3,fs[_0x2023e3(0x17a)]))return _0x2b05a3;const _0x4feb0b=await this['download'](_0x3af5b0,_0x32f9ae),_0x373b0b=await this[_0x2023e3(0x1fd)](_0x4feb0b);if(!_0x373b0b)return logger[_0x2023e3(0x198)](_0xa4e4ca[_0x2023e3(0x194)]),await this[_0x2023e3(0x1e0)](_0x3af5b0,_0x32f9ae);return _0x4feb0b;}async[a72_0x14d2e3(0x1fd)](_0x410c37){const _0x487bd8=a72_0x14d2e3,_0x1d217a={'LIlQo':function(_0x4fc7f4,_0x3d6cb4){return _0x4fc7f4(_0x3d6cb4);},'SxInr':function(_0x1dd559,_0x840a59){return _0x1dd559(_0x840a59);},'vQVqL':function(_0x4cb6da,_0x36e4ee,_0x3393d5){return _0x4cb6da(_0x36e4ee,_0x3393d5);},'DJlWs':_0x487bd8(0x196),'ViKPY':_0x487bd8(0x19e),'wQSAI':_0x487bd8(0x1c5)},_0xfeaf29=/^.*@percy\/cli \d.\d+.\d+/;return new Promise((_0x47862b,_0x5ae7e8)=>{const _0x2d68ce=_0x487bd8,_0x9beed4=_0x1d217a[_0x2d68ce(0x193)](spawn,_0x410c37,[_0x1d217a[_0x2d68ce(0x1a5)]]);_0x9beed4[_0x2d68ce(0x185)]['on'](_0x1d217a[_0x2d68ce(0x1a6)],_0x235921=>{const _0x1b519a=_0x2d68ce;_0xfeaf29[_0x1b519a(0x17c)](_0x235921)&&_0x1d217a[_0x1b519a(0x1a3)](_0x47862b,!![]);}),_0x9beed4['on'](_0x1d217a[_0x2d68ce(0x1b3)],()=>{const _0x73db50=_0x2d68ce;_0x1d217a[_0x73db50(0x186)](_0x47862b,![]);});});}[a72_0x14d2e3(0x1e0)](_0x5345fb,_0x5022c4){const _0x188e6b=a72_0x14d2e3,_0x693cd={'XVgyl':_0x188e6b(0x199),'ckmld':function(_0x3594c0,_0x54495a){return _0x3594c0(_0x54495a);},'wEVgS':_0x188e6b(0x1f2),'kFUum':_0x188e6b(0x1cc),'AmhDU':_0x188e6b(0x1a7),'aaHBq':function(_0x1cbccf,_0x1536b3){return _0x1cbccf===_0x1536b3;},'lRvkR':'0755','SuEtr':_0x188e6b(0x1d5),'XpjIo':_0x188e6b(0x198),'evYlZ':'close','OnxJo':function(_0x48382c,_0x42defe){return _0x48382c+_0x42defe;},'uQAep':_0x188e6b(0x1aa),'pLcts':'Percy\x20download\x20failed\x20to\x20read\x20cert\x20file'};!this.#checkPath(_0x5022c4)&&fs['mkdirSync'](_0x5022c4);const _0x2cdab5=this.#binaryName,_0xd3fd79=path[_0x188e6b(0x182)](_0x5022c4,_0x693cd['OnxJo'](_0x2cdab5,_0x693cd['uQAep'])),_0x2a53f4=path[_0x188e6b(0x182)](_0x5022c4,_0x2cdab5),_0x529ca0=fs[_0x188e6b(0x1f8)](_0xd3fd79),_0x14603b=url[_0x188e6b(0x1f9)](this.#httpPath);if(_0x5345fb[_0x188e6b(0x18c)]&&_0x5345fb[_0x188e6b(0x1ee)]){const _0x492894={};_0x492894[_0x188e6b(0x195)]=_0x5345fb[_0x188e6b(0x18c)],_0x492894['port']=_0x5345fb[_0x188e6b(0x1ee)],_0x14603b[_0x188e6b(0x1f1)]=new HttpsProxyAgent(_0x492894);}if(_0x5345fb[_0x188e6b(0x1e3)])try{_0x14603b['ca']=fs[_0x188e6b(0x1d0)](_0x5345fb[_0x188e6b(0x1e3)]);}catch(_0xfe1146){logger[_0x188e6b(0x198)](_0x693cd[_0x188e6b(0x1c3)],_0xfe1146);}return new Promise((_0x2444cd,_0xfdd255)=>{const _0x519b7a=_0x188e6b,_0x586057={'LyskN':_0x693cd[_0x519b7a(0x202)],'qGcbp':function(_0x234dd0,_0x47497c){const _0x7d4fc1=_0x519b7a;return _0x693cd[_0x7d4fc1(0x1ad)](_0x234dd0,_0x47497c);},'RUnDX':_0x693cd[_0x519b7a(0x1c9)],'FdArK':_0x693cd['AmhDU'],'wjWYI':function(_0x458fc4,_0x1e2ce3){const _0x3d567b=_0x519b7a;return _0x693cd[_0x3d567b(0x18f)](_0x458fc4,_0x1e2ce3);},'PnWxO':_0x693cd[_0x519b7a(0x1cf)],'yCtvc':_0x693cd[_0x519b7a(0x1be)],'xagrA':_0x693cd[_0x519b7a(0x1e9)],'GNXjc':_0x693cd[_0x519b7a(0x192)]};https['get'](_0x14603b,function(_0x3dd535){const _0x1e3a81=_0x519b7a,_0x2f933d={'YhBMv':_0x586057[_0x1e3a81(0x178)],'KVJEe':function(_0x4e7955,_0x6efe76){return _0x586057['qGcbp'](_0x4e7955,_0x6efe76);},'MGBaa':_0x586057[_0x1e3a81(0x200)],'uSNxT':function(_0x321753,_0x2d27ca){const _0x1b4d5a=_0x1e3a81;return _0x586057[_0x1b4d5a(0x1a1)](_0x321753,_0x2d27ca);},'fdYyl':_0x586057[_0x1e3a81(0x1da)],'nHsWs':function(_0x1042be,_0x23a2ce){const _0x194b34=_0x1e3a81;return _0x586057[_0x194b34(0x1bc)](_0x1042be,_0x23a2ce);},'pHuSH':function(_0x1f44d5,_0x5de99b){const _0xa2b7b0=_0x1e3a81;return _0x586057[_0xa2b7b0(0x1a1)](_0x1f44d5,_0x5de99b);},'pMUbR':_0x586057[_0x1e3a81(0x1ca)],'mAIPA':function(_0x5d14f4,_0x155133){const _0x40713b=_0x1e3a81;return _0x586057[_0x40713b(0x1a1)](_0x5d14f4,_0x155133);},'gYzXI':_0x586057['yCtvc'],'VxrDb':_0x586057[_0x1e3a81(0x1b5)]};_0x3dd535[_0x1e3a81(0x19d)](_0x529ca0),_0x3dd535['on'](_0x586057['xagrA'],function(_0x5550ac){const _0x29d1bb=_0x1e3a81;logger['error'](_0x2f933d[_0x29d1bb(0x1ec)],_0x5550ac),_0x2f933d['KVJEe'](_0xfdd255,_0x5550ac);}),_0x529ca0['on'](_0x586057['xagrA'],function(_0x1d0d00){const _0x3666bc=_0x1e3a81;logger['error'](_0x2f933d[_0x3666bc(0x1a0)],_0x1d0d00),_0x2f933d[_0x3666bc(0x175)](_0xfdd255,_0x1d0d00);}),_0x529ca0['on'](_0x586057[_0x1e3a81(0x181)],function(){const _0x2a969b=_0x1e3a81,_0x2c5238={};_0x2c5238[_0x2a969b(0x1cd)]=!![],yauzl[_0x2a969b(0x1d6)](_0xd3fd79,_0x2c5238,function(_0x112c6c,_0x11607f){const _0x18848d=_0x2a969b,_0x1e8b74={'BXIZp':function(_0x5d8d56,_0x4e87e6){const _0x5543dd=a72_0x3755;return _0x2f933d[_0x5543dd(0x18b)](_0x5d8d56,_0x4e87e6);},'xSzRG':_0x2f933d[_0x18848d(0x1e7)],'DHjrg':function(_0x2beda6,_0x3032a1){const _0x3aec42=_0x18848d;return _0x2f933d[_0x3aec42(0x18e)](_0x2beda6,_0x3032a1);},'QORPG':function(_0x1bb3d,_0x5d798e){const _0x30ec0b=_0x18848d;return _0x2f933d[_0x30ec0b(0x1b2)](_0x1bb3d,_0x5d798e);},'fxTYs':function(_0x24e30e,_0x578c33){const _0x1dd83c=_0x18848d;return _0x2f933d[_0x1dd83c(0x1b2)](_0x24e30e,_0x578c33);},'JYGWi':_0x2f933d[_0x18848d(0x183)]};_0x112c6c&&_0x2f933d[_0x18848d(0x19c)](_0xfdd255,_0x112c6c),_0x11607f[_0x18848d(0x1f7)](),_0x11607f['on'](_0x2f933d[_0x18848d(0x1d4)],_0x5ce840=>{const _0x2d85e6=_0x18848d;if(/\/$/['test'](_0x5ce840[_0x2d85e6(0x1f6)]))_0x11607f[_0x2d85e6(0x1f7)]();else{const _0xdcf359=fs[_0x2d85e6(0x1f8)](path[_0x2d85e6(0x182)](_0x5022c4,_0x5ce840[_0x2d85e6(0x1f6)]));_0x11607f[_0x2d85e6(0x179)](_0x5ce840,function(_0x581d26,_0x1fa51b){const _0x2b252f=_0x2d85e6;_0x581d26&&_0x1e8b74[_0x2b252f(0x1b4)](_0xfdd255,_0x112c6c),_0x1fa51b['on'](_0x1e8b74[_0x2b252f(0x1de)],function(){const _0x3c791d=_0x2b252f;_0xdcf359[_0x3c791d(0x1c5)](),_0x11607f[_0x3c791d(0x1f7)]();}),_0x1fa51b[_0x2b252f(0x19d)](_0xdcf359);}),_0x1e8b74[_0x2d85e6(0x1dd)](_0x5ce840[_0x2d85e6(0x1f6)],_0x2cdab5)&&_0x11607f['close']();}}),_0x11607f['on'](_0x2f933d[_0x18848d(0x1f3)],_0x517869=>{_0x1e8b74['QORPG'](_0xfdd255,_0x517869);}),_0x11607f[_0x18848d(0x1c2)](_0x2f933d['fdYyl'],()=>{const _0x5bbdb7=_0x18848d;fs[_0x5bbdb7(0x17f)](_0x2a53f4,_0x1e8b74[_0x5bbdb7(0x197)],function(_0x48bde8){const _0x4a4257=_0x5bbdb7;_0x48bde8&&_0x1e8b74[_0x4a4257(0x201)](_0xfdd255,_0x48bde8),_0x1e8b74[_0x4a4257(0x1cb)](_0x2444cd,_0x2a53f4);}),_0x11607f[_0x5bbdb7(0x1c5)]();});});});})['on'](_0x693cd[_0x519b7a(0x1e9)],function(_0x1fc862){const _0x4456df=_0x519b7a;logger[_0x4456df(0x198)](_0x693cd['XVgyl'],_0x1fc862),_0x693cd[_0x4456df(0x1ad)](_0xfdd255,_0x1fc862);});});}#homedir(){const _0x48b766=a72_0x14d2e3,_0x360a38={};_0x360a38['QRzxQ']=function(_0x27163e,_0x31d18e){return _0x27163e===_0x31d18e;},_0x360a38[_0x48b766(0x174)]=_0x48b766(0x176),_0x360a38[_0x48b766(0x1ce)]=_0x48b766(0x1fc),_0x360a38[_0x48b766(0x1ef)]=function(_0x421151,_0x4578ff){return _0x421151+_0x4578ff;},_0x360a38['NlKyx']=function(_0x1ddb67,_0x43f8fe){return _0x1ddb67===_0x43f8fe;},_0x360a38[_0x48b766(0x1f4)]=_0x48b766(0x1df),_0x360a38[_0x48b766(0x177)]=function(_0x20880d,_0x2e383c){return _0x20880d+_0x2e383c;},_0x360a38[_0x48b766(0x1c8)]='/Users/',_0x360a38['hqcSh']=_0x48b766(0x17e),_0x360a38[_0x48b766(0x1bb)]='/root',_0x360a38[_0x48b766(0x1a2)]='/home/',_0x360a38[_0x48b766(0x180)]=function(_0xc1615f,_0x1c3e52){return _0xc1615f||_0x1c3e52;};const _0x2f12f3=_0x360a38;if(_0x2f12f3[_0x48b766(0x1b8)](typeof os['homedir'],_0x2f12f3[_0x48b766(0x174)]))return os[_0x48b766(0x1a9)]();const _0x4f8b72=process['env'],_0x52ee73=_0x4f8b72[_0x48b766(0x1e4)],_0x2e312b=_0x4f8b72[_0x48b766(0x189)]||_0x4f8b72['USER']||_0x4f8b72[_0x48b766(0x1d3)]||_0x4f8b72[_0x48b766(0x1fb)];if(_0x2f12f3[_0x48b766(0x1b8)](process['platform'],_0x2f12f3[_0x48b766(0x1ce)]))return _0x4f8b72[_0x48b766(0x187)]||_0x2f12f3[_0x48b766(0x1ef)](_0x4f8b72['HOMEDRIVE'],_0x4f8b72[_0x48b766(0x1ba)])||_0x52ee73||null;if(_0x2f12f3[_0x48b766(0x184)](process[_0x48b766(0x1eb)],_0x2f12f3[_0x48b766(0x1f4)]))return _0x52ee73||(_0x2e312b?_0x2f12f3[_0x48b766(0x177)](_0x2f12f3[_0x48b766(0x1c8)],_0x2e312b):null);if(_0x2f12f3[_0x48b766(0x1b8)](process[_0x48b766(0x1eb)],_0x2f12f3[_0x48b766(0x1b1)]))return _0x52ee73||(_0x2f12f3[_0x48b766(0x184)](process[_0x48b766(0x19b)](),0x0)?_0x2f12f3[_0x48b766(0x1bb)]:_0x2e312b?_0x2f12f3[_0x48b766(0x177)](_0x2f12f3[_0x48b766(0x1a2)],_0x2e312b):null);return _0x2f12f3['qpHjN'](_0x52ee73,null);}}module[a72_0x14d2e3(0x1b0)]=PercyBinary;