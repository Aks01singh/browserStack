const a90_0xa7a374=a90_0x1f05;function a90_0x1f05(_0x49e87e,_0x1e7e05){const _0x3d5511=a90_0x3d55();return a90_0x1f05=function(_0x1f0544,_0x3b00ad){_0x1f0544=_0x1f0544-0x96;let _0x4f45d7=_0x3d5511[_0x1f0544];return _0x4f45d7;},a90_0x1f05(_0x49e87e,_0x1e7e05);}function a90_0x3d55(){const _0x3d3e29=['sdkRunId','config','zOhlZ','osmbY','finishedMetadata','killSignal','nodejs','Playwright','qtVFj','6jOpvPr','./ats/helper','lFUWx','framework','getBuildLink','all','selenium-webdriver','./globals','errorMessage','sanitizeBrowserStackConfig','1971726EfuhAh','push','YTXEH','ZYpEE','finalExecution','codeceptjs','1540810usAgOr','UFwAQ','DyNZE','TnHwn','values','ENV_VAR','undefined','yHkIY','app','./logger','iCdQb','hostname','./helper','sRjTa','length','JnOSg','\x20response\x20-\x20','RcBlm','notifyUpdate','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','getOptimalHubUrl','tlTbn','21HOvDEy','API\x20Event\x20','fireFunnelTestEvent','getTurboScaleSessionsList','Wvpbn','user_killed','globalException','assign','debug','application/json','APP_AUTOMATE','AUTOMATE_PRODUCTS','IOYmX','72374zhWjwp','tests','_buildHashedId','../helpers/testhub/constants','324849OrZmvM','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','./test-observability/utils','MuHNF','pfDbO','PWUrX','EGRMw','finalize','isBrowserstackInfra','rhuDc','4116310TFuOte','osVersion','FJlTg','sendLogs','apply','forEach','RspzW','version','377120wpoeXj','error','body','APP_AUTOMATE_PRODUCTS','null','getSessionsList','getFrameworkVersion','isEnabled','CnomF','source','buildIdentifier','format','getGlobal','YGlSm','winstonLogger','ToVcH','keys','exceptions','util','SDKTestSuccessful','../bin/playwright/reporter/pwUtils','browserVersion','151252zKUAJt','browser','AUTOMATE','xarAQ','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','reduce','env','playwrightVersion','xBRSy','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','getTurboScaleBuildLink','getUserName','KQyKs','fdfTO','event_properties','xKOiM','stopPercy','unknown','9qZPQQT','\x20:\x20','deviceName','getAccessKey','EymKP','getPackageVersion','unhandledErrors','BROWSERSTACK_TESTHUB_UUID','./testhub/utils','xcwmA','FUNNEL_INSTRUMENTATION_API_URL'];a90_0x3d55=function(){return _0x3d3e29;};return a90_0x3d55();}(function(_0x380feb,_0x623c06){const _0x497668=a90_0x1f05,_0x33076c=_0x380feb();while(!![]){try{const _0x379ccc=-parseInt(_0x497668(0xed))/0x1*(-parseInt(_0x497668(0x9b))/0x2)+-parseInt(_0x497668(0x113))/0x3*(parseInt(_0x497668(0xc7))/0x4)+-parseInt(_0x497668(0xfd))/0x5+parseInt(_0x497668(0xf7))/0x6+-parseInt(_0x497668(0x9f))/0x7+-parseInt(_0x497668(0xb1))/0x8+-parseInt(_0x497668(0xd9))/0x9*(-parseInt(_0x497668(0xa9))/0xa);if(_0x379ccc===_0x623c06)break;else _0x33076c['push'](_0x33076c['shift']());}catch(_0x9f17b5){_0x33076c['push'](_0x33076c['shift']());}}}(a90_0x3d55,0x4709e));const os=require('os'),util=require(a90_0xa7a374(0xc3)),{getProductMap}=require(a90_0xa7a374(0xe1)),logger=require(a90_0xa7a374(0x106))[a90_0xa7a374(0xbf)],constants=require('../bin/utils/constants'),testHubConstants=require(a90_0xa7a374(0x9e)),{getTransformPath}=require(a90_0xa7a374(0xc5)),{FUNNEL_INSTRUMENTATION_API_URL}=require('../bin/utils/constants'),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a90_0xa7a374(0x109)),PerformanceTester=require('./performance-tester'),globals=require(a90_0xa7a374(0xf4)),{isTurboScaleSession}=require(a90_0xa7a374(0xee)),helper=require(a90_0xa7a374(0x109)),{isTestObservabilitySession}=require(a90_0xa7a374(0xa1));let unhandledErrors='';exports[a90_0xa7a374(0x115)]=async(_0x21f886,_0x141841={},_0x378467,_0x4fab15)=>{const _0x2f3761=a90_0xa7a374,_0x4cccca={'osmbY':function(_0x2cb20d,_0x287b8a){return _0x2cb20d===_0x287b8a;},'ToVcH':'object','xarAQ':function(_0x21bb12,_0x316801){return _0x21bb12>_0x316801;},'EGRMw':function(_0x31db8f,_0x1b871f){return _0x31db8f>_0x1b871f;},'YGlSm':_0x2f3761(0x9c),'zOhlZ':function(_0x3bced7){return _0x3bced7();},'EymKP':function(_0x3fbdc2,_0x5909e2){return _0x3fbdc2==_0x5909e2;},'KQyKs':_0x2f3761(0xb5),'CnomF':_0x2f3761(0x103),'YheCb':function(_0x4cfaf4,_0x5d2a11){return _0x4cfaf4===_0x5d2a11;},'ZYpEE':_0x2f3761(0xfc),'DyNZE':function(_0x2e4022,_0xc4406f){return _0x2e4022!==_0xc4406f;},'IOYmX':_0x2f3761(0xeb),'TnHwn':_0x2f3761(0xb2),'YTXEH':function(_0x109a3c,_0x243681){return _0x109a3c>_0x243681;},'JnOSg':function(_0x49f9cc,_0x1ee482){return _0x49f9cc+_0x1ee482;},'fXyKu':_0x2f3761(0xcb),'lFUWx':_0x2f3761(0x9d),'rhuDc':function(_0x442ffe,_0x2551f4){return _0x442ffe(_0x2551f4);},'tlTbn':function(_0x1ad8c2,_0x421591){return _0x1ad8c2(_0x421591);},'yHkIY':_0x2f3761(0xd8),'UFwAQ':_0x2f3761(0xea),'RcBlm':_0x2f3761(0xc4),'qtVFj':function(_0x1fe6cd,_0x31aa60){return _0x1fe6cd===_0x31aa60;},'xKOiM':function(_0x32833d){return _0x32833d();},'FJlTg':_0x2f3761(0xf3),'PWUrX':_0x2f3761(0x97),'pfDbO':'POST'};let _0x4a27ad=[];if(helper[_0x2f3761(0xa7)]()&&_0x4cccca['zOhlZ'](isTestObservabilitySession))_0x4a27ad=_0x378467['app']?constants[_0x2f3761(0xb4)]:constants[_0x2f3761(0x99)];else{if(_0x4cccca[_0x2f3761(0xe6)](isTestObservabilitySession))_0x4a27ad=constants['PRODUCT_IF_NOT_BROWSERSTACK_INFRA'];else helper[_0x2f3761(0xa7)]()&&(_0x4a27ad=_0x378467[_0x2f3761(0x105)]?constants[_0x2f3761(0x98)]:constants[_0x2f3761(0xc9)]);}let _0x1182f8=_0x378467[_0x2f3761(0xbb)];if(_0x4cccca[_0x2f3761(0xdd)](_0x1182f8,null))_0x1182f8=_0x4cccca[_0x2f3761(0xd3)];else _0x4cccca[_0x2f3761(0xe7)](_0x1182f8,undefined)&&(_0x1182f8=_0x4cccca[_0x2f3761(0xb9)]);unhandledErrors&&_0x4cccca[_0x2f3761(0xa5)](unhandledErrors[_0x2f3761(0x10b)],0x0)&&(_0x141841[_0x2f3761(0x119)]=unhandledErrors);global[_0x2f3761(0xe4)]&&(_0x141841['sdkRunId']=global['sdkRunId']);try{if(_0x141841['error']){if(_0x4cccca['YheCb'](_0x4fab15,_0x4cccca[_0x2f3761(0xfa)])&&_0x4cccca[_0x2f3761(0xa5)](_0x141841['error'][_0x2f3761(0x10b)],0x0)){const _0x110d10={};_0x110d10['os']='',_0x110d10[_0x2f3761(0xaa)]='',_0x110d10[_0x2f3761(0xc8)]='',_0x110d10[_0x2f3761(0xc6)]='';const _0x189801=_0x110d10;let _0x2c54f5={};const _0x4a123a=_0x141841[_0x2f3761(0xb2)];_0x2c54f5=_0x4a123a[_0x2f3761(0xcc)]((_0x1fd28a,_0x515deb)=>{for(const _0x20c034 in _0x515deb){_0x1fd28a[_0x20c034]=_0x515deb[_0x20c034];}return _0x1fd28a;},{});const _0x46c99b={};_0x46c99b[_0x2f3761(0x9c)]=_0x2c54f5,_0x141841[_0x2f3761(0xb2)]=[Object[_0x2f3761(0x11a)]({},_0x189801,_0x46c99b)];}else{let _0x507c42=0x0;const _0x5afd4b=_0x4cccca[_0x2f3761(0xff)](_0x4fab15,_0x4cccca['IOYmX'])?JSON['parse'](_0x141841[_0x2f3761(0xb2)]):_0x141841[_0x2f3761(0xb2)],_0x4cb2ab=Object[_0x2f3761(0x101)](_0x5afd4b);_0x4cb2ab[_0x2f3761(0xae)](_0x5049fa=>{const _0x449159=_0x2f3761;if(_0x4cccca[_0x449159(0xe7)](typeof _0x5049fa,_0x4cccca[_0x449159(0xc0)])){const _0x519e8b=Object['values'](_0x5049fa);!_0x519e8b['every'](_0x4e3977=>_0x4e3977===null||_0x4e3977===undefined||_0x4e3977==='')&&(_0x507c42+=0x1);}});if(_0x4cccca['YheCb'](_0x507c42,0x0))delete _0x141841[_0x4cccca[_0x2f3761(0x100)]];else{const _0x248e85=[];Object[_0x2f3761(0xc1)](_0x5afd4b)['forEach'](_0x2d8037=>{const _0x1176d0=_0x2f3761,_0x387aae={'xcwmA':function(_0x5c2465,_0xa999a4){const _0x54da0f=a90_0x1f05;return _0x4cccca[_0x54da0f(0xca)](_0x5c2465,_0xa999a4);}},[_0x4f1f25,_0x53976a,_0x25e660,_0x35c794]=_0x2d8037['split'](',\x20');let _0xcd5d60={};if(!_0x35c794){const _0x56a15b={};_0x56a15b[_0x1176d0(0xdb)]=_0x4f1f25,_0x56a15b['osVersion']=_0x53976a,_0x56a15b[_0x1176d0(0xc8)]=_0x25e660,_0xcd5d60=_0x56a15b;}else{const _0x37a3de={};_0x37a3de['os']=_0x4f1f25,_0x37a3de[_0x1176d0(0xaa)]=_0x53976a,_0x37a3de[_0x1176d0(0xc8)]=_0x25e660,_0x37a3de[_0x1176d0(0xc6)]=_0x35c794,_0xcd5d60=_0x37a3de;}const _0x4be24d={},_0x335d03=_0x5afd4b[_0x2d8037];Object[_0x1176d0(0xc1)](_0x335d03)[_0x1176d0(0xae)](_0x1812e7=>{const _0x2ff1ad=_0x1176d0;_0x387aae[_0x2ff1ad(0xe2)](_0x335d03[_0x1812e7][_0x2ff1ad(0x10b)],0x0)&&(_0x4be24d[_0x1812e7]=_0x335d03[_0x1812e7]);}),_0x4cccca[_0x1176d0(0xa5)](Object[_0x1176d0(0xc1)](_0x4be24d)[_0x1176d0(0x10b)],0x0)&&(_0xcd5d60[_0x4cccca[_0x1176d0(0xbe)]]=_0x4be24d,_0x248e85[_0x1176d0(0xf8)](_0xcd5d60));}),_0x4cccca[_0x2f3761(0xf9)](_0x248e85[_0x2f3761(0x10b)],0x0)?_0x141841[_0x2f3761(0xb2)]=_0x248e85:delete _0x141841[_0x4cccca[_0x2f3761(0x100)]];}}}}catch(_0x544ae8){delete _0x141841[_0x4cccca[_0x2f3761(0x100)]],logger[_0x2f3761(0x96)](_0x4cccca[_0x2f3761(0x10c)](_0x4cccca['fXyKu'],_0x544ae8));}const _0x111366={'userName':helper[_0x2f3761(0xd2)](_0x378467),'accessKey':helper[_0x2f3761(0xdc)](_0x378467),'event_type':_0x21f886,'detectedFramework':_0x4fab15,'buildHashedId':globals[_0x2f3761(0xbd)](_0x4cccca[_0x2f3761(0xef)]),'optimalHubUrl':helper[_0x2f3761(0x111)](),'event_properties':{'testhub_uuid':process[_0x2f3761(0xcd)][testHubConstants[_0x2f3761(0x102)][_0x2f3761(0xe0)]]||'','product_map':_0x4cccca[_0x2f3761(0xa8)](getProductMap,_0x378467),'productMap':_0x4cccca[_0x2f3761(0x112)](getProductMap,_0x378467),'language_framework':_0x378467[_0x2f3761(0xba)]||_0x4cccca[_0x2f3761(0x104)],'referrer':helper['getNodeAgent'](_0x4fab15),'frameworkVersion':helper[_0x2f3761(0xb7)](_0x4fab15),'language':_0x4cccca[_0x2f3761(0xfe)],'product':_0x4a27ad,'languageVersion':process[_0x2f3761(0xb0)],'buildName':_0x378467['buildName']||_0x4cccca[_0x2f3761(0xb9)],'buildIdentifier':_0x1182f8,'os':os['type']()||_0x4cccca['yHkIY'],'hostname':os[_0x2f3761(0x108)]()||_0x4cccca[_0x2f3761(0x104)],..._0x141841}};try{_0x4cccca['osmbY'](_0x21f886,_0x4cccca[_0x2f3761(0x10e)])&&(_0x111366[_0x2f3761(0xd5)]['browserStackConfig']=helper[_0x2f3761(0xf6)](_0x378467)),_0x4cccca[_0x2f3761(0xec)](_0x4fab15,_0x4cccca[_0x2f3761(0x9a)])?_0x111366[_0x2f3761(0xd5)][_0x2f3761(0xce)]=helper['requirePWModule'][_0x2f3761(0xad)](null,_0x4cccca[_0x2f3761(0xd6)](getTransformPath),!![]):_0x111366[_0x2f3761(0xd5)]['seleniumVersion']=helper[_0x2f3761(0xde)](_0x4cccca[_0x2f3761(0xab)]);}catch(_0x218815){logger[_0x2f3761(0x96)](_0x2f3761(0x110)+_0x218815);}const _0x246702={};_0x246702['content-type']=_0x4cccca[_0x2f3761(0xa4)];const _0x4ae26f={'headers':_0x246702,'body':_0x111366,'auth':{'user':helper[_0x2f3761(0xd2)](_0x378467),'pass':helper[_0x2f3761(0xdc)](_0x378467)},'json':!![]};logger[_0x2f3761(0x96)](_0x2f3761(0xd0)+JSON['stringify'](_0x4ae26f[_0x2f3761(0xb3)]));try{const _0x168ec3=await helper['nodeRequest'](_0x4cccca[_0x2f3761(0xa3)],constants[_0x2f3761(0xe3)],_0x4ae26f,_0x378467);logger[_0x2f3761(0x96)](_0x2f3761(0x114)+_0x21f886+_0x2f3761(0x10d)+util[_0x2f3761(0xbc)]('%j',_0x168ec3));}catch(_0x297b99){logger['debug']('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+_0x2f3761(0xda)+util[_0x2f3761(0xbc)](_0x297b99));}},exports[a90_0xa7a374(0xfb)]=async _0x35e55a=>{const _0x144b0a=a90_0xa7a374,_0x2e3b98={'xBRSy':function(_0x22f992){return _0x22f992();},'pUggG':function(_0x4651d8,_0x2ca37d){return _0x4651d8>_0x2ca37d;},'USHGD':function(_0x46995e,_0xa5037e){return _0x46995e>_0xa5037e;},'iCdQb':_0x144b0a(0xe8),'MuHNF':_0x144b0a(0x118),'Wvpbn':function(_0x4b75ca,_0x467230){return _0x4b75ca(_0x467230);},'fdfTO':_0x144b0a(0xc4),'RspzW':function(_0x3133e9,_0x2c3076,_0x16fedb){return _0x3133e9(_0x2c3076,_0x16fedb);},'xzFzU':function(_0x4e4f4e,_0x595cc6){return _0x4e4f4e+_0x595cc6;},'sRjTa':_0x144b0a(0xa0)};try{await _0x35e55a[_0x144b0a(0xd7)](),_0x2e3b98[_0x144b0a(0xcf)](printNudgeLocalNotSetError);const _0x10812f={};_0x10812f['error']=_0x35e55a[_0x144b0a(0xf5)]?_0x35e55a[_0x144b0a(0xf5)]:'{}';const _0x3a51b8=_0x10812f,_0x2f93a5=Object[_0x144b0a(0x11a)]({},_0x3a51b8);if(PerformanceTester[_0x144b0a(0xb8)]()){const {measures:_0x12967a,errors:_0x1850a1}=PerformanceTester[_0x144b0a(0xa6)]();if(_0x12967a&&_0x2e3b98['pUggG'](_0x12967a[_0x144b0a(0x10b)],0x0)||_0x1850a1&&_0x2e3b98['USHGD'](_0x1850a1[_0x144b0a(0x10b)],0x0)){const _0x46748d={};_0x46748d['measures']=_0x12967a,_0x46748d[_0x144b0a(0xc2)]=_0x1850a1,Object[_0x144b0a(0x11a)](_0x2f93a5,_0x46748d);}}!!_0x35e55a[_0x144b0a(0xe9)]&&(_0x2f93a5[_0x2e3b98[_0x144b0a(0x107)]]={'reason':_0x2e3b98[_0x144b0a(0xa2)],'signal':_0x35e55a[_0x144b0a(0xe9)]});unhandledErrors=_0x35e55a[_0x144b0a(0xdf)]['join']('\x0a');let _0x2b3acc,_0x1349d0,_0x44ed37;_0x2e3b98[_0x144b0a(0x117)](isTurboScaleSession,_0x35e55a[_0x144b0a(0xe5)])?([_0x2b3acc,_0x1349d0]=await helper[_0x144b0a(0xd1)](_0x35e55a[_0x144b0a(0xe5)]),[_0x44ed37]=await Promise[_0x144b0a(0xf2)]([helper[_0x144b0a(0x116)](_0x2b3acc,_0x35e55a['config']),exports[_0x144b0a(0x115)](_0x2e3b98[_0x144b0a(0xd4)],_0x2f93a5,_0x35e55a[_0x144b0a(0xe5)],_0x35e55a[_0x144b0a(0xf0)])])):([_0x2b3acc,_0x1349d0]=await helper[_0x144b0a(0xf1)](_0x35e55a[_0x144b0a(0xe5)]),[_0x44ed37]=await Promise[_0x144b0a(0xf2)]([helper[_0x144b0a(0xb6)](_0x2b3acc,_0x35e55a['config']),exports[_0x144b0a(0x115)](_0x2e3b98[_0x144b0a(0xd4)],_0x2f93a5,_0x35e55a[_0x144b0a(0xe5)],_0x35e55a[_0x144b0a(0xf0)])])),_0x44ed37&&await _0x2e3b98[_0x144b0a(0xaf)](generateCIArtifacts,_0x44ed37,_0x1349d0),await helper[_0x144b0a(0xac)](_0x35e55a[_0x144b0a(0xe5)]);}catch(_0x204c97){logger['debug'](_0x2e3b98['xzFzU'](_0x2e3b98[_0x144b0a(0x10a)],_0x204c97));}helper[_0x144b0a(0x10f)]();};