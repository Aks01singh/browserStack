const a5_0x856d92=a5_0x2e8f;(function(_0x4be579,_0x29bedd){const _0x16ae0e=a5_0x2e8f,_0x1c5e01=_0x4be579();while(!![]){try{const _0x11e782=parseInt(_0x16ae0e(0xf4))/0x1*(parseInt(_0x16ae0e(0x123))/0x2)+-parseInt(_0x16ae0e(0xee))/0x3*(-parseInt(_0x16ae0e(0xdc))/0x4)+parseInt(_0x16ae0e(0x116))/0x5*(parseInt(_0x16ae0e(0xdf))/0x6)+parseInt(_0x16ae0e(0xf1))/0x7*(-parseInt(_0x16ae0e(0xed))/0x8)+parseInt(_0x16ae0e(0xde))/0x9+-parseInt(_0x16ae0e(0x132))/0xa+parseInt(_0x16ae0e(0x109))/0xb;if(_0x11e782===_0x29bedd)break;else _0x1c5e01['push'](_0x1c5e01['shift']());}catch(_0x330a24){_0x1c5e01['push'](_0x1c5e01['shift']());}}}(a5_0x3e9a,0xb3ec2));function a5_0x2e8f(_0x3ca48e,_0x137293){const _0x3e9a52=a5_0x3e9a();return a5_0x2e8f=function(_0x2e8ffe,_0x1cba9e){_0x2e8ffe=_0x2e8ffe-0xd5;let _0xefcae=_0x3e9a52[_0x2e8ffe];return _0xefcae;},a5_0x2e8f(_0x3ca48e,_0x137293);}const fs=require('fs'),got=require(a5_0x856d92(0x125)),{v4:uuidv4}=require(a5_0x856d92(0x138)),{inputConfirmation,closeInput}=require(a5_0x856d92(0xda)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getCredentialsPath,getAuthHeader}=require(a5_0x856d92(0x133)),{sendInstrumentationEvent}=require('../utils/instrumentationUtils');exports[a5_0x856d92(0xff)]=a5_0x856d92(0x139),exports['desc']='Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.',exports[a5_0x856d92(0x137)]=function(_0x5cc33c){const _0x477e36=a5_0x856d92,_0x52af02={};_0x52af02[_0x477e36(0xe1)]=_0x477e36(0x12b);const _0x5df8a9=_0x52af02;return _0x5cc33c[_0x477e36(0xf8)](HELP_HEADER_MESSAGE[_0x477e36(0x139)])[_0x477e36(0xe0)](HELP_FOOTER_MESSAGE)['help'](_0x5df8a9[_0x477e36(0xe1)])[_0x477e36(0xf6)]()[_0x477e36(0xd8)]()['argv'];},exports[a5_0x856d92(0xf2)]=async function(_0xbf7407){const _0x311ab3=a5_0x856d92,_0x2e7834={'biRoh':function(_0x369d2c){return _0x369d2c();},'JpuVi':function(_0x3a4490){return _0x3a4490();},'HUrLn':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','RpaXF':function(_0x367981,_0x4d6fa1,_0x53b0f3,_0x3b2269,_0x26145f,_0x49c165,_0xb9981f){return _0x367981(_0x4d6fa1,_0x53b0f3,_0x3b2269,_0x26145f,_0x49c165,_0xb9981f);},'lFgmk':_0x311ab3(0x12e),'JSzqo':_0x311ab3(0xfb),'ydESq':function(_0x572d50){return _0x572d50();},'MiKBZ':_0x311ab3(0x131),'wOXNB':function(_0x1d260e,_0x3861b2,_0x46f77a){return _0x1d260e(_0x3861b2,_0x46f77a);},'tqOHQ':function(_0x28752f,_0x1b3066,_0x25dd00){return _0x28752f(_0x1b3066,_0x25dd00);},'aoFri':function(_0x4764e0,_0x44163a){return _0x4764e0!==_0x44163a;},'ENDjn':function(_0xd4c724,_0x5caf57){return _0xd4c724===_0x5caf57;},'npFtJ':_0x311ab3(0x12c),'UmSCy':_0x311ab3(0x10e),'QrphD':function(_0x38ca7c,_0x41e256){return _0x38ca7c(_0x41e256);},'nbGCR':_0x311ab3(0x122),'cMwGv':function(_0x21a017,_0x3614f8){return _0x21a017===_0x3614f8;},'NxBLL':function(_0x59feaa,_0x35a8aa){return _0x59feaa===_0x35a8aa;},'ZgFtA':_0x311ab3(0xdb),'oiGRi':'invalid-input','HyVCz':function(_0x1190a4,_0x54fcfb){return _0x1190a4===_0x54fcfb;},'gMYwf':_0x311ab3(0x11b),'PweAf':function(_0x2ac397,_0x525bde){return _0x2ac397<_0x525bde;},'wznpD':function(_0x3980fa,_0x1c3e75){return _0x3980fa+_0x1c3e75;},'lZbcZ':_0x311ab3(0x128),'yWCZG':function(_0x10f257,_0x562313){return _0x10f257(_0x562313);},'fisHU':function(_0x512a34,_0x115769){return _0x512a34(_0x115769);},'TJwjt':function(_0x5600e7,_0xbc2990){return _0x5600e7<=_0xbc2990;},'FCgZS':function(_0x568a13,_0xeef33){return _0x568a13>_0xeef33;},'zoANM':function(_0x307a4f,_0x1b6bdc,_0x7f6dad,_0x1c795c,_0x164cae,_0x352929,_0x194160){return _0x307a4f(_0x1b6bdc,_0x7f6dad,_0x1c795c,_0x164cae,_0x352929,_0x194160);},'WNutD':_0x311ab3(0x135),'JOwix':function(_0x5f2d65,_0x557404){return _0x5f2d65-_0x557404;},'MUfMl':_0x311ab3(0xf7),'HmjXr':function(_0x180ba1,_0x39f57c,_0x465261){return _0x180ba1(_0x39f57c,_0x465261);},'YkpDg':_0x311ab3(0x10c),'tHkSH':function(_0x446853,_0x428bcc,_0xef1979){return _0x446853(_0x428bcc,_0xef1979);},'XGjne':function(_0x1beaa5,_0x1fb57e){return _0x1beaa5!==_0x1fb57e;},'ScpUc':'Updated\x20default\x20Grid\x20Profile\x20successfully','HYiEf':_0x311ab3(0x136),'GIygw':function(_0x43b044,_0x32a036,_0x52c3ee,_0x19271b,_0x43ca85,_0x350fbb,_0x5432e0){return _0x43b044(_0x32a036,_0x52c3ee,_0x19271b,_0x43ca85,_0x350fbb,_0x5432e0);},'xdDVe':_0x311ab3(0x11c),'aXYqx':function(_0x445e7b,_0x23bad7,_0x1e6a9f,_0x281ff3,_0x3a473a,_0x12dacb,_0x1a2271){return _0x445e7b(_0x23bad7,_0x1e6a9f,_0x281ff3,_0x3a473a,_0x12dacb,_0x1a2271);},'hLVFV':_0x311ab3(0x113),'AYtKT':_0x311ab3(0xe4),'cJfYP':function(_0x589a8d,_0x3aa2a5,_0xc222,_0x486a2a,_0x328ef7,_0x306ce4,_0xd083a9){return _0x589a8d(_0x3aa2a5,_0xc222,_0x486a2a,_0x328ef7,_0x306ce4,_0xd083a9);},'HTuvK':_0x311ab3(0xfa)};try{global_registry[_0x311ab3(0xe9)]=_0x2e7834[_0x311ab3(0x108)](uuidv4);const _0x2d05a3='https://'+AG_API_URL+'/packages/cli/configure';!fs['existsSync'](_0x2e7834[_0x311ab3(0x119)](getCredentialsPath))&&(console[_0x311ab3(0xe7)](_0x2e7834[_0x311ab3(0x104)]),await _0x2e7834[_0x311ab3(0x121)](sendInstrumentationEvent,_0xbf7407,_0x2e7834[_0x311ab3(0x110)],messageTypes[_0x311ab3(0x127)],_0x2e7834['JSzqo'],null,_0xbf7407),process[_0x311ab3(0x105)](0x1));await _0x2e7834[_0x311ab3(0x121)](sendInstrumentationEvent,_0xbf7407,_0x2e7834[_0x311ab3(0x110)],messageTypes[_0x311ab3(0x111)],null,null,_0xbf7407);const _0x2fd0c3=JSON[_0x311ab3(0x117)](fs[_0x311ab3(0xd5)](_0x2e7834[_0x311ab3(0x124)](getCredentialsPath))),_0x421d2e={'method':_0x2e7834[_0x311ab3(0xf0)],'headers':_0x2e7834[_0x311ab3(0xe5)](getAuthHeader,_0x2fd0c3['Browserstack'][_0x311ab3(0x103)],_0x2fd0c3[_0x311ab3(0xfd)][_0x311ab3(0xfe)]),'throwHttpErrors':![]},_0x53c94d=await _0x2e7834['tqOHQ'](got,_0x2d05a3,_0x421d2e);if(_0x2e7834['aoFri'](_0x53c94d,null)&&_0x2e7834['aoFri'](_0x53c94d,undefined)&&_0x2e7834[_0x311ab3(0x10f)](_0x53c94d['statusCode'],0xc8)){const _0x2b38ef=JSON['parse'](_0x53c94d['body']);console['log'](_0x2e7834[_0x311ab3(0x129)]),console[_0x311ab3(0xfc)](_0x2e7834[_0x311ab3(0x107)]),console['log']('\x20\x20username:\x20'+_0x2fd0c3['Browserstack']['username']),console[_0x311ab3(0xfc)](_0x311ab3(0x13c)+_0x2b38ef[_0x311ab3(0xf5)][_0x311ab3(0x115)]);const _0x49862f=await _0x2e7834['QrphD'](inputConfirmation,_0x2e7834[_0x311ab3(0x118)]);(_0x2e7834[_0x311ab3(0x130)](_0x49862f,undefined)||_0x2e7834['ENDjn'](_0x49862f,null)||!(_0x2e7834['NxBLL'](_0x49862f[_0x311ab3(0x10b)](),'y')||_0x2e7834[_0x311ab3(0x10f)](_0x49862f[_0x311ab3(0x10b)](),'n')))&&(console[_0x311ab3(0xe7)](_0x2e7834[_0x311ab3(0xe6)]),await _0x2e7834[_0x311ab3(0x121)](sendInstrumentationEvent,_0xbf7407,_0x2e7834[_0x311ab3(0x110)],messageTypes[_0x311ab3(0x127)],_0x2e7834[_0x311ab3(0xf9)],null,_0xbf7407),process[_0x311ab3(0x105)](0x1));_0x2e7834[_0x311ab3(0xeb)](_0x49862f[_0x311ab3(0x10b)](),'n')&&process[_0x311ab3(0x105)](0x0);console['log'](_0x2e7834[_0x311ab3(0xf3)]);const _0x5b24aa=_0x2b38ef[_0x311ab3(0x114)][_0x311ab3(0xe3)];for(let _0x37f6d1=0x0;_0x2e7834[_0x311ab3(0x12f)](_0x37f6d1,_0x5b24aa);_0x37f6d1+=0x1){console['log']('['+_0x2e7834['wznpD'](_0x37f6d1,0x1)+']\x20'+_0x2b38ef[_0x311ab3(0x114)][_0x37f6d1][_0x311ab3(0x115)]);}const _0x43e1df=await _0x2e7834[_0x311ab3(0x134)](inputConfirmation,_0x2e7834[_0x311ab3(0xef)]),_0x3eae05=_0x2e7834[_0x311ab3(0xd7)](Number,_0x43e1df);(_0x2e7834[_0x311ab3(0x11f)](isNaN,_0x3eae05)||_0x2e7834[_0x311ab3(0x101)](_0x3eae05,0x0)||_0x2e7834[_0x311ab3(0x12d)](_0x3eae05,_0x5b24aa))&&(console['error'](_0x2e7834[_0x311ab3(0xe6)]),await _0x2e7834[_0x311ab3(0x11e)](sendInstrumentationEvent,_0xbf7407,_0x2e7834[_0x311ab3(0x110)],messageTypes[_0x311ab3(0x127)],_0x2e7834[_0x311ab3(0xe8)],null,_0xbf7407),process['exit'](0x1));_0x2e7834[_0x311ab3(0x108)](closeInput);const _0x2bc742=_0x2b38ef[_0x311ab3(0x114)][_0x2e7834[_0x311ab3(0xec)](_0x3eae05,0x1)]['id'],_0x4b1d5d={};_0x4b1d5d[_0x311ab3(0x13a)]=_0x2bc742;const _0x4ee289={'method':_0x2e7834[_0x311ab3(0xea)],'headers':_0x2e7834[_0x311ab3(0x11a)](getAuthHeader,_0x2fd0c3['Browserstack'][_0x311ab3(0x103)],_0x2fd0c3[_0x311ab3(0xfd)]['password']),'json':_0x4b1d5d,'responseType':_0x2e7834['YkpDg'],'throwHttpErrors':![]},_0x44aaee=await _0x2e7834[_0x311ab3(0x10d)](got,_0x2d05a3,_0x4ee289);_0x2e7834[_0x311ab3(0x102)](_0x44aaee,null)&&_0x2e7834[_0x311ab3(0x13b)](_0x44aaee,undefined)&&_0x2e7834[_0x311ab3(0xd6)](_0x44aaee['statusCode'],0xc8)&&(console[_0x311ab3(0xfc)](_0x2e7834['ScpUc']),process[_0x311ab3(0x105)](0x0)),_0x2e7834['NxBLL'](_0x44aaee[_0x311ab3(0xd9)],0x191)&&(console[_0x311ab3(0xe7)](_0x2e7834[_0x311ab3(0x12a)]),await _0x2e7834['GIygw'](sendInstrumentationEvent,_0xbf7407,_0x2e7834[_0x311ab3(0x110)],messageTypes[_0x311ab3(0x127)],_0x2e7834['xdDVe'],null,_0xbf7407),process[_0x311ab3(0x105)](0x1)),console[_0x311ab3(0xe7)](_0x311ab3(0xdd)+JSON[_0x311ab3(0x10a)](_0x44aaee)),await _0x2e7834[_0x311ab3(0x126)](sendInstrumentationEvent,_0xbf7407,_0x2e7834[_0x311ab3(0x110)],messageTypes[_0x311ab3(0x127)],_0x2e7834[_0x311ab3(0x112)],_0x44aaee,_0xbf7407),process[_0x311ab3(0x105)](0x1);}_0x2e7834[_0x311ab3(0xd6)](_0x53c94d[_0x311ab3(0xd9)],0x191)&&(console['error'](_0x2e7834[_0x311ab3(0x120)]),await _0x2e7834[_0x311ab3(0x100)](sendInstrumentationEvent,_0xbf7407,_0x2e7834[_0x311ab3(0x110)],messageTypes['ERROR'],_0x2e7834[_0x311ab3(0x11d)],null,_0xbf7407),process[_0x311ab3(0x105)](0x1)),console['error'](_0x311ab3(0xe2)+JSON[_0x311ab3(0x10a)](_0x53c94d)),await _0x2e7834[_0x311ab3(0x100)](sendInstrumentationEvent,_0xbf7407,_0x2e7834[_0x311ab3(0x110)],messageTypes['ERROR'],_0x2e7834[_0x311ab3(0x112)],_0x53c94d,_0xbf7407),process[_0x311ab3(0x105)](0x1);}catch(_0x24b86b){console['error']('Failed\x20to\x20configure\x20resources!\x20Error:\x20'+_0x24b86b['stack']),await _0x2e7834['aXYqx'](sendInstrumentationEvent,_0xbf7407,_0x2e7834[_0x311ab3(0x110)],messageTypes['ERROR'],_0x2e7834[_0x311ab3(0x106)],_0x24b86b,_0xbf7407),process['exit'](0x1);}};function a5_0x3e9a(){const _0x16708e=['HUrLn','exit','HTuvK','UmSCy','biRoh','2631596AptiJR','stringify','toLowerCase','json','tHkSH','core:','ENDjn','lFgmk','INFO','hLVFV','server-error','list','name','353480ZYMXNp','parse','nbGCR','JpuVi','HmjXr','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','unauthorised','xdDVe','zoANM','fisHU','AYtKT','RpaXF','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','8794ygZWxv','ydESq','got','aXYqx','ERROR','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','npFtJ','HYiEf','help','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','FCgZS','configure-called','PweAf','cMwGv','GET','10091310wrIvHY','../utils/utilityMethods','QrphD','invalid-selection','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','builder','uuid','configure','profileId','XGjne','\x20\x20grid-profile:\x20','readFileSync','NxBLL','yWCZG','strict','statusCode','../utils/userInput','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','31420BTAupy','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','5639004qLVPvm','6suYiiw','epilogue','HNFQB','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','length','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','wOXNB','ZgFtA','error','WNutD','requestId','MUfMl','HyVCz','JOwix','781112KSMKDY','192mSdybh','lZbcZ','MiKBZ','7ZKvlZi','handler','gMYwf','92VUlerP','active','recommendCommands','PUT','usage','oiGRi','unknown-error','init-not-called','log','Browserstack','password','command','cJfYP','TJwjt','aoFri','username'];a5_0x3e9a=function(){return _0x16708e;};return a5_0x3e9a();}