const a25_0x3d01a3=a25_0x1bbc;function a25_0x1bbc(_0x8d83d1,_0xd6c2bb){const _0x580c54=a25_0x580c();return a25_0x1bbc=function(_0x1bbce4,_0x5790f8){_0x1bbce4=_0x1bbce4-0x1a5;let _0x317d63=_0x580c54[_0x1bbce4];return _0x317d63;},a25_0x1bbc(_0x8d83d1,_0xd6c2bb);}(function(_0x570249,_0x458c49){const _0x5bfe1b=a25_0x1bbc,_0x5d1eae=_0x570249();while(!![]){try{const _0x4806ff=parseInt(_0x5bfe1b(0x1e9))/0x1*(parseInt(_0x5bfe1b(0x22a))/0x2)+parseInt(_0x5bfe1b(0x1b1))/0x3+parseInt(_0x5bfe1b(0x1c8))/0x4+parseInt(_0x5bfe1b(0x24b))/0x5*(-parseInt(_0x5bfe1b(0x207))/0x6)+parseInt(_0x5bfe1b(0x25f))/0x7*(parseInt(_0x5bfe1b(0x214))/0x8)+parseInt(_0x5bfe1b(0x1a5))/0x9*(-parseInt(_0x5bfe1b(0x20c))/0xa)+-parseInt(_0x5bfe1b(0x1af))/0xb;if(_0x4806ff===_0x458c49)break;else _0x5d1eae['push'](_0x5d1eae['shift']());}catch(_0x1425b6){_0x5d1eae['push'](_0x5d1eae['shift']());}}}(a25_0x580c,0xa2a6e));const fs=require('fs'),path=require(a25_0x3d01a3(0x1fa)),Promise=require('bluebird'),yaml=require(a25_0x3d01a3(0x251)),{CLOUDFORMATION_SCHEMA}=require(a25_0x3d01a3(0x213)),AWS=require(a25_0x3d01a3(0x25e))[a25_0x3d01a3(0x202)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a25_0x3d01a3(0x21a)),{logger}=require('../config/logger'),{isBucketPresent}=require(a25_0x3d01a3(0x25e));Promise[a25_0x3d01a3(0x21d)](fs);const mergeTemplates=(_0x214440,_0x160112)=>{const _0x330073=a25_0x3d01a3,_0xe59ec9={};_0xe59ec9[_0x330073(0x1e3)]=function(_0x363a5b,_0x320e02){return _0x363a5b!==_0x320e02;},_0xe59ec9[_0x330073(0x1c1)]='WteXG',_0xe59ec9['YyTHr']='AhSYD',_0xe59ec9['bFsDD']=function(_0x1ab5b7,_0x45320d){return _0x1ab5b7===_0x45320d;},_0xe59ec9['wtthW']=_0x330073(0x230);const _0x1ca275=_0xe59ec9;Object['keys'](_0x160112)[_0x330073(0x259)](_0x2ad9ec=>{const _0x19c17d=_0x330073,_0x35cd08={'VcsXu':function(_0xf07e47,_0x195a5d){const _0x10ebed=a25_0x1bbc;return _0x1ca275[_0x10ebed(0x1e3)](_0xf07e47,_0x195a5d);},'AUyTn':_0x1ca275[_0x19c17d(0x1c1)],'tkjbE':_0x1ca275[_0x19c17d(0x1f4)]};if(_0x1ca275[_0x19c17d(0x1dc)](_0x1ca275[_0x19c17d(0x1c5)],_0x1ca275[_0x19c17d(0x1c5)])){var _0x31ea5d=_0x160112[_0x2ad9ec];Object[_0x19c17d(0x1ba)](_0x31ea5d)[_0x19c17d(0x259)](_0x1e7cc2=>{const _0x177b30=_0x19c17d;_0x35cd08[_0x177b30(0x1e1)](_0x35cd08[_0x177b30(0x227)],_0x35cd08[_0x177b30(0x1b2)])?_0x214440[_0x2ad9ec][_0x1e7cc2]=_0x31ea5d[_0x1e7cc2]:_0xd6d5bd['Resources'][_0x157b60][_0x177b30(0x1a8)][_0x177b30(0x1d5)]['push'](..._0x4ab429);});}else _0xf3d119[_0xcf5e4e[_0x19c17d(0x1f1)]]=_0x40984f[_0x19c17d(0x1e0)];});},addVPCData=async(_0x3956f7,_0x5cbaa2)=>{const _0x138570=a25_0x3d01a3,_0xee123b={'ScdxB':function(_0x46eab3,_0x595b9d){return _0x46eab3(_0x595b9d);},'OmOnP':'5|0|2|3|1|4','PXSIE':_0x138570(0x1e8),'qbzqw':_0x138570(0x211),'NeCTr':function(_0x56ca57,_0x2a415f){return _0x56ca57(_0x2a415f);},'HEnPb':function(_0x4ceaee,_0x268990){return _0x4ceaee(_0x268990);},'URXrM':function(_0x25e615,_0x564885){return _0x25e615(_0x564885);},'kqLQS':function(_0x1842d2,_0x42bac9){return _0x1842d2!==_0x42bac9;},'WLFvt':_0x138570(0x1c7),'qelSV':'UzYWO','DHGJo':_0x138570(0x21f),'aVRXY':_0x138570(0x1b4),'QiEic':_0x138570(0x1d0),'Mtjsk':function(_0x1fdd8f,_0x2fdb8a,_0x420205){return _0x1fdd8f(_0x2fdb8a,_0x420205);},'JZAQX':_0x138570(0x228),'ftNeG':_0x138570(0x23e),'IOmgo':'XWWsL','MgGfM':_0x138570(0x1ec),'fbSjG':_0x138570(0x236)};if(_0x5cbaa2){if(_0xee123b[_0x138570(0x1de)](_0xee123b[_0x138570(0x206)],_0xee123b[_0x138570(0x1f0)])){const _0x39fee8=await fs['readFileAsync'](path['join'](__dirname,'..',_0xee123b[_0x138570(0x252)],_0xee123b[_0x138570(0x237)]),_0xee123b[_0x138570(0x224)]),_0x5338d6={};_0x5338d6[_0x138570(0x25c)]=CLOUDFORMATION_SCHEMA;const _0x596aa9=yaml['load'](_0x39fee8,_0x5338d6);_0xee123b['Mtjsk'](mergeTemplates,_0x3956f7,_0x596aa9),_0x3956f7[_0x138570(0x23d)][_0xee123b[_0x138570(0x1b6)]][_0x138570(0x1ee)][0x0]['Parameters'][_0x138570(0x219)](_0xee123b[_0x138570(0x1ea)]);}else{const _0x40e55d={'hTHSV':function(_0x40d1d9,_0x596cb5){return _0xee123b['ScdxB'](_0x40d1d9,_0x596cb5);}};let _0x228d5f=0x1;_0x572d71['forEach'](_0x5e85f3=>{const _0x12ec9d=_0x138570;_0x17fc12[_0x12ec9d(0x249)][_0x12ec9d(0x219)]({'ParameterKey':'Subnet'+_0x40e55d['hTHSV'](_0x3d53c6,_0x228d5f)[_0x12ec9d(0x204)](0x2,'0'),'ParameterValue':_0x5e85f3[_0x12ec9d(0x25d)]}),_0x228d5f+=0x1;});}}else{if(_0xee123b[_0x138570(0x1de)](_0xee123b[_0x138570(0x226)],_0xee123b[_0x138570(0x229)])){const _0xc03d8e=await fs['readFileAsync'](path[_0x138570(0x1c2)](__dirname,'..',_0xee123b[_0x138570(0x252)],_0xee123b['MgGfM']),_0xee123b[_0x138570(0x224)]),_0x394a09={};_0x394a09[_0x138570(0x25c)]=CLOUDFORMATION_SCHEMA;const _0x3c6a69=yaml[_0x138570(0x1c0)](_0xc03d8e,_0x394a09);_0xee123b[_0x138570(0x263)](mergeTemplates,_0x3956f7,_0x3c6a69),_0x3956f7[_0x138570(0x23d)][_0xee123b[_0x138570(0x1b6)]][_0x138570(0x1ee)][0x0][_0x138570(0x249)]['push'](_0xee123b[_0x138570(0x1e2)]);}else{const _0x221487=_0xee123b[_0x138570(0x1fb)]['split']('|');let _0x28dfee=0x0;while(!![]){switch(_0x221487[_0x28dfee++]){case'0':_0x286680['Metadata'][_0xee123b[_0x138570(0x1b6)]][_0x138570(0x1ee)][0x0][_0x138570(0x249)][_0x138570(0x219)](_0x138570(0x225)+_0xee123b[_0x138570(0x1fe)](_0x47fcc3,_0x5b4c9d)['padStart'](0x2,'0'));continue;case'1':_0x2e075c[_0x138570(0x1be)][_0x138570(0x1c3)][_0x138570(0x1e0)][_0xee123b[_0x138570(0x1f2)]][0x1][_0x138570(0x219)]({'Ref':_0x138570(0x225)+_0xee123b['ScdxB'](_0x2e1a7c,_0xabbdf1)[_0x138570(0x204)](0x2,'0')});continue;case'2':_0x5dde56[_0x138570(0x242)][_0x138570(0x24d)]['Properties'][_0x138570(0x208)]['push']({'Ref':_0x138570(0x225)+_0xee123b['NeCTr'](_0x3d1964,_0x361b7c)['padStart'](0x2,'0')});continue;case'3':_0x4db874[_0x138570(0x242)][_0x138570(0x20b)][_0x138570(0x1a8)][_0x138570(0x208)][_0x138570(0x219)]({'Ref':_0x138570(0x225)+_0xee123b[_0x138570(0x1f6)](_0x69bdf5,_0x47e1b7)[_0x138570(0x204)](0x2,'0')});continue;case'4':_0xd0b8b3+=0x1;continue;case'5':_0x1c7b6c[_0x138570(0x242)][_0x138570(0x1f3)][_0x138570(0x1a8)][_0x138570(0x221)][_0x138570(0x1c3)][_0x138570(0x219)]({'Ref':_0x138570(0x225)+_0xee123b[_0x138570(0x21b)](_0x2d833d,_0x13cdfe)[_0x138570(0x204)](0x2,'0')});continue;}break;}}}},addS3Data=async _0x1193ae=>{const _0x1981ea=a25_0x3d01a3,_0x53e302={'LPbYa':_0x1981ea(0x228),'uTKah':'CFTemplates','rLwJM':_0x1981ea(0x1b5),'cCHzu':_0x1981ea(0x1d0),'UEPJa':function(_0x56c035,_0x504d36){return _0x56c035(_0x504d36);},'SNJOe':function(_0x324f7b,_0x4b5626){return _0x324f7b===_0x4b5626;},'YFVrV':function(_0x4d9177,_0x3d7eb4){return _0x4d9177!==_0x3d7eb4;},'ycHfk':_0x1981ea(0x1bc),'StaPI':function(_0x134a5d,_0x10a7f1,_0x50d36a){return _0x134a5d(_0x10a7f1,_0x50d36a);}},_0x29fad9=await fs[_0x1981ea(0x24a)](path['join'](__dirname,'..',_0x53e302[_0x1981ea(0x220)],_0x53e302[_0x1981ea(0x1f8)]),_0x53e302[_0x1981ea(0x1d8)]),_0x3dfcbb={};_0x3dfcbb[_0x1981ea(0x25c)]=CLOUDFORMATION_SCHEMA;const _0x2fc71b=yaml[_0x1981ea(0x1c0)](_0x29fad9,_0x3dfcbb),_0x45e5a2=await _0x53e302[_0x1981ea(0x1ab)](isBucketPresent,global_registry[_0x1981ea(0x255)]);if(_0x53e302['SNJOe'](_0x45e5a2,![])){if(_0x53e302[_0x1981ea(0x1c6)](_0x53e302['ycHfk'],_0x53e302[_0x1981ea(0x1c9)])){const _0x149a03={};_0x149a03['ParameterKey']=_0x53e302[_0x1981ea(0x1f9)],_0x149a03[_0x1981ea(0x1cc)]=_0x5059be,_0x249e14[_0x1981ea(0x249)][_0x1981ea(0x219)](_0x149a03);}else _0x53e302['StaPI'](mergeTemplates,_0x1193ae,_0x2fc71b);}},addSubnetData=async(_0x1bf576,_0x5a8547)=>{const _0x1a9b93=a25_0x3d01a3,_0x2ca92d={'JBmKO':function(_0x1198ad,_0x4d91ed){return _0x1198ad(_0x4d91ed);},'vgmGC':function(_0x3e3fad,_0xa15084){return _0x3e3fad===_0xa15084;},'pouxM':_0x1a9b93(0x243),'TcjGG':_0x1a9b93(0x1f7),'oRsFw':'AWS::CloudFormation::Interface','aguTV':function(_0x581724,_0x469e1e){return _0x581724(_0x469e1e);},'LHzrw':_0x1a9b93(0x211),'nCeNN':function(_0x7d76dd,_0x307a5a){return _0x7d76dd(_0x307a5a);},'nxQsW':function(_0x51aa40,_0x1bb1e1){return _0x51aa40!==_0x1bb1e1;},'lChfk':_0x1a9b93(0x1cf),'CdeSJ':_0x1a9b93(0x23a),'jNTxz':_0x1a9b93(0x21f),'fgEOi':_0x1a9b93(0x217),'kzogk':_0x1a9b93(0x1d0),'eAiJy':function(_0x1c7340,_0x3ca9fd,_0x4385a6){return _0x1c7340(_0x3ca9fd,_0x4385a6);},'pTGWL':_0x1a9b93(0x23b),'ChVwt':_0x1a9b93(0x1ae),'jnXVb':'subnet-create.yaml','FyaHw':_0x1a9b93(0x218),'eNUDX':'Subnet02','mNHyv':_0x1a9b93(0x244),'xKoEE':'Subnet01Block','SapiA':_0x1a9b93(0x260),'UZjzJ':_0x1a9b93(0x1ca)};if(_0x5a8547){if(_0x2ca92d[_0x1a9b93(0x1e5)](_0x2ca92d[_0x1a9b93(0x23f)],_0x2ca92d[_0x1a9b93(0x1ff)])){const _0x19f77b=await fs[_0x1a9b93(0x24a)](path[_0x1a9b93(0x1c2)](__dirname,'..',_0x2ca92d[_0x1a9b93(0x21e)],_0x2ca92d[_0x1a9b93(0x240)]),_0x2ca92d[_0x1a9b93(0x1e4)]),_0x21afaf={};_0x21afaf[_0x1a9b93(0x25c)]=CLOUDFORMATION_SCHEMA;const _0x3b8953=yaml['load'](_0x19f77b,_0x21afaf);_0x2ca92d[_0x1a9b93(0x223)](mergeTemplates,_0x1bf576,_0x3b8953);let _0x369fc7=0x1;_0x5a8547['forEach'](_0x275bb1=>{const _0xf7b187=_0x1a9b93,_0x2d3f76={'TWBFZ':function(_0x5b5be7,_0x343fc9){const _0x8cf2d8=a25_0x1bbc;return _0x2ca92d[_0x8cf2d8(0x210)](_0x5b5be7,_0x343fc9);}};if(_0x2ca92d[_0xf7b187(0x1eb)](_0x2ca92d[_0xf7b187(0x22b)],_0x2ca92d[_0xf7b187(0x22b)])){const _0x269a07=_0x2ca92d[_0xf7b187(0x1d2)][_0xf7b187(0x247)]('|');let _0x499661=0x0;while(!![]){switch(_0x269a07[_0x499661++]){case'0':_0x1bf576[_0xf7b187(0x23d)][_0x2ca92d[_0xf7b187(0x20d)]]['ParameterGroups'][0x0][_0xf7b187(0x249)][_0xf7b187(0x219)](_0xf7b187(0x225)+_0x2ca92d[_0xf7b187(0x1df)](String,_0x369fc7)[_0xf7b187(0x204)](0x2,'0'));continue;case'1':_0x1bf576['Resources']['NodeGroupWindows'][_0xf7b187(0x1a8)][_0xf7b187(0x208)][_0xf7b187(0x219)]({'Ref':_0xf7b187(0x225)+_0x2ca92d[_0xf7b187(0x210)](String,_0x369fc7)[_0xf7b187(0x204)](0x2,'0')});continue;case'2':_0x1bf576[_0xf7b187(0x242)][_0xf7b187(0x1f3)][_0xf7b187(0x1a8)][_0xf7b187(0x221)][_0xf7b187(0x1c3)]['push']({'Ref':_0xf7b187(0x225)+_0x2ca92d[_0xf7b187(0x210)](String,_0x369fc7)[_0xf7b187(0x204)](0x2,'0')});continue;case'3':_0x1bf576[_0xf7b187(0x1be)]['SubnetIds'][_0xf7b187(0x1e0)][_0x2ca92d['LHzrw']][0x1][_0xf7b187(0x219)]({'Ref':_0xf7b187(0x225)+_0x2ca92d[_0xf7b187(0x200)](String,_0x369fc7)[_0xf7b187(0x204)](0x2,'0')});continue;case'4':_0x1bf576['Resources']['NodeGroup'][_0xf7b187(0x1a8)][_0xf7b187(0x208)][_0xf7b187(0x219)]({'Ref':_0xf7b187(0x225)+_0x2ca92d[_0xf7b187(0x1df)](String,_0x369fc7)['padStart'](0x2,'0')});continue;case'5':_0x369fc7+=0x1;continue;}break;}}else _0x52d56b[_0xf7b187(0x249)][_0xf7b187(0x219)]({'ParameterKey':_0xf7b187(0x225)+_0x2d3f76['TWBFZ'](_0x5aa615,_0x1d8ed4)[_0xf7b187(0x204)](0x2,'0'),'ParameterValue':_0xaeffc3[_0xf7b187(0x25d)]}),_0x2a4805+=0x1;});}else _0x26450d[_0x1a9b93(0x1ba)](_0x593ebe)['forEach'](_0x8c7373=>{const _0x81ad57=_0x1a9b93;var _0x1da761=_0x582cf1[_0x8c7373];_0x34d566[_0x81ad57(0x1ba)](_0x1da761)[_0x81ad57(0x259)](_0x13ed5b=>{_0x2cd535[_0x8c7373][_0x13ed5b]=_0x1da761[_0x13ed5b];});});}else{if(_0x2ca92d[_0x1a9b93(0x1e5)](_0x2ca92d[_0x1a9b93(0x241)],_0x2ca92d[_0x1a9b93(0x1da)])){const _0x1d6089=await fs['readFileAsync'](path[_0x1a9b93(0x1c2)](__dirname,'..',_0x2ca92d[_0x1a9b93(0x21e)],_0x2ca92d[_0x1a9b93(0x262)]),_0x2ca92d[_0x1a9b93(0x1e4)]),_0x638d49={};_0x638d49[_0x1a9b93(0x25c)]=CLOUDFORMATION_SCHEMA;const _0x385176=yaml[_0x1a9b93(0x1c0)](_0x1d6089,_0x638d49);_0x2ca92d[_0x1a9b93(0x223)](mergeTemplates,_0x1bf576,_0x385176),_0x1bf576[_0x1a9b93(0x242)][_0x1a9b93(0x1f3)]['DependsOn'][_0x1a9b93(0x219)](_0x2ca92d[_0x1a9b93(0x1cb)],_0x2ca92d[_0x1a9b93(0x253)],_0x2ca92d[_0x1a9b93(0x1bf)]);const _0x4818a7={};_0x4818a7[_0x1a9b93(0x1b9)]=_0x2ca92d[_0x1a9b93(0x1cb)];const _0x150ac8={};_0x150ac8[_0x1a9b93(0x1b9)]=_0x2ca92d['eNUDX'];const _0x37a46c={};_0x37a46c[_0x1a9b93(0x1b9)]=_0x2ca92d[_0x1a9b93(0x1bf)],_0x1bf576[_0x1a9b93(0x242)][_0x1a9b93(0x1f3)][_0x1a9b93(0x1a8)][_0x1a9b93(0x221)]['SubnetIds']=[_0x4818a7,_0x150ac8,_0x37a46c],_0x1bf576[_0x1a9b93(0x23d)][_0x2ca92d[_0x1a9b93(0x20d)]][_0x1a9b93(0x1ee)][0x0][_0x1a9b93(0x249)][_0x1a9b93(0x219)](_0x2ca92d[_0x1a9b93(0x1d3)],_0x2ca92d[_0x1a9b93(0x21c)],_0x2ca92d[_0x1a9b93(0x235)]);const _0x47e84f={};_0x47e84f[_0x1a9b93(0x1b9)]=_0x2ca92d[_0x1a9b93(0x1cb)];const _0x36658c={};_0x36658c[_0x1a9b93(0x1b9)]=_0x2ca92d[_0x1a9b93(0x253)];const _0x4165e6={};_0x4165e6['Ref']=_0x2ca92d[_0x1a9b93(0x1bf)],_0x1bf576[_0x1a9b93(0x242)][_0x1a9b93(0x24d)]['Properties'][_0x1a9b93(0x208)]=[_0x47e84f,_0x36658c,_0x4165e6];const _0x3da554={};_0x3da554['Ref']=_0x2ca92d[_0x1a9b93(0x1cb)];const _0x2d941e={};_0x2d941e[_0x1a9b93(0x1b9)]=_0x2ca92d['eNUDX'];const _0x290799={};_0x290799['Ref']=_0x2ca92d[_0x1a9b93(0x1bf)],_0x1bf576[_0x1a9b93(0x242)][_0x1a9b93(0x20b)][_0x1a9b93(0x1a8)][_0x1a9b93(0x208)]=[_0x3da554,_0x2d941e,_0x290799],_0x1bf576[_0x1a9b93(0x1be)][_0x1a9b93(0x1c3)][_0x1a9b93(0x1e0)][_0x2ca92d[_0x1a9b93(0x1ce)]][0x1]=[{'Ref':_0x2ca92d['FyaHw']},{'Ref':_0x2ca92d[_0x1a9b93(0x253)]},{'Ref':_0x2ca92d[_0x1a9b93(0x1bf)]}];}else{var _0x2cba8a=_0x386779[_0xfc6a0c];_0x478396[_0x1a9b93(0x1ba)](_0x2cba8a)[_0x1a9b93(0x259)](_0x2432ce=>{_0x117ec2[_0x5a45c5][_0x2432ce]=_0x2cba8a[_0x2432ce];});}}},addTags=async(_0x5e557b,_0x564d3d,_0x2b691b)=>{const _0x2b7f18=a25_0x3d01a3,_0x35c88b={'bcThV':function(_0x538eca,_0x4da831,_0x46435e){return _0x538eca(_0x4da831,_0x46435e);},'mCjiB':function(_0x170d90,_0x3ae18e){return _0x170d90===_0x3ae18e;},'RegVP':_0x2b7f18(0x1fd),'eiEae':_0x2b7f18(0x1ef),'ioSEV':_0x2b7f18(0x1d4),'qsFAZ':function(_0x403098,_0xd6bbb){return _0x403098!==_0xd6bbb;},'OXvvV':_0x2b7f18(0x22f),'wExCr':_0x2b7f18(0x24d),'SjrTr':_0x2b7f18(0x20b)};for(const _0x1529a7 in _0x5e557b[_0x2b7f18(0x242)]){_0x35c88b['mCjiB'](_0x35c88b['ioSEV'],_0x35c88b[_0x2b7f18(0x209)])?_0x5e557b[_0x2b7f18(0x242)][_0x1529a7][_0x2b7f18(0x1a8)]&&_0x5e557b[_0x2b7f18(0x242)][_0x1529a7][_0x2b7f18(0x1a8)][_0x2b7f18(0x1d5)]&&(_0x35c88b[_0x2b7f18(0x232)](_0x35c88b[_0x2b7f18(0x203)],_0x35c88b[_0x2b7f18(0x203)])?_0x58b3b2[_0x2b7f18(0x242)][_0xbdf56f][_0x2b7f18(0x1a8)]&&_0x451f0d[_0x2b7f18(0x242)][_0x1a6b06][_0x2b7f18(0x1a8)][_0x2b7f18(0x1d5)]&&_0x16e1cb[_0x2b7f18(0x242)][_0x4ddbb4][_0x2b7f18(0x1a8)]['Tags']['push'](..._0x4a5ade):_0x5e557b['Resources'][_0x1529a7]['Properties'][_0x2b7f18(0x1d5)]['push'](..._0x2b691b)):_0x9d654d[_0x2735a5][_0x3142f1]=_0x1e6c23[_0xac837a];}const _0xbfc1b1={};_0x2b691b[_0x2b7f18(0x259)](_0x266165=>{const _0x32e665=_0x2b7f18;_0x35c88b[_0x32e665(0x1e7)](_0x35c88b[_0x32e665(0x1c4)],_0x35c88b['eiEae'])?_0x35c88b[_0x32e665(0x24c)](_0x57e5e3,_0x123892,_0x1ac561):_0xbfc1b1[_0x266165[_0x32e665(0x1f1)]]=_0x266165['Value'];}),_0x5e557b['Resources'][_0x35c88b[_0x2b7f18(0x1cd)]]['Properties'][_0x2b7f18(0x1d5)]=_0xbfc1b1,_0x5e557b[_0x2b7f18(0x242)][_0x35c88b[_0x2b7f18(0x20a)]][_0x2b7f18(0x1a8)][_0x2b7f18(0x1d5)]=_0xbfc1b1;};function a25_0x580c(){const _0x4cbc6b=['S3BucketName','CAPABILITY_NAMED_IAM','JBmKO','Fn::Join','kWxqL','js-yaml-cloudformation-schema','200zYclrp','browserstack:creationDate','ClusterName','subnet-import.yaml','Subnet01','push','../config/constants','URXrM','SapiA','promisifyAll','jNTxz','CFTemplates','uTKah','ResourcesVpcConfig','apiVersion','eAiJy','QiEic','Subnet','ftNeG','AUyTn','VPC','IOmgo','48362xLtreY','pouxM','rCjZR','NodeAutoScalingGroupMinSize','StackName','RCYfr','bLeTZ','CloudFormation','qsFAZ','wJWgj','ParameterKey','UZjzJ','VpcBlock','aVRXY','iGXVZ','UNAoc','hkpkL','VFEEP','2010-05-15','Metadata','mMXyX','lChfk','fgEOi','pTGWL','Resources','KHGRj','Subnet03','waitFor','browserstack:cluster','split','hstGj','Parameters','readFileAsync','490145dmyNBo','bcThV','NodeGroup','OnFailure','stackCreateComplete','StackId','js-yaml','DHGJo','eNUDX','iPCOM','s3Bucket','ANTIq','AGxfY','ami','forEach','tVWJB','Drtsm','schema','value','./AWSUtils','279244WqxSrt','Subnet02Block','vGBwa','jnXVb','Mtjsk','9viRNCK','DELETE','RlpBf','Properties','aws-eks-cluster-dep.yaml','NodeImageId','UEPJa','stringify','RHAvo','FwIPK','17699869KxeKcA','AYiMe','836316wgYYwQ','tkjbE','Capabilities','vpc-import.yaml','s3-create.yaml','PXSIE','pCjWi','TDKKm','Ref','keys','valueOf','jYZvj','toString','Outputs','mNHyv','load','WurRy','join','SubnetIds','RegVP','wtthW','YFVrV','iAGgq','3799148DsijYJ','ycHfk','Subnet03Block','FyaHw','ParameterValue','wExCr','LHzrw','ZEPIO','utf-8','-NodeGroup','TcjGG','xKoEE','TxsTm','Tags','instanceType','-Windows-NodeGroup','cCHzu','xPLvY','ChVwt','LaLhS','bFsDD','TNgXc','kqLQS','aguTV','Value','VcsXu','fbSjG','Wdayr','kzogk','nxQsW','EQDAg','mCjiB','AWS::CloudFormation::Interface','48FiwhiA','JZAQX','vgmGC','vpc-create.yaml','aKzER','ParameterGroups','ZBgeu','qelSV','Key','qbzqw','EKSCluster','YyTHr','VUyFH','HEnPb','2|0|4|1|3|5','rLwJM','LPbYa','path','OmOnP','createClusterStack','oCdSi','ScdxB','CdeSJ','nCeNN','NodeAutoScalingGroupMaxSize','awsObj','OXvvV','padStart','amnGG','WLFvt','12ypINzS','Subnets','ioSEV','SjrTr','NodeGroupWindows','9151880xTxYzF','oRsFw'];a25_0x580c=function(){return _0x4cbc6b;};return a25_0x580c();}exports[a25_0x3d01a3(0x1fc)]=async(_0x584fb7,_0x41096b,_0x59f24f,_0x4eaebd=null,_0x320eb0=null)=>{const _0x3d6ec9=a25_0x3d01a3,_0x331b82={'amnGG':_0x3d6ec9(0x24d),'RHAvo':_0x3d6ec9(0x20b),'uGTjj':function(_0x515785,_0x5ebccb){return _0x515785(_0x5ebccb);},'BybFg':_0x3d6ec9(0x246),'Drtsm':_0x3d6ec9(0x215),'AYiMe':_0x3d6ec9(0x23c),'NUHlM':'CFTemplates','oeRZU':_0x3d6ec9(0x1a9),'aKzER':_0x3d6ec9(0x1d0),'TNgXc':function(_0x551821,_0x58c08b,_0x5e3946){return _0x551821(_0x58c08b,_0x5e3946);},'xPLvY':function(_0x40d534,_0x57a1db){return _0x40d534(_0x57a1db);},'hstGj':function(_0x5550d7,_0x4cbc45,_0x45534c){return _0x5550d7(_0x4cbc45,_0x45534c);},'pCjWi':function(_0x25e47c,_0x12bdc8,_0x1453fa,_0x53642e){return _0x25e47c(_0x12bdc8,_0x1453fa,_0x53642e);},'bNmbL':_0x3d6ec9(0x1a6),'VUyFH':_0x3d6ec9(0x216),'AGxfY':'NodeGroupName','iPCOM':_0x3d6ec9(0x22d),'vGBwa':'NodeAutoScalingGroupMinSizeWindows','yiAQq':'NodeAutoScalingGroupDesiredSizeWindows','rCjZR':_0x3d6ec9(0x201),'RlpBf':_0x3d6ec9(0x1aa),'LaLhS':'NodeInstanceType','ANTIq':_0x3d6ec9(0x20e),'PqYlr':'NodeGroupNameWindows','TDKKm':_0x3d6ec9(0x20f),'UNAoc':function(_0x1a0311,_0x25db5b){return _0x1a0311!=_0x25db5b;},'kWxqL':function(_0x137857,_0x59bd3f){return _0x137857!==_0x59bd3f;},'xOJYF':function(_0x191337,_0x5dde13){return _0x191337!==_0x5dde13;},'tVWJB':_0x3d6ec9(0x1e6),'iGXVZ':_0x3d6ec9(0x228),'IBJTo':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','wJWgj':_0x3d6ec9(0x24f)},_0x2d6176=COMMON_HST_TAGS,_0x1ca0a3={};_0x1ca0a3['Key']=_0x331b82['BybFg'],_0x1ca0a3[_0x3d6ec9(0x1e0)]=_0x584fb7,_0x2d6176[_0x3d6ec9(0x219)](_0x1ca0a3),_0x2d6176[_0x3d6ec9(0x219)]({'Key':_0x331b82[_0x3d6ec9(0x25b)],'Value':new Date()[_0x3d6ec9(0x1bb)]()[_0x3d6ec9(0x1bd)]()});const _0x463770={};_0x463770[_0x3d6ec9(0x222)]=_0x331b82[_0x3d6ec9(0x1b0)];const _0x50e1ad=new AWS[(_0x3d6ec9(0x231))](_0x463770),_0x441152=await fs['readFileAsync'](path[_0x3d6ec9(0x1c2)](__dirname,'..',_0x331b82['NUHlM'],_0x331b82['oeRZU']),_0x331b82[_0x3d6ec9(0x1ed)]),_0x31c2e0={};_0x31c2e0['schema']=CLOUDFORMATION_SCHEMA;const _0x25707a=yaml['load'](_0x441152,_0x31c2e0);await _0x331b82[_0x3d6ec9(0x1dd)](addVPCData,_0x25707a,_0x4eaebd),await _0x331b82[_0x3d6ec9(0x1d9)](addS3Data,_0x25707a),await _0x331b82[_0x3d6ec9(0x248)](addSubnetData,_0x25707a,_0x320eb0),await _0x331b82[_0x3d6ec9(0x1b7)](addTags,_0x25707a,_0x584fb7,_0x2d6176);const _0x3221bc=JSON[_0x3d6ec9(0x1ac)](_0x25707a),_0x1f61a1={};_0x1f61a1[_0x3d6ec9(0x22e)]=CLUSTER_DEP_STACK_NAME+'-'+_0x584fb7,_0x1f61a1[_0x3d6ec9(0x24e)]=_0x331b82['bNmbL'],_0x1f61a1['TemplateBody']=_0x3221bc,_0x1f61a1[_0x3d6ec9(0x249)]=[{'ParameterKey':_0x331b82[_0x3d6ec9(0x1f5)],'ParameterValue':_0x584fb7},{'ParameterKey':_0x331b82[_0x3d6ec9(0x257)],'ParameterValue':_0x584fb7+_0x3d6ec9(0x1d1)},{'ParameterKey':_0x331b82[_0x3d6ec9(0x254)],'ParameterValue':''+_0x41096b},{'ParameterKey':_0x331b82[_0x3d6ec9(0x261)],'ParameterValue':'0'},{'ParameterKey':_0x331b82['yiAQq'],'ParameterValue':'1'},{'ParameterKey':_0x331b82[_0x3d6ec9(0x22c)],'ParameterValue':''+_0x59f24f},{'ParameterKey':_0x331b82[_0x3d6ec9(0x1a7)],'ParameterValue':global_registry[_0x3d6ec9(0x258)]},{'ParameterKey':_0x331b82[_0x3d6ec9(0x1db)],'ParameterValue':global_registry[_0x3d6ec9(0x1d6)]},{'ParameterKey':_0x331b82[_0x3d6ec9(0x256)],'ParameterValue':global_registry[_0x3d6ec9(0x255)]},{'ParameterKey':_0x331b82['PqYlr'],'ParameterValue':_0x584fb7+_0x3d6ec9(0x1d7)}],_0x1f61a1[_0x3d6ec9(0x1b3)]=[_0x331b82[_0x3d6ec9(0x1b8)]],_0x1f61a1[_0x3d6ec9(0x1d5)]=_0x2d6176;const _0x5e1112=_0x1f61a1;if(_0x331b82['UNAoc'](_0x4eaebd,null)&&_0x331b82[_0x3d6ec9(0x212)](_0x4eaebd,undefined)){if(_0x331b82['xOJYF'](_0x331b82[_0x3d6ec9(0x25a)],_0x331b82[_0x3d6ec9(0x25a)])){for(const _0x29ae32 in _0x1afe92[_0x3d6ec9(0x242)]){_0x1564c8['Resources'][_0x29ae32][_0x3d6ec9(0x1a8)]&&_0x44d992['Resources'][_0x29ae32]['Properties'][_0x3d6ec9(0x1d5)]&&_0x12641b[_0x3d6ec9(0x242)][_0x29ae32][_0x3d6ec9(0x1a8)][_0x3d6ec9(0x1d5)][_0x3d6ec9(0x219)](..._0x252369);}const _0x5ebd39={};_0x3424e8[_0x3d6ec9(0x259)](_0x44d80c=>{const _0x375880=_0x3d6ec9;_0x5ebd39[_0x44d80c['Key']]=_0x44d80c[_0x375880(0x1e0)];}),_0x18eafa[_0x3d6ec9(0x242)][_0x331b82[_0x3d6ec9(0x205)]]['Properties']['Tags']=_0x5ebd39,_0xf6ea8b[_0x3d6ec9(0x242)][_0x331b82[_0x3d6ec9(0x1ad)]][_0x3d6ec9(0x1a8)]['Tags']=_0x5ebd39;}else{const _0x4bada4={};_0x4bada4[_0x3d6ec9(0x234)]=_0x331b82[_0x3d6ec9(0x238)],_0x4bada4[_0x3d6ec9(0x1cc)]=_0x4eaebd,_0x5e1112[_0x3d6ec9(0x249)]['push'](_0x4bada4);}}if(_0x331b82[_0x3d6ec9(0x239)](_0x320eb0,null)&&_0x331b82[_0x3d6ec9(0x212)](_0x320eb0,undefined)){let _0x276d92=0x1;_0x320eb0['forEach'](_0x16ed7f=>{const _0x5c9bcf=_0x3d6ec9;_0x5e1112[_0x5c9bcf(0x249)][_0x5c9bcf(0x219)]({'ParameterKey':_0x5c9bcf(0x225)+_0x331b82['uGTjj'](String,_0x276d92)[_0x5c9bcf(0x204)](0x2,'0'),'ParameterValue':_0x16ed7f[_0x5c9bcf(0x25d)]}),_0x276d92+=0x1;});}const _0x28e32b=await _0x50e1ad['createStack'](_0x5e1112)['promise']();logger['debug'](_0x331b82['IBJTo']);const _0x5c0e51={};return _0x5c0e51['StackName']=_0x28e32b[_0x3d6ec9(0x250)],_0x50e1ad[_0x3d6ec9(0x245)](_0x331b82[_0x3d6ec9(0x233)],_0x5c0e51)['promise']();};