function a28_0x3927(){const _0x30b1d4=['UpCTv','TctYu','klxzl','aQlTh','PWAhp','LJmnY','\x20&\x20','./utilityMethods','dzggq','NsfHD','sKNcN','getNamespaceUID','ygWNL','DFZVk','name','Kcyru','role-binding.yaml','HlOtX','oshEX','AfcRy','Added\x20hubdeployment','createAPIService','jZbNI','KJCnD','js-yaml','FkPKm','kube-system','qSWIy','browserstack','deleteNamespace','browser-node-service-account.yaml','xDBhG','DPvkj','123456','YPBXl','TJCxF','templates','Adding\x20MetricsServer\x20Service','Hwcpv','Deleting\x20clusterrolebinding','Deleted\x20ingress-nginx','2lVYpJQ','service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22','wbABb','SIlkK','uPBcu','MuIAr','all','KFMVP','yKSWj','woDfG','isNewAWSCluster','NNMkQ','code','JdiGj','role.yaml','replace','lXlah','cluster-role-binding.yaml','Added\x20Cert\x20Manager\x20CRDs','namespace','Ixwwb','addMetricServerComponents','YsyGr','DfJjR','GRCwv','pkdYg','YvFIQ','bGSMi','HLfmW','sTTkB','hJcIZ','default','Adding\x20browser-node-role-binding\x20role\x20binding','createClusterRoleBinding','4163405vhxQkQ','split','gridName','clientId','cluster-role-aggregated-reader.yaml','wZnfh','cqQPS','AmtHX','Adding\x20Autoscaler\x20namespacedRole','azure.workload.identity/client-id','Adding\x20MetricsServer\x20clusterRole','readFileAsync','mZDEU','SGHNU','lrogO','createNamespacedRole','hPele','vIcVh','RiCIo','\x20cloudformation\x20stacks\x20from\x20region\x20','JpGqD','NRxQI','trbUs','helper.yaml','cluster-role-binding-auth-delegator.yaml','TYLOx','yKeWH','api-service.yaml','341vJeOta','Mqvls','MvBAl','replaceNamespacedDeployment','replicas','WhVOP','scaleUpHubDeployment','SfawI','metricsServerServiceExists','Adding\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','body','DDksH','hub-deployment.yaml','cluster-role.yaml','FUniC','HIXkv','WpBWZ','deleteClusterAndDependencies','2629452DJQRrN','HHmmp','cert-manager.yaml','FaeMw','service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','5|1|0|9|4|8|7|6|3|2','sEBSa','namespaceExists','rZFQm','../utils/webSocketUtils','tsdYx','Added\x20clusterrolebinding','lcNdo','OoHZo','VfQlC','1|4|7|3|6|0|2|5','addAutoScalerComponents','sa.yaml','Added\x20default\x20service\x20account','Added\x20browser-node-role\x20cluster\x20role','createNamespacedService','bstackUsername','true','bstackAccesskey','arXXK','metadata','turboscale-agent.yaml','yzSyi','vtPXV','removeGridComponents','Scaled\x20up\x20deployment','createNamespacedServiceAccount','HNcHG','Deleting\x20Turboscale\x20Agent','length','eEcmm','XdErO','deleteClusterRoleBinding','pHsCm','spec','networking.gke.io/load-balancer-type:\x20\x22Internal\x22','2|4|1|0|3','oqKDS','xxmSq','iBNJp','PgZhR','eWUwu','replaceNamespacedServiceAccount','UqyVi','Adding\x20Turboscale\x20Agent','4efKstE','Added\x20Nginx\x20Private\x20Pods\x20and\x20deployments','IaMcU','BOEjV','template','jQSnJ','BGiwd','cloudProvider','502611gPZBAK','VctZq','Adding\x20VPC\x20CNI\x20CM','Added\x20browser-node\x20service\x20account','service-account.yaml','browserVersion','addGridComponents','join','EjqLx','readNamespace','wJWOf','path','350376RVrZCe','gknCd','isPrivateGrid','items','9264483CVcTrU','nginx','PlhyZ','crds.yaml','private-pods-and-services.yaml','vyjoK','ingress-nginx','Added\x20hubservice','Removing\x20grid\x20components','hGPMD','TBstH','Scaling\x20up\x20deployment','OcmAW','KDUad','25910KdZAEv','VRKoC','nginx-private','XQnMC','sqnAt','tLtOm','JClOI','Adding\x20Autoscaler\x20Service\x20Account','ingress.yaml','Deleting\x20','knNvx','info','Adding\x20Nginx\x20Private\x20Pods\x20and\x20Services','clusterrole.yaml','cert-manager','Added\x20Ingress','kYIqj','message','debug','Deleted\x20Turboscale\x20Agent','QWQRv','LqTXw','EHQwb','gridProfileId','Added\x20Autoscaler\x20Components','ULRcE','labels','sgDTc','nStjK','Added\x20MetricsServer\x20Components','YVnLI','SoTCc','gCKdN','Deleted\x20clusterrolebinding','CHLSV','statusCode','deployment.yaml','Removed\x20grid\x20components','qVDnH','SfwUV','JORYq','eks.amazonaws.com/role-arn','Added\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','DBQLN','Adding\x20Autoscaler\x20Deployment','clusterRegion','yPQcx','Adding\x20MetricsServer\x20clusterRole\x20for\x20aggregated\x20reader','Adding\x20MetricsServer\x20API\x20Service','czLcU','SMrqp','XQvXr','dfkxQ','utf-8','RSRSG','YUwHe','Adding\x20MetricsServer\x20Components','hzAeY','autoscaler','MTcLo','Adding\x20clusterrolebinding','ITXkd','uid','QlmFN','kfbPF','BoRWf','TGjHf','uBOaY','loadAll','QIeHt','gRkeW','Adding\x20hubservice','zTzVa','../config/constants','JlSMO','BDUNF','ZbDqr','iNGjb','readNamespacedDeployment','iQdeA','Added\x20Cert\x20Manager','clusterName','Adding\x20Nginx\x20Pods\x20and\x20deployments','GLMwc','JJuuj','mGLoD','metrics-server','browser-node-cluster-role.yaml','kdAfX','HCjlQ','KYCzu','DMzUR','Adding\x20Cert\x20Manager\x20CRDs','cert-manager-webhook','xdPPA','GKlVd','Vgmhm','PtGKe','LQQks','myniG','usmFZ','clusterissuer.yaml','vpc-cni-cm.yaml','Adding\x20browser-node\x20service\x20account','private-ingress-nginx-controller','Added\x20Cert\x20Issuer','KWCCJ','771113TUlEzC','JvEkV','load','<ClusterName>','vhGGY','deSSK','Adding\x20Ingress','sHuoT','fnWoL','BwtkJ','tDDjR','bIkwd','cLixu','fmvOR','Adding\x20MetricsServer\x20clusterRoleBinding','FjsyQ','Deleting\x20ingress-nginx','pods-and-services.yaml','createNamespacedDeployment','KSres','./deleteStack','Adding\x20Autoscaler\x20clusterRole','qrsfm','Bwtla','zFCbB','JyfBX','createClusterRole','createNamespacedRoleBinding','hub-service.yaml','Deleted\x20cluster\x20and\x20linked\x20resources\x20successfully','8oPSGLI','FChLw','deleteAgent','lMjrH','annotations','HTAUU','FdnDO','nPsyb','BSXQk','scaleDownHubDeployment','OZlhR','NhJtS','XjkSE','deleteRoutingDeps','pCCVV','wTBnk','DYwbr','YWxwM','Adding\x20Autoscaler\x20Components'];a28_0x3927=function(){return _0x30b1d4;};return a28_0x3927();}function a28_0x28cd(_0xb02eb8,_0xcf2c0c){const _0x3927f6=a28_0x3927();return a28_0x28cd=function(_0x28cd9e,_0x4a5682){_0x28cd9e=_0x28cd9e-0x1ba;let _0x68396=_0x3927f6[_0x28cd9e];return _0x68396;},a28_0x28cd(_0xb02eb8,_0xcf2c0c);}const a28_0x5ea782=a28_0x28cd;(function(_0x3e90c1,_0x17e887){const _0xbe2146=a28_0x28cd,_0x56c93b=_0x3e90c1();while(!![]){try{const _0x476eb8=parseInt(_0xbe2146(0x1dd))/0x1+parseInt(_0xbe2146(0x2b4))/0x2*(-parseInt(_0xbe2146(0x1d1))/0x3)+parseInt(_0xbe2146(0x1c9))/0x4*(-parseInt(_0xbe2146(0x2d6))/0x5)+parseInt(_0xbe2146(0x304))/0x6+-parseInt(_0xbe2146(0x25a))/0x7*(parseInt(_0xbe2146(0x278))/0x8)+parseInt(_0xbe2146(0x1e1))/0x9+parseInt(_0xbe2146(0x1ef))/0xa*(-parseInt(_0xbe2146(0x2f2))/0xb);if(_0x476eb8===_0x17e887)break;else _0x56c93b['push'](_0x56c93b['shift']());}catch(_0x3bfbba){_0x56c93b['push'](_0x56c93b['shift']());}}}(a28_0x3927,0x9926b));const fs=require('fs'),yaml=require(a28_0x5ea782(0x2a3)),path=require(a28_0x5ea782(0x1dc)),{v4:uuidv4}=require('uuid'),{logger}=require('../config/logger'),{AG_API_URL,global_registry,CLUSTER_DEP_STACK_NAME,CLUSTER_AUTOSCALER_STACK_NAME,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a28_0x5ea782(0x238)),{deleteClusterStack}=require(a28_0x5ea782(0x26e)),{kubeApply,waitForDeployment}=require(a28_0x5ea782(0x292)),{delay}=require(a28_0x5ea782(0x30d)),applyTemplate=async(_0x2692eb,_0x4aa2ea,_0x552e97={})=>{const _0x450465=a28_0x5ea782,_0x5bee02={};_0x5bee02[_0x450465(0x205)]=_0x450465(0x2ac),_0x5bee02[_0x450465(0x27f)]=function(_0x3d1dc0,_0x5a4c60){return _0x3d1dc0===_0x5a4c60;},_0x5bee02['Bwtla']=_0x450465(0x245),_0x5bee02[_0x450465(0x290)]=_0x450465(0x2af),_0x5bee02[_0x450465(0x250)]=_0x450465(0x224),_0x5bee02['vhGGY']=_0x450465(0x31a),_0x5bee02['Eojir']='false',_0x5bee02[_0x450465(0x230)]=function(_0x1516ec,_0x1cb659){return _0x1516ec!=_0x1cb659;},_0x5bee02[_0x450465(0x1de)]=function(_0x4994f8,_0x453631){return _0x4994f8!==_0x453631;},_0x5bee02[_0x450465(0x29a)]=function(_0x305570,_0x588232){return _0x305570!==_0x588232;},_0x5bee02['BSXQk']=_0x450465(0x1f5),_0x5bee02[_0x450465(0x30c)]=_0x450465(0x2ca),_0x5bee02[_0x450465(0x2e3)]=_0x450465(0x262),_0x5bee02['FIjSH']=_0x450465(0x2d9),_0x5bee02['Hwcpv']=_0x450465(0x2d1),_0x5bee02[_0x450465(0x23a)]=function(_0x225327,_0x4183ea){return _0x225327===_0x4183ea;},_0x5bee02[_0x450465(0x1d9)]=function(_0x3e11eb,_0x2100ef){return _0x3e11eb===_0x2100ef;},_0x5bee02[_0x450465(0x243)]='hub-deployment.yaml',_0x5bee02[_0x450465(0x300)]=_0x450465(0x2f9);const _0x4da796=_0x5bee02;let _0x182da6=await fs[_0x450465(0x2e1)](path['join'](__dirname,'..',_0x4da796[_0x450465(0x290)],_0x2692eb),_0x4da796[_0x450465(0x250)]);_0x182da6=_0x182da6[_0x450465(0x2c3)](/<GridNamespace>/g,_0x4aa2ea),_0x182da6=_0x182da6[_0x450465(0x2c3)](/<BstackURL>/g,AG_API_URL),_0x182da6=_0x182da6[_0x450465(0x2c3)](/<ClusterName>/g,global_registry[_0x450465(0x240)]),_0x182da6=_0x182da6[_0x450465(0x2c3)](/<BstackUsername>/g,global_registry[_0x450465(0x319)]),_0x182da6=_0x182da6[_0x450465(0x2c3)](/<BstackAccessKey>/g,global_registry[_0x450465(0x31b)]),_0x182da6=_0x182da6[_0x450465(0x2c3)](/<GridName>/g,global_registry[_0x450465(0x2d8)]),_0x182da6=_0x182da6[_0x450465(0x2c3)](/<Region>/g,global_registry[_0x450465(0x21c)]),_0x182da6=_0x182da6[_0x450465(0x2c3)](/<CloudProvider>/g,global_registry[_0x450465(0x1d0)]),_0x182da6=_0x182da6[_0x450465(0x2c3)](/<HubImageVersion>/g,global_registry['hubVersion']),_0x182da6=_0x182da6[_0x450465(0x2c3)](/<BrowserImageVersion>/g,global_registry[_0x450465(0x1d6)]),_0x182da6=_0x182da6[_0x450465(0x2c3)](/<PrivateGrid>/g,global_registry[_0x450465(0x1df)]?_0x4da796[_0x450465(0x25e)]:_0x4da796['Eojir']);if(_0x4da796[_0x450465(0x230)](global_registry[_0x450465(0x206)],null)&&_0x4da796[_0x450465(0x1de)](global_registry[_0x450465(0x206)],undefined)){if(_0x4da796[_0x450465(0x29a)](_0x4da796[_0x450465(0x280)],_0x4da796[_0x450465(0x30c)]))_0x182da6=_0x182da6[_0x450465(0x2c3)](/<GridProfileID>/g,global_registry[_0x450465(0x206)]);else return _0x4da796[_0x450465(0x205)];}else{if(_0x4da796[_0x450465(0x27f)](_0x4da796[_0x450465(0x2e3)],_0x4da796[_0x450465(0x2e3)]))_0x182da6=_0x182da6[_0x450465(0x2c3)](/<GridProfileID>/g,'');else{const _0x17af53={};_0x17af53[_0x450465(0x2df)]=''+_0x317930['clientId'];const _0x398f07={'annotations':_0x17af53,..._0x2c484c['metadata']};_0x1203e1['metadata']=_0x398f07;}}const _0x3c0522=yaml[_0x450465(0x25c)](_0x182da6);if(_0x4da796['nPsyb'](global_registry[_0x450465(0x1d0)],AZURE)&&_0x4da796['Kcyru'](_0x552e97[_0x4da796['FIjSH']],undefined)){if(_0x4da796[_0x450465(0x29a)](_0x4da796[_0x450465(0x2b1)],_0x4da796[_0x450465(0x2b1)])){if(_0x4da796[_0x450465(0x27f)](_0x2dabdc[_0x2bc98f]['metadata'][_0x450465(0x299)],_0x4da796[_0x450465(0x271)]))return!![];}else{const _0x283117={};_0x283117[_0x450465(0x2df)]=''+_0x552e97['clientId'],_0x3c0522[_0x450465(0x31d)]={'annotations':_0x283117,..._0x3c0522['metadata']};}}if(_0x4da796[_0x450465(0x23a)](global_registry[_0x450465(0x1d0)],AZURE)&&_0x4da796['EjqLx'](_0x2692eb,_0x4da796[_0x450465(0x243)])){if(_0x4da796['gknCd'](_0x4da796[_0x450465(0x300)],_0x4da796['FUniC']))return![];else _0x3c0522['spec'][_0x450465(0x1cd)]['metadata']['labels']={'azure.workload.identity/use':_0x4da796[_0x450465(0x25e)],..._0x3c0522[_0x450465(0x1be)]['template']['metadata'][_0x450465(0x209)]};}return _0x3c0522;};exports['addAutoScalerComponents']=async(_0x48cb11,_0x1ef33e,_0x368cff,_0x3cb191,_0x33be73,_0x17228b,_0x7ab69f)=>{const _0x2f3b2f=a28_0x5ea782,_0x3d2a55={};_0x3d2a55[_0x2f3b2f(0x1ba)]=_0x2f3b2f(0x1f6),_0x3d2a55['xdPPA']=_0x2f3b2f(0x2af),_0x3d2a55['iBNJp']=_0x2f3b2f(0x229),_0x3d2a55[_0x2f3b2f(0x1cf)]=_0x2f3b2f(0x315),_0x3d2a55['sEBSa']=_0x2f3b2f(0x224),_0x3d2a55[_0x2f3b2f(0x324)]=_0x2f3b2f(0x218),_0x3d2a55[_0x2f3b2f(0x2a6)]=_0x2f3b2f(0x2a5),_0x3d2a55[_0x2f3b2f(0x279)]=_0x2f3b2f(0x26f),_0x3d2a55['GLMwc']=_0x2f3b2f(0x1fc),_0x3d2a55[_0x2f3b2f(0x2e7)]=_0x2f3b2f(0x2de),_0x3d2a55['HlOtX']=_0x2f3b2f(0x2c2),_0x3d2a55['gRkeW']='Adding\x20Autoscaler\x20clusterRoleBinding',_0x3d2a55[_0x2f3b2f(0x20b)]=_0x2f3b2f(0x2c5),_0x3d2a55[_0x2f3b2f(0x2a4)]='Adding\x20Autoscaler\x20namespacedRoleBinding',_0x3d2a55[_0x2f3b2f(0x286)]=_0x2f3b2f(0x29b),_0x3d2a55[_0x2f3b2f(0x259)]=_0x2f3b2f(0x21b),_0x3d2a55[_0x2f3b2f(0x2ae)]=_0x2f3b2f(0x213),_0x3d2a55[_0x2f3b2f(0x20f)]=_0x2f3b2f(0x25d);const _0xd1daa=_0x3d2a55;let _0xcfd33f=null,_0x14afbc=null;logger[_0x2f3b2f(0x1fa)](_0xd1daa[_0x2f3b2f(0x1ba)]),_0x14afbc=await fs['readFileAsync'](path[_0x2f3b2f(0x1d8)](__dirname,'..',_0xd1daa[_0x2f3b2f(0x24d)],_0xd1daa[_0x2f3b2f(0x1c3)],_0xd1daa[_0x2f3b2f(0x1cf)]),_0xd1daa[_0x2f3b2f(0x30a)]),_0xcfd33f=yaml[_0x2f3b2f(0x25c)](_0x14afbc),_0xcfd33f[_0x2f3b2f(0x31d)][_0x2f3b2f(0x27c)][_0xd1daa[_0x2f3b2f(0x324)]]=_0x7ab69f;const _0x1a3caa={};_0x1a3caa[_0x2f3b2f(0x2c7)]=_0xd1daa['qSWIy'],_0x1a3caa['body']=_0xcfd33f,await _0x48cb11[_0x2f3b2f(0x323)](_0x1a3caa),logger[_0x2f3b2f(0x1fa)](_0xd1daa[_0x2f3b2f(0x279)]),_0x14afbc=await fs[_0x2f3b2f(0x2e1)](path[_0x2f3b2f(0x1d8)](__dirname,'..',_0xd1daa[_0x2f3b2f(0x24d)],_0xd1daa[_0x2f3b2f(0x1c3)],_0xd1daa[_0x2f3b2f(0x242)]),_0xd1daa[_0x2f3b2f(0x30a)]),_0xcfd33f=yaml[_0x2f3b2f(0x25c)](_0x14afbc);const _0x295fc6={};_0x295fc6[_0x2f3b2f(0x2fc)]=_0xcfd33f,await _0x3cb191[_0x2f3b2f(0x274)](_0x295fc6),logger[_0x2f3b2f(0x1fa)](_0xd1daa[_0x2f3b2f(0x2e7)]),_0x14afbc=await fs[_0x2f3b2f(0x2e1)](path['join'](__dirname,'..',_0xd1daa[_0x2f3b2f(0x24d)],_0xd1daa[_0x2f3b2f(0x1c3)],_0xd1daa[_0x2f3b2f(0x29c)]),_0xd1daa['sEBSa']),_0xcfd33f=yaml['load'](_0x14afbc);const _0x29de4e={};_0x29de4e[_0x2f3b2f(0x2c7)]=_0xd1daa[_0x2f3b2f(0x2a6)],_0x29de4e[_0x2f3b2f(0x2fc)]=_0xcfd33f,await _0x3cb191[_0x2f3b2f(0x2e5)](_0x29de4e),logger['info'](_0xd1daa[_0x2f3b2f(0x235)]),_0x14afbc=await fs[_0x2f3b2f(0x2e1)](path['join'](__dirname,'..',_0xd1daa[_0x2f3b2f(0x24d)],_0xd1daa[_0x2f3b2f(0x1c3)],_0xd1daa[_0x2f3b2f(0x20b)]),_0xd1daa[_0x2f3b2f(0x30a)]),_0xcfd33f=yaml['load'](_0x14afbc);const _0x321fe4={};_0x321fe4['body']=_0xcfd33f,await _0x3cb191[_0x2f3b2f(0x2d5)](_0x321fe4),logger[_0x2f3b2f(0x1fa)](_0xd1daa[_0x2f3b2f(0x2a4)]),_0x14afbc=await fs[_0x2f3b2f(0x2e1)](path['join'](__dirname,'..',_0xd1daa[_0x2f3b2f(0x24d)],_0xd1daa[_0x2f3b2f(0x1c3)],_0xd1daa[_0x2f3b2f(0x286)]),_0xd1daa['sEBSa']),_0xcfd33f=yaml[_0x2f3b2f(0x25c)](_0x14afbc);const _0x5bf6d9={};_0x5bf6d9[_0x2f3b2f(0x2c7)]=_0xd1daa[_0x2f3b2f(0x2a6)],_0x5bf6d9[_0x2f3b2f(0x2fc)]=_0xcfd33f,await _0x3cb191[_0x2f3b2f(0x275)](_0x5bf6d9),logger[_0x2f3b2f(0x1fa)](_0xd1daa[_0x2f3b2f(0x259)]),_0x14afbc=await fs[_0x2f3b2f(0x2e1)](path[_0x2f3b2f(0x1d8)](__dirname,'..',_0xd1daa[_0x2f3b2f(0x24d)],_0xd1daa[_0x2f3b2f(0x1c3)],_0xd1daa[_0x2f3b2f(0x2ae)]),_0xd1daa[_0x2f3b2f(0x30a)]),_0x14afbc=_0x14afbc[_0x2f3b2f(0x2c3)](_0xd1daa[_0x2f3b2f(0x20f)],_0x17228b),_0xcfd33f=yaml[_0x2f3b2f(0x25c)](_0x14afbc);const _0x1fa625={};_0x1fa625['namespace']=_0xd1daa[_0x2f3b2f(0x2a6)],_0x1fa625['body']=_0xcfd33f,await _0x1ef33e[_0x2f3b2f(0x26c)](_0x1fa625);},exports['addMetricServerComponents']=async(_0x2243b1,_0x501d6a,_0x52c498,_0x4dba4b)=>{const _0x21a269=a28_0x5ea782,_0xb0a439={};_0xb0a439[_0x21a269(0x222)]='Adding\x20MetricsServer\x20Service\x20Account',_0xb0a439[_0x21a269(0x1f4)]=_0x21a269(0x2af),_0xb0a439[_0x21a269(0x216)]=_0x21a269(0x245),_0xb0a439[_0x21a269(0x2f7)]=_0x21a269(0x1d5),_0xb0a439[_0x21a269(0x28b)]=_0x21a269(0x224),_0xb0a439[_0x21a269(0x311)]='kube-system',_0xb0a439['pGJrz']=_0x21a269(0x21e),_0xb0a439['meXdb']=_0x21a269(0x2da),_0xb0a439[_0x21a269(0x2ec)]=_0x21a269(0x2e0),_0xb0a439[_0x21a269(0x2eb)]=_0x21a269(0x2ff),_0xb0a439[_0x21a269(0x232)]='Adding\x20MetricsServer\x20namespacedRoleBinding',_0xb0a439['kdAfX']=_0x21a269(0x29b),_0xb0a439[_0x21a269(0x2f3)]=_0x21a269(0x268),_0xb0a439[_0x21a269(0x204)]=_0x21a269(0x2ee),_0xb0a439['TYLOx']=_0x21a269(0x2c5),_0xb0a439[_0x21a269(0x289)]=_0x21a269(0x2b0),_0xb0a439[_0x21a269(0x28f)]='service.yaml',_0xb0a439[_0x21a269(0x320)]='Adding\x20MetricsServer\x20Deployment',_0xb0a439['HJdfG']=_0x21a269(0x213),_0xb0a439[_0x21a269(0x266)]=_0x21a269(0x21f),_0xb0a439[_0x21a269(0x248)]=_0x21a269(0x2f1);const _0x59e77b=_0xb0a439;logger[_0x21a269(0x1fa)](_0x59e77b[_0x21a269(0x222)]);let _0x442088=await fs[_0x21a269(0x2e1)](path[_0x21a269(0x1d8)](__dirname,'..',_0x59e77b[_0x21a269(0x1f4)],_0x59e77b[_0x21a269(0x216)],_0x59e77b[_0x21a269(0x2f7)]),_0x59e77b[_0x21a269(0x28b)]),_0x432e5b=yaml['load'](_0x442088);const _0x5a7acf={};_0x5a7acf[_0x21a269(0x2c7)]=_0x59e77b['OoHZo'],_0x5a7acf[_0x21a269(0x2fc)]=_0x432e5b,await _0x2243b1['createNamespacedServiceAccount'](_0x5a7acf),logger['info'](_0x59e77b['pGJrz']),_0x442088=await fs[_0x21a269(0x2e1)](path[_0x21a269(0x1d8)](__dirname,'..',_0x59e77b[_0x21a269(0x1f4)],_0x59e77b['SfwUV'],_0x59e77b['meXdb']),_0x59e77b[_0x21a269(0x28b)]),_0x432e5b=yaml['load'](_0x442088);const _0x3fe388={};_0x3fe388[_0x21a269(0x2fc)]=_0x432e5b,await _0x52c498[_0x21a269(0x274)](_0x3fe388),logger[_0x21a269(0x1fa)](_0x59e77b[_0x21a269(0x2ec)]),_0x442088=await fs['readFileAsync'](path[_0x21a269(0x1d8)](__dirname,'..',_0x59e77b[_0x21a269(0x1f4)],_0x59e77b[_0x21a269(0x216)],_0x59e77b[_0x21a269(0x2eb)]),_0x59e77b[_0x21a269(0x28b)]),_0x432e5b=yaml['load'](_0x442088);const _0x4ed1f={};_0x4ed1f[_0x21a269(0x2fc)]=_0x432e5b,await _0x52c498[_0x21a269(0x274)](_0x4ed1f),logger['info'](_0x59e77b[_0x21a269(0x232)]),_0x442088=await fs[_0x21a269(0x2e1)](path[_0x21a269(0x1d8)](__dirname,'..',_0x59e77b[_0x21a269(0x1f4)],_0x59e77b['SfwUV'],_0x59e77b[_0x21a269(0x247)]),_0x59e77b[_0x21a269(0x28b)]),_0x432e5b=yaml[_0x21a269(0x25c)](_0x442088);const _0x25daf6={};_0x25daf6['namespace']=_0x59e77b['OoHZo'],_0x25daf6[_0x21a269(0x2fc)]=_0x432e5b,await _0x52c498[_0x21a269(0x275)](_0x25daf6),logger['info'](_0x59e77b[_0x21a269(0x2f3)]),_0x442088=await fs[_0x21a269(0x2e1)](path['join'](__dirname,'..',_0x59e77b['tLtOm'],_0x59e77b[_0x21a269(0x216)],_0x59e77b['LqTXw']),_0x59e77b[_0x21a269(0x28b)]),_0x432e5b=yaml[_0x21a269(0x25c)](_0x442088);const _0x6d737a={};_0x6d737a[_0x21a269(0x2fc)]=_0x432e5b,await _0x52c498[_0x21a269(0x2d5)](_0x6d737a),logger[_0x21a269(0x1fa)](_0x59e77b[_0x21a269(0x2f3)]),_0x442088=await fs[_0x21a269(0x2e1)](path['join'](__dirname,'..',_0x59e77b[_0x21a269(0x1f4)],_0x59e77b[_0x21a269(0x216)],_0x59e77b[_0x21a269(0x2ef)]),_0x59e77b[_0x21a269(0x28b)]),_0x432e5b=yaml[_0x21a269(0x25c)](_0x442088);const _0xd871f9={};_0xd871f9[_0x21a269(0x2fc)]=_0x432e5b,await _0x52c498[_0x21a269(0x2d5)](_0xd871f9),logger[_0x21a269(0x1fa)](_0x59e77b['YWxwM']),_0x442088=await fs[_0x21a269(0x2e1)](path['join'](__dirname,'..',_0x59e77b['tLtOm'],_0x59e77b['SfwUV'],_0x59e77b[_0x21a269(0x28f)]),_0x59e77b['UpCTv']),_0x432e5b=yaml[_0x21a269(0x25c)](_0x442088);const _0x13723f={};_0x13723f[_0x21a269(0x2c7)]=_0x59e77b[_0x21a269(0x311)],_0x13723f['body']=_0x432e5b,await _0x2243b1[_0x21a269(0x318)](_0x13723f),logger[_0x21a269(0x1fa)](_0x59e77b[_0x21a269(0x320)]),_0x442088=await fs[_0x21a269(0x2e1)](path['join'](__dirname,'..',_0x59e77b['tLtOm'],_0x59e77b[_0x21a269(0x216)],_0x59e77b['HJdfG']),_0x59e77b['UpCTv']),_0x432e5b=yaml['load'](_0x442088);const _0x1aa04f={};_0x1aa04f[_0x21a269(0x2c7)]=_0x59e77b[_0x21a269(0x311)],_0x1aa04f[_0x21a269(0x2fc)]=_0x432e5b,await _0x501d6a[_0x21a269(0x26c)](_0x1aa04f),logger[_0x21a269(0x1fa)](_0x59e77b[_0x21a269(0x266)]),_0x442088=await fs[_0x21a269(0x2e1)](path[_0x21a269(0x1d8)](__dirname,'..',_0x59e77b[_0x21a269(0x1f4)],_0x59e77b[_0x21a269(0x216)],_0x59e77b[_0x21a269(0x248)]),_0x59e77b[_0x21a269(0x28b)]),_0x432e5b=yaml['load'](_0x442088);const _0x31d3c0={};_0x31d3c0['body']=_0x432e5b,await _0x4dba4b[_0x21a269(0x2a0)](_0x31d3c0);},exports[a28_0x5ea782(0x2fa)]=async _0x5a971c=>{const _0x25a424=a28_0x5ea782,_0x8e3a65={};_0x8e3a65['KYCzu']=_0x25a424(0x2b5),_0x8e3a65[_0x25a424(0x2d0)]='kube-system',_0x8e3a65[_0x25a424(0x269)]=function(_0x3f8af3,_0x715b47){return _0x3f8af3<_0x715b47;},_0x8e3a65[_0x25a424(0x264)]=function(_0x3efa66,_0x1ce8b1){return _0x3efa66===_0x1ce8b1;},_0x8e3a65['woDfG']=_0x25a424(0x2ab),_0x8e3a65[_0x25a424(0x24e)]=_0x25a424(0x28e),_0x8e3a65[_0x25a424(0x2cf)]=function(_0x31fb51,_0x520f2d){return _0x31fb51===_0x520f2d;},_0x8e3a65['kYIqj']=_0x25a424(0x245),_0x8e3a65['zFCbB']=function(_0x3cd9b6,_0x28e72b){return _0x3cd9b6===_0x28e72b;},_0x8e3a65['MTcLo']=_0x25a424(0x1cc),_0x8e3a65[_0x25a424(0x22c)]=_0x25a424(0x283);const _0xd90e60=_0x8e3a65,_0x1af2ce={};_0x1af2ce['namespace']=_0xd90e60[_0x25a424(0x2d0)];const _0x522bf0=await _0x5a971c['listNamespacedService'](_0x1af2ce),_0x573642=_0x522bf0?.[_0x25a424(0x1e0)];for(let _0x29aa12=0x0;_0xd90e60[_0x25a424(0x269)](_0x29aa12,_0x573642[_0x25a424(0x326)]);_0x29aa12++){if(_0xd90e60['tDDjR'](_0xd90e60[_0x25a424(0x2bd)],_0xd90e60[_0x25a424(0x24e)]))return!![];else{if(_0xd90e60[_0x25a424(0x2cf)](_0x573642[_0x29aa12][_0x25a424(0x31d)][_0x25a424(0x299)],_0xd90e60[_0x25a424(0x1ff)])){if(_0xd90e60[_0x25a424(0x272)](_0xd90e60[_0x25a424(0x22a)],_0xd90e60[_0x25a424(0x22c)]))_0x57d8e5=_0xd90e60[_0x25a424(0x249)];else return!![];}}}return![];},exports[a28_0x5ea782(0x30b)]=async(_0x40befd,_0x585a25)=>{const _0x1e6b8c=a28_0x5ea782,_0x57c63d={};_0x57c63d[_0x1e6b8c(0x215)]='true',_0x57c63d[_0x1e6b8c(0x293)]=function(_0x14b447,_0x1a2153){return _0x14b447===_0x1a2153;},_0x57c63d[_0x1e6b8c(0x1ea)]=_0x1e6b8c(0x284),_0x57c63d[_0x1e6b8c(0x22f)]=_0x1e6b8c(0x294),_0x57c63d['lrogO']=function(_0xa0550c,_0x20567e){return _0xa0550c!==_0x20567e;},_0x57c63d[_0x1e6b8c(0x1f9)]=_0x1e6b8c(0x29d),_0x57c63d[_0x1e6b8c(0x24a)]=_0x1e6b8c(0x1c1);const _0x38f89a=_0x57c63d;try{if(_0x38f89a['dzggq'](_0x38f89a[_0x1e6b8c(0x1ea)],_0x38f89a[_0x1e6b8c(0x22f)]))_0x2930f4=_0x2aae71[_0x1e6b8c(0x2c3)](/<GridProfileID>/g,_0x110ec0[_0x1e6b8c(0x206)]);else{const _0x5968a9={};_0x5968a9['name']=_0x585a25;const _0x503023=await _0x40befd[_0x1e6b8c(0x1da)](_0x5968a9);return!![];}}catch(_0x43afa5){if(_0x38f89a[_0x1e6b8c(0x2e4)](_0x38f89a['knNvx'],_0x38f89a[_0x1e6b8c(0x24a)]))return![];else{const _0xdb84eb={'azure.workload.identity/use':_0x38f89a['qVDnH'],..._0x1f22d9[_0x1e6b8c(0x1be)]['template'][_0x1e6b8c(0x31d)][_0x1e6b8c(0x209)]};_0x268bcb['spec'][_0x1e6b8c(0x1cd)][_0x1e6b8c(0x31d)]['labels']=_0xdb84eb;}}},exports[a28_0x5ea782(0x296)]=async(_0x2dc277,_0x5838d8)=>{const _0x39c3e5=a28_0x5ea782,_0x51f654={};_0x51f654[_0x39c3e5(0x1bd)]=_0x39c3e5(0x308),_0x51f654[_0x39c3e5(0x2e6)]=_0x39c3e5(0x1bf),_0x51f654['lefJw']=function(_0x39399e,_0x411678){return _0x39399e!==_0x411678;},_0x51f654[_0x39c3e5(0x27d)]=_0x39c3e5(0x301),_0x51f654[_0x39c3e5(0x226)]=function(_0x123d67,_0xfd01a5){return _0x123d67!==_0xfd01a5;},_0x51f654['lXlah']=_0x39c3e5(0x2bc),_0x51f654[_0x39c3e5(0x2cd)]=_0x39c3e5(0x2ce),_0x51f654['KiLLI']='123456';const _0x5123dc=_0x51f654;try{if(_0x5123dc['lefJw'](_0x5123dc[_0x39c3e5(0x27d)],_0x5123dc['HTAUU']))_0x1e938b=_0x5123dc[_0x39c3e5(0x1bd)];else{const _0x315cc8={};_0x315cc8['name']=_0x5838d8;const _0x1ac3c1=await _0x2dc277[_0x39c3e5(0x1da)](_0x315cc8),_0x5abf3d=_0x1ac3c1?.[_0x39c3e5(0x31d)]?.[_0x39c3e5(0x22d)];return _0x5abf3d;}}catch(_0x37904e){if(_0x5123dc[_0x39c3e5(0x226)](_0x5123dc[_0x39c3e5(0x2c4)],_0x5123dc[_0x39c3e5(0x2cd)]))return _0x5123dc['KiLLI'];else _0x21ca5c=_0x5123dc[_0x39c3e5(0x2e6)];}},exports[a28_0x5ea782(0x1d7)]=async(_0x17d671,_0x44dc5a,_0x40eede,_0x316147,_0x44c4e8,_0x19ea5a,_0xea23ba,_0x247c76,_0x5f4966,_0x34316b={},_0x4e5d27)=>{const _0x42f5d6=a28_0x5ea782,_0x37042d={'arXXK':function(_0x2c5d7d,_0x528a3b){return _0x2c5d7d===_0x528a3b;},'AmtHX':function(_0x1eb2eb,_0x342d84){return _0x1eb2eb===_0x342d84;},'FdnDO':_0x42f5d6(0x22b),'PlhyZ':function(_0xefdb7e,_0xc31055,_0x1117f1){return _0xefdb7e(_0xc31055,_0x1117f1);},'JpGqD':_0x42f5d6(0x2c5),'sKNcN':_0x42f5d6(0x30f),'KFMVP':function(_0x5c70c5,_0x16678f){return _0x5c70c5!=_0x16678f;},'fmvOR':function(_0x1af804,_0x52bba4){return _0x1af804!==_0x52bba4;},'DBQLN':function(_0x379366,_0x42ed92){return _0x379366!==_0x42ed92;},'MuIAr':'TjrQB','wePtR':_0x42f5d6(0x28a),'pjuMZ':_0x42f5d6(0x207),'FdRLd':function(_0xc32c6a,_0x7f8d43){return _0xc32c6a!==_0x7f8d43;},'VctZq':_0x42f5d6(0x2cb),'YPBXl':_0x42f5d6(0x227),'DFZVk':_0x42f5d6(0x20c),'wbABb':_0x42f5d6(0x1c4),'XdErO':'pfiMI','pFfEW':_0x42f5d6(0x256),'wZnfh':function(_0x3cc444,_0x24d4f3,_0xdd4e44,_0x1930f2){return _0x3cc444(_0x24d4f3,_0xdd4e44,_0x1930f2);},'czLcU':_0x42f5d6(0x2a9),'MvBAl':_0x42f5d6(0x1d4),'qrsfm':function(_0x5e41d3,_0x102d7e){return _0x5e41d3===_0x102d7e;},'xxmSq':_0x42f5d6(0x1ee),'Gpopl':'Adding\x20default\x20service\x20account','DDksH':function(_0x38ad87,_0x5ccfef,_0x552a50,_0x17d124){return _0x38ad87(_0x5ccfef,_0x552a50,_0x17d124);},'QIeHt':'default-service-account.yaml','WOioP':_0x42f5d6(0x2d3),'JlSMO':_0x42f5d6(0x316),'QmCXd':'Adding\x20browser-node-role\x20cluster\x20role','qKOEG':_0x42f5d6(0x246),'TGjHf':_0x42f5d6(0x317),'kHdWy':_0x42f5d6(0x2d4),'eWUwu':'browser-node-cluster-role-binding.yaml','OcmAW':'Added\x20browser-node-role-binding\x20role\x20binding','umioD':function(_0x4c5f25,_0x5e61fe){return _0x4c5f25===_0x5e61fe;},'hJcIZ':function(_0x29b83e,_0x171f3a){return _0x29b83e===_0x171f3a;},'KJCnD':_0x42f5d6(0x1e7),'xDBhG':_0x42f5d6(0x309),'myniG':_0x42f5d6(0x2af),'iNGjb':_0x42f5d6(0x1e2),'DYwbr':_0x42f5d6(0x2ed),'vyjoK':_0x42f5d6(0x224),'Vgmhm':'Added\x20Nginx\x20Pods\x20and\x20deployments','JyfBX':_0x42f5d6(0x219),'sLZjS':_0x42f5d6(0x2fb),'XQnMC':_0x42f5d6(0x26b),'MOnJe':_0x42f5d6(0x241),'yKeWH':function(_0x137c1e,_0x2ea418,_0x5400b2){return _0x137c1e(_0x2ea418,_0x5400b2);},'JdiGj':_0x42f5d6(0x1fb),'usmFZ':function(_0x9e0df0,_0x1659d0){return _0x9e0df0===_0x1659d0;},'wJWOf':'service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','sHuoT':function(_0x2b1eca,_0x332856){return _0x2b1eca===_0x332856;},'KSres':_0x42f5d6(0x1bf),'uPBcu':_0x42f5d6(0x2b5),'jQSnJ':_0x42f5d6(0x1e5),'UThnq':_0x42f5d6(0x1ca),'VfQlC':_0x42f5d6(0x1c0),'lMjrH':_0x42f5d6(0x1d3),'mGLoD':'Added\x20VPC\x20CNI\x20ConfigMaps','lcNdo':_0x42f5d6(0x255),'GRCwv':_0x42f5d6(0x1fd),'uOGnD':'6|4|5|2|18|11|16|3|0|13|14|17|12|9|15|7|10|1|8','ygWNL':function(_0x4a06e3,_0x39d332,_0x4a11f2){return _0x4a06e3(_0x39d332,_0x4a11f2);},'lNBPO':_0x42f5d6(0x1e4),'wImiR':_0x42f5d6(0x24b),'FaeMw':_0x42f5d6(0x254),'DnGrH':_0x42f5d6(0x258),'AfcRy':function(_0x7031ec,_0x16722a,_0x1d1a57,_0x2aab9f,_0x4f5956){return _0x7031ec(_0x16722a,_0x1d1a57,_0x2aab9f,_0x4f5956);},'ZbDqr':'Adding\x20Cert\x20Manager','XDhtD':function(_0x48c15e,_0x893d11,_0x51dc05,_0x383657,_0x43a4b5){return _0x48c15e(_0x893d11,_0x51dc05,_0x383657,_0x43a4b5);},'WpBWZ':_0x42f5d6(0x24c),'QYQDa':_0x42f5d6(0x23f),'YVnLI':'Waiting\x20for\x20Cert\x20Manager\x20Deployments','pSSUq':'Adding\x20Cert\x20Issuer','UDNKW':_0x42f5d6(0x306),'TBstH':function(_0x30c920,_0x123c04,_0x5063f4,_0x4046c1,_0xa99f72){return _0x30c920(_0x123c04,_0x5063f4,_0x4046c1,_0xa99f72);},'Wbtvz':'cert-manager-cainjector','hzAeY':_0x42f5d6(0x2c6),'yTxvi':'browserstack','Drqgo':_0x42f5d6(0x313),'NNMkQ':_0x42f5d6(0x1c8),'sZvPR':function(_0x7849d,_0x28b74d,_0x5ab5a0){return _0x7849d(_0x28b74d,_0x5ab5a0);},'yPQcx':_0x42f5d6(0x31e),'UqyVi':'Added\x20Turboscale\x20Agent','RiCIo':_0x42f5d6(0x236),'SMrqp':function(_0x2d1fc9,_0x208475,_0x51a8d5){return _0x2d1fc9(_0x208475,_0x51a8d5);},'BwtkJ':_0x42f5d6(0x276),'RSRSG':_0x42f5d6(0x1e8),'hWaMo':'Adding\x20hubdeployment','LszWy':function(_0x204d7f,_0x298f82,_0xa9217d){return _0x204d7f(_0x298f82,_0xa9217d);},'cqQPS':_0x42f5d6(0x2fe),'IaMcU':_0x42f5d6(0x29f),'tsdYx':_0x42f5d6(0x260),'FpRJW':function(_0x4b305a,_0x3136c9,_0x5dba95,_0xb04d8,_0x5e99f6){return _0x4b305a(_0x3136c9,_0x5dba95,_0xb04d8,_0x5e99f6);},'CHLSV':'ingress-nginx-controller','sgDTc':_0x42f5d6(0x257),'zTzVa':_0x42f5d6(0x1f7),'SIlkK':_0x42f5d6(0x1f1),'sBJHL':function(_0x29070e,_0x5df74d,_0x568444){return _0x29070e(_0x5df74d,_0x568444);},'ZKZjC':_0x42f5d6(0x1fe),'Ixwwb':function(_0x53d1fc,_0x29c083){return _0x53d1fc(_0x29c083);}};let _0x3e5e8e=null,_0x3f4809=null;logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x27e)]),_0x3e5e8e=await _0x37042d[_0x42f5d6(0x1e3)](applyTemplate,_0x37042d[_0x42f5d6(0x2ea)],_0x44c4e8);const _0x222161={};_0x222161[_0x42f5d6(0x2fc)]=_0x3e5e8e,await _0x316147[_0x42f5d6(0x2d5)](_0x222161),logger['info'](_0x37042d[_0x42f5d6(0x295)]);_0x37042d[_0x42f5d6(0x2bb)](_0xea23ba,null)&&_0x37042d[_0x42f5d6(0x267)](_0xea23ba,undefined)&&(_0x37042d[_0x42f5d6(0x21a)](_0x37042d[_0x42f5d6(0x2b9)],_0x37042d['MuIAr'])?_0x152f96[_0x42f5d6(0x201)](_0x1179d4[_0x42f5d6(0x200)]):(logger['info'](_0x37042d['wePtR']),await this[_0x42f5d6(0x314)](_0x17d671,_0x44dc5a,_0x40eede,_0x316147,_0x44c4e8,_0x19ea5a,_0xea23ba),logger[_0x42f5d6(0x1fa)](_0x37042d['pjuMZ'])));const _0x4b325e=await this[_0x42f5d6(0x2fa)](_0x17d671);!_0x4b325e&&(_0x37042d['FdRLd'](_0x37042d[_0x42f5d6(0x1d2)],_0x37042d[_0x42f5d6(0x1d2)])?_0x59f78e=_0x57fc4e['replace'](/<GridProfileID>/g,''):(logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x2ad)]),await this[_0x42f5d6(0x2c9)](_0x17d671,_0x44dc5a,_0x316147,_0x247c76),logger['info'](_0x37042d[_0x42f5d6(0x298)])));try{if(_0x37042d['arXXK'](_0x37042d[_0x42f5d6(0x2b6)],_0x37042d[_0x42f5d6(0x1bb)])){if(_0x37042d[_0x42f5d6(0x31c)](_0x5a2dad[_0x42f5d6(0x212)],0x199)||_0x37042d[_0x42f5d6(0x2dd)](_0x5eafe6[_0x42f5d6(0x2c0)],0x199))_0x5d1a7f[_0x42f5d6(0x201)](_0x17deb5['message']);else throw _0x41e8e8;}else{logger['info'](_0x37042d['pFfEW']),_0x3e5e8e=await _0x37042d[_0x42f5d6(0x2db)](applyTemplate,_0x37042d[_0x42f5d6(0x220)],_0x44c4e8,_0x34316b);const _0x124124={};_0x124124[_0x42f5d6(0x2c7)]=_0x44c4e8,_0x124124[_0x42f5d6(0x2fc)]=_0x3e5e8e,await _0x17d671[_0x42f5d6(0x323)](_0x124124),logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x2f4)]);if(_0x37042d[_0x42f5d6(0x270)](global_registry[_0x42f5d6(0x1d0)],AZURE)){if(_0x37042d['DBQLN'](_0x37042d[_0x42f5d6(0x1c2)],_0x37042d[_0x42f5d6(0x1c2)]))throw _0x50a221;else{logger[_0x42f5d6(0x1fa)](_0x37042d['Gpopl']),_0x3e5e8e=await _0x37042d[_0x42f5d6(0x2fd)](applyTemplate,_0x37042d[_0x42f5d6(0x234)],_0x44c4e8,_0x34316b);const _0x447b00={};_0x447b00[_0x42f5d6(0x299)]=_0x37042d['WOioP'],_0x447b00[_0x42f5d6(0x2c7)]=_0x44c4e8,_0x447b00[_0x42f5d6(0x2fc)]=_0x3e5e8e,await _0x17d671[_0x42f5d6(0x1c6)](_0x447b00),logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x239)]);}}logger['info'](_0x37042d['QmCXd']),_0x3e5e8e=await _0x37042d[_0x42f5d6(0x1e3)](applyTemplate,_0x37042d['qKOEG'],_0x44c4e8);const _0x3405e5={};_0x3405e5[_0x42f5d6(0x2fc)]=_0x3e5e8e,await _0x316147[_0x42f5d6(0x274)](_0x3405e5),logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x231)]),logger[_0x42f5d6(0x1fa)](_0x37042d['kHdWy']),_0x3e5e8e=await _0x37042d['PlhyZ'](applyTemplate,_0x37042d[_0x42f5d6(0x1c5)],_0x44c4e8);const _0x227d78={};_0x227d78['body']=_0x3e5e8e,await _0x316147[_0x42f5d6(0x2d5)](_0x227d78),logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x1ed)]);}}catch(_0x357c71){if(_0x37042d['umioD'](_0x357c71[_0x42f5d6(0x212)],0x199)||_0x37042d[_0x42f5d6(0x2d2)](_0x357c71['code'],0x199))logger[_0x42f5d6(0x201)](_0x357c71['message']);else throw _0x357c71;}const _0x7bcdab=await this[_0x42f5d6(0x30b)](_0x17d671,_0x37042d[_0x42f5d6(0x2a2)]);if(!_0x7bcdab){const _0x54464e=_0x37042d[_0x42f5d6(0x2aa)]['split']('|');let _0x578146=0x0;while(!![]){switch(_0x54464e[_0x578146++]){case'0':_0x3e5e8e=yaml['loadAll'](_0x3f4809);continue;case'1':_0x3f4809=await fs[_0x42f5d6(0x2e1)](path[_0x42f5d6(0x1d8)](__dirname,'..',_0x37042d[_0x42f5d6(0x252)],_0x37042d[_0x42f5d6(0x23c)],_0x37042d[_0x42f5d6(0x288)]),_0x37042d[_0x42f5d6(0x1e6)]);continue;case'2':logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x24f)]);continue;case'3':await _0x37042d['PlhyZ'](kubeApply,_0x3e5e8e,_0x5f4966);continue;case'4':logger['info'](_0x37042d[_0x42f5d6(0x273)]);continue;case'5':logger['info'](_0x37042d['sLZjS']);continue;case'6':_0x3e5e8e=yaml[_0x42f5d6(0x233)](_0x3f4809);continue;case'7':_0x3f4809=await fs[_0x42f5d6(0x2e1)](path[_0x42f5d6(0x1d8)](__dirname,'..',_0x37042d[_0x42f5d6(0x252)],_0x37042d[_0x42f5d6(0x23c)],_0x37042d[_0x42f5d6(0x1f2)]),_0x37042d[_0x42f5d6(0x1e6)]);continue;case'8':logger[_0x42f5d6(0x1fa)](_0x37042d['MOnJe']);continue;case'9':await _0x37042d[_0x42f5d6(0x2f0)](kubeApply,_0x3e5e8e,_0x5f4966);continue;}break;}}if(global_registry['isPrivateGrid']){logger['info'](_0x37042d[_0x42f5d6(0x2c1)]);let _0x44f712;if(_0x37042d[_0x42f5d6(0x253)](global_registry[_0x42f5d6(0x1d0)],AZURE))_0x44f712=_0x37042d[_0x42f5d6(0x1db)];else _0x37042d[_0x42f5d6(0x261)](global_registry[_0x42f5d6(0x1d0)],GCP)?_0x44f712=_0x37042d[_0x42f5d6(0x26d)]:_0x44f712=_0x37042d[_0x42f5d6(0x2b8)];_0x3f4809=await fs[_0x42f5d6(0x2e1)](path[_0x42f5d6(0x1d8)](__dirname,'..',_0x37042d[_0x42f5d6(0x252)],_0x37042d[_0x42f5d6(0x23c)],_0x37042d[_0x42f5d6(0x1ce)]),_0x37042d['vyjoK']),_0x3f4809=_0x3f4809[_0x42f5d6(0x2c3)](/<InternalLoadBalancerAnnotations>/g,_0x44f712),_0x3e5e8e=yaml[_0x42f5d6(0x233)](_0x3f4809),await _0x37042d[_0x42f5d6(0x1e3)](kubeApply,_0x3e5e8e,_0x5f4966),logger[_0x42f5d6(0x1fa)](_0x37042d['UThnq']);}if(global_registry[_0x42f5d6(0x2be)]){const _0x2e333e=_0x37042d[_0x42f5d6(0x312)]['split']('|');let _0x558732=0x0;while(!![]){switch(_0x2e333e[_0x558732++]){case'0':await _0x37042d[_0x42f5d6(0x2f0)](kubeApply,_0x3e5e8e,_0x5f4966);continue;case'1':_0x3e5e8e=yaml[_0x42f5d6(0x233)](_0x3f4809);continue;case'2':logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x27b)]);continue;case'3':logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x244)]);continue;case'4':_0x3f4809=await fs[_0x42f5d6(0x2e1)](path[_0x42f5d6(0x1d8)](__dirname,'..',_0x37042d['myniG'],_0x37042d[_0x42f5d6(0x310)]),_0x37042d[_0x42f5d6(0x1e6)]);continue;}break;}}const _0x24faf4=await this[_0x42f5d6(0x30b)](_0x17d671,_0x37042d[_0x42f5d6(0x2cc)]);if(!_0x24faf4){const _0x53ade2=_0x37042d['uOGnD']['split']('|');let _0x409741=0x0;while(!![]){switch(_0x53ade2[_0x409741++]){case'0':await _0x37042d[_0x42f5d6(0x297)](kubeApply,_0x3e5e8e,_0x5f4966);continue;case'1':await _0x37042d[_0x42f5d6(0x2f0)](kubeApply,_0x3e5e8e,_0x5f4966);continue;case'2':await _0x37042d['PlhyZ'](kubeApply,_0x3e5e8e,_0x5f4966);continue;case'3':_0x3e5e8e=yaml[_0x42f5d6(0x233)](_0x3f4809);continue;case'4':_0x3f4809=await fs[_0x42f5d6(0x2e1)](path[_0x42f5d6(0x1d8)](__dirname,'..',_0x37042d[_0x42f5d6(0x252)],_0x37042d['GRCwv'],_0x37042d['lNBPO']),_0x37042d[_0x42f5d6(0x1e6)]);continue;case'5':_0x3e5e8e=yaml[_0x42f5d6(0x233)](_0x3f4809);continue;case'6':logger['info'](_0x37042d['wImiR']);continue;case'7':_0x3f4809=await fs['readFileAsync'](path['join'](__dirname,'..',_0x37042d[_0x42f5d6(0x252)],_0x37042d[_0x42f5d6(0x2cc)],_0x37042d[_0x42f5d6(0x307)]),_0x37042d[_0x42f5d6(0x1e6)]);continue;case'8':logger[_0x42f5d6(0x1fa)](_0x37042d['DnGrH']);continue;case'9':await _0x37042d['AfcRy'](waitForDeployment,_0x44dc5a,_0x37042d['GRCwv'],_0x37042d[_0x42f5d6(0x2cc)],0x7530);continue;case'10':_0x3e5e8e=yaml[_0x42f5d6(0x233)](_0x3f4809);continue;case'11':logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x23b)]);continue;case'12':await _0x37042d['XDhtD'](waitForDeployment,_0x44dc5a,_0x37042d[_0x42f5d6(0x2cc)],_0x37042d[_0x42f5d6(0x302)],0x7530);continue;case'13':logger['info'](_0x37042d['QYQDa']);continue;case'14':logger['info'](_0x37042d[_0x42f5d6(0x20d)]);continue;case'15':logger[_0x42f5d6(0x1fa)](_0x37042d['pSSUq']);continue;case'16':_0x3f4809=await fs[_0x42f5d6(0x2e1)](path[_0x42f5d6(0x1d8)](__dirname,'..',_0x37042d[_0x42f5d6(0x252)],_0x37042d[_0x42f5d6(0x2cc)],_0x37042d['UDNKW']),_0x37042d[_0x42f5d6(0x1e6)]);continue;case'17':await _0x37042d[_0x42f5d6(0x1eb)](waitForDeployment,_0x44dc5a,_0x37042d[_0x42f5d6(0x2cc)],_0x37042d['Wbtvz'],0x7530);continue;case'18':logger['info'](_0x37042d[_0x42f5d6(0x228)]);continue;}break;}}const _0x26c306=await this[_0x42f5d6(0x30b)](_0x17d671,_0x37042d['yTxvi']);if(!_0x26c306){const _0x38f980=_0x37042d['Drqgo']['split']('|');let _0x32cd51=0x0;while(!![]){switch(_0x38f980[_0x32cd51++]){case'0':_0x3e5e8e=yaml[_0x42f5d6(0x233)](_0x3f4809);continue;case'1':logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x2bf)]);continue;case'2':await _0x37042d['sZvPR'](kubeApply,_0x3e5e8e,_0x5f4966);continue;case'3':_0x3f4809=_0x3f4809['replace'](/<BstackAccessKey>/g,global_registry[_0x42f5d6(0x31b)]);continue;case'4':_0x3f4809=await fs[_0x42f5d6(0x2e1)](path[_0x42f5d6(0x1d8)](__dirname,'..',_0x37042d[_0x42f5d6(0x252)],_0x37042d[_0x42f5d6(0x21d)]),_0x37042d[_0x42f5d6(0x1e6)]);continue;case'5':logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x1c7)]);continue;case'6':_0x3f4809=_0x3f4809[_0x42f5d6(0x2c3)](/<BstackURL>/g,AG_API_URL);continue;case'7':_0x3f4809=_0x3f4809[_0x42f5d6(0x2c3)](/<BstackUsername>/g,global_registry[_0x42f5d6(0x319)]);continue;}break;}}logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x2e8)]),_0x3e5e8e=await _0x37042d[_0x42f5d6(0x221)](applyTemplate,_0x37042d[_0x42f5d6(0x263)],_0x44c4e8);const _0x3387e5={};_0x3387e5[_0x42f5d6(0x2c7)]=_0x44c4e8,_0x3387e5['body']=_0x3e5e8e,await _0x17d671['createNamespacedService'](_0x3387e5),logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x225)]),logger[_0x42f5d6(0x1fa)](_0x37042d['hWaMo']),_0x3e5e8e=await _0x37042d['LszWy'](applyTemplate,_0x37042d[_0x42f5d6(0x2dc)],_0x44c4e8);const _0x160ab5={};_0x160ab5[_0x42f5d6(0x2c7)]=_0x44c4e8,_0x160ab5['body']=_0x3e5e8e,await _0x44dc5a[_0x42f5d6(0x26c)](_0x160ab5),logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x1cb)]),logger[_0x42f5d6(0x1fa)](_0x37042d[_0x42f5d6(0x30e)]),await _0x37042d['FpRJW'](waitForDeployment,_0x44dc5a,_0x37042d['KJCnD'],_0x37042d[_0x42f5d6(0x211)],0xea60);global_registry[_0x42f5d6(0x1df)]&&await _0x37042d[_0x42f5d6(0x29e)](waitForDeployment,_0x44dc5a,_0x37042d['KJCnD'],_0x37042d[_0x42f5d6(0x20a)],0xea60);_0x3f4809=await fs['readFileAsync'](path['join'](__dirname,'..',_0x37042d[_0x42f5d6(0x252)],_0x37042d[_0x42f5d6(0x237)]),_0x37042d[_0x42f5d6(0x1e6)]);const _0x17ab5b=global_registry[_0x42f5d6(0x1df)]?_0x37042d[_0x42f5d6(0x2b7)]:_0x37042d[_0x42f5d6(0x23c)];_0x3f4809=_0x3f4809[_0x42f5d6(0x2c3)](/<GridNamespace>/g,_0x44c4e8),_0x3f4809=_0x3f4809[_0x42f5d6(0x2c3)](/<NginxIngressClass>/g,_0x17ab5b),_0x3e5e8e=yaml[_0x42f5d6(0x233)](_0x3f4809),await _0x37042d['sBJHL'](kubeApply,_0x3e5e8e,_0x5f4966),logger[_0x42f5d6(0x1fa)](_0x37042d['ZKZjC']),await _0x37042d[_0x42f5d6(0x2c8)](delay,0x1388);},exports[a28_0x5ea782(0x321)]=async(_0x4a9d49,_0x2bc149,_0xa58d28,_0x34d845,_0x1f314e)=>{const _0x1544c1=a28_0x5ea782,_0x10999a={'OZlhR':'4|6|3|0|2|5|1','dfkxQ':function(_0x30daae,_0x258ac){return _0x30daae(_0x258ac);},'VRKoC':_0x1544c1(0x210),'QlmFN':_0x1544c1(0x2b2),'wTBnk':_0x1544c1(0x214),'deSSK':_0x1544c1(0x1e9)},_0x494c2b=_0x10999a[_0x1544c1(0x282)][_0x1544c1(0x2d7)]('|');let _0x4f9640=0x0;while(!![]){switch(_0x494c2b[_0x4f9640++]){case'0':await _0x10999a[_0x1544c1(0x223)](delay,0x2710);continue;case'1':logger[_0x1544c1(0x1fa)](_0x10999a[_0x1544c1(0x1f0)]);continue;case'2':logger[_0x1544c1(0x1fa)](_0x10999a[_0x1544c1(0x22e)]);continue;case'3':logger[_0x1544c1(0x1fa)](_0x10999a[_0x1544c1(0x287)]);continue;case'4':logger['info'](_0x10999a[_0x1544c1(0x25f)]);continue;case'5':const _0x226a8d={};_0x226a8d[_0x1544c1(0x299)]='deployer-srvacct-binding-'+_0x1f314e,await _0x34d845[_0x1544c1(0x1bc)](_0x226a8d);continue;case'6':const _0xe6a15c={};_0xe6a15c[_0x1544c1(0x299)]=_0x1f314e,await _0x4a9d49[_0x1544c1(0x2a8)](_0xe6a15c);continue;}break;}},exports[a28_0x5ea782(0x27a)]=async _0x3b6cc5=>{const _0x132d38=a28_0x5ea782,_0x489858={};_0x489858[_0x132d38(0x208)]=_0x132d38(0x2a7),_0x489858[_0x132d38(0x305)]=_0x132d38(0x325),_0x489858[_0x132d38(0x25b)]=_0x132d38(0x202);const _0x144dc2=_0x489858,_0x481683=await this[_0x132d38(0x30b)](_0x3b6cc5,_0x144dc2[_0x132d38(0x208)]);if(_0x481683){logger[_0x132d38(0x1fa)](_0x144dc2[_0x132d38(0x305)]);const _0x3b9da8={};_0x3b9da8['name']=_0x144dc2['ULRcE'],await _0x3b6cc5[_0x132d38(0x2a8)](_0x3b9da8),logger[_0x132d38(0x1fa)](_0x144dc2['JvEkV']);}},exports[a28_0x5ea782(0x285)]=async _0x3a3060=>{const _0x2c38f8=a28_0x5ea782,_0x589694={'sqnAt':'ingress-nginx','CyOyo':_0x2c38f8(0x26a),'TctYu':_0x2c38f8(0x2b3),'yzSyi':function(_0x480690,_0x32ba78){return _0x480690(_0x32ba78);},'LQQks':_0x2c38f8(0x1fd),'QWQRv':'Deleting\x20cert-manager','klxzl':'Deleted\x20cert-manager','mZDEU':function(_0x36781c,_0x1cab62){return _0x36781c(_0x1cab62);}},_0x287283=await this['namespaceExists'](_0x3a3060,_0x589694[_0x2c38f8(0x1f3)]);if(_0x287283){logger[_0x2c38f8(0x1fa)](_0x589694['CyOyo']);const _0xf2b764={};_0xf2b764[_0x2c38f8(0x299)]=_0x589694[_0x2c38f8(0x1f3)],await _0x3a3060[_0x2c38f8(0x2a8)](_0xf2b764),logger[_0x2c38f8(0x1fa)](_0x589694[_0x2c38f8(0x28c)]);}await _0x589694[_0x2c38f8(0x31f)](delay,0x124f8);const _0x1b8991=await this['namespaceExists'](_0x3a3060,_0x589694[_0x2c38f8(0x251)]);if(_0x1b8991){logger[_0x2c38f8(0x1fa)](_0x589694[_0x2c38f8(0x203)]);const _0xb17866={};_0xb17866['name']=_0x589694[_0x2c38f8(0x251)],await _0x3a3060[_0x2c38f8(0x2a8)](_0xb17866),logger['info'](_0x589694[_0x2c38f8(0x28d)]);}await _0x589694[_0x2c38f8(0x2e2)](delay,0xafc8);},exports[a28_0x5ea782(0x303)]=async(_0x19247d,_0x59add6)=>{const _0x1f73bd=a28_0x5ea782,_0x402010={'SoTCc':function(_0x95c733,_0x3b8e3e){return _0x95c733(_0x3b8e3e);},'iQdeA':_0x1f73bd(0x277)};logger[_0x1f73bd(0x1fa)](_0x1f73bd(0x1f8)+CLUSTER_DEP_STACK_NAME+'-'+_0x59add6+_0x1f73bd(0x291)+CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x59add6+_0x1f73bd(0x2e9)+_0x19247d),await Promise[_0x1f73bd(0x2ba)]([_0x402010['SoTCc'](deleteClusterStack,CLUSTER_DEP_STACK_NAME+'-'+_0x59add6),_0x402010[_0x1f73bd(0x20e)](deleteClusterStack,CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x59add6)]),logger[_0x1f73bd(0x1fa)](_0x402010[_0x1f73bd(0x23e)]);},exports[a28_0x5ea782(0x2f8)]=async(_0x4a8b71,_0x3a07ff)=>{const _0x430bf9=a28_0x5ea782,_0xd89984={};_0xd89984[_0x430bf9(0x2a1)]=_0x430bf9(0x1ec),_0xd89984[_0x430bf9(0x265)]=_0x430bf9(0x322);const _0x443559=_0xd89984;logger['info'](_0x443559['jZbNI']);const _0x43b596={};_0x43b596[_0x430bf9(0x299)]=TURBOSCALE_DEPLOYMENT,_0x43b596[_0x430bf9(0x2c7)]=_0x3a07ff;const _0x1a5efa=await _0x4a8b71[_0x430bf9(0x23d)](_0x43b596);_0x1a5efa[_0x430bf9(0x1be)]['replicas']=0x1;const _0x3a4f4d={};_0x3a4f4d[_0x430bf9(0x299)]=TURBOSCALE_DEPLOYMENT,_0x3a4f4d[_0x430bf9(0x2c7)]=_0x3a07ff,_0x3a4f4d[_0x430bf9(0x2fc)]=_0x1a5efa,await _0x4a8b71['replaceNamespacedDeployment'](_0x3a4f4d),logger['info'](_0x443559[_0x430bf9(0x265)]);},exports[a28_0x5ea782(0x281)]=async(_0x31c3a6,_0x216594)=>{const _0xa27100=a28_0x5ea782,_0x886940={};_0x886940[_0xa27100(0x217)]='Scaling\x20down\x20deployment',_0x886940['XLZoU']='Scaled\x20down\x20deployment';const _0xdeb063=_0x886940;logger[_0xa27100(0x1fa)](_0xdeb063[_0xa27100(0x217)]);const _0x309d2b={};_0x309d2b[_0xa27100(0x299)]=TURBOSCALE_DEPLOYMENT,_0x309d2b[_0xa27100(0x2c7)]=_0x216594;const _0x168a48=await _0x31c3a6[_0xa27100(0x23d)](_0x309d2b);_0x168a48[_0xa27100(0x1be)][_0xa27100(0x2f6)]=0x0;const _0x31ba1f={};_0x31ba1f[_0xa27100(0x299)]=TURBOSCALE_DEPLOYMENT,_0x31ba1f['namespace']=_0x216594,_0x31ba1f[_0xa27100(0x2fc)]=_0x168a48,await _0x31c3a6[_0xa27100(0x2f5)](_0x31ba1f),logger[_0xa27100(0x1fa)](_0xdeb063['XLZoU']);};