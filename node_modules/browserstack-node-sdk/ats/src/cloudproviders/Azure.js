const a1_0x4966b2=a1_0x51cd;(function(_0x729b78,_0x29ff50){const _0x185722=a1_0x51cd,_0x235674=_0x729b78();while(!![]){try{const _0x49142d=-parseInt(_0x185722(0x1cd))/0x1*(parseInt(_0x185722(0x20f))/0x2)+-parseInt(_0x185722(0x1f8))/0x3*(-parseInt(_0x185722(0x1fe))/0x4)+parseInt(_0x185722(0x19c))/0x5+parseInt(_0x185722(0x18d))/0x6*(-parseInt(_0x185722(0x25b))/0x7)+parseInt(_0x185722(0x24c))/0x8+-parseInt(_0x185722(0x290))/0x9+-parseInt(_0x185722(0x266))/0xa*(-parseInt(_0x185722(0x268))/0xb);if(_0x49142d===_0x29ff50)break;else _0x235674['push'](_0x235674['shift']());}catch(_0x5295f2){_0x235674['push'](_0x235674['shift']());}}}(a1_0x3159,0x26a81));const fs=require('fs'),path=require(a1_0x4966b2(0x27c)),yaml=require(a1_0x4966b2(0x25e)),{logger}=require(a1_0x4966b2(0x170)),{CloudProvider}=require(a1_0x4966b2(0x1b3)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require('../config/constants'),{ClientSecretCredential}=require('@azure/identity'),{NetworkManagementClient}=require(a1_0x4966b2(0x19b)),{StorageManagementClient}=require('@azure/arm-storage'),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require('@azure/arm-containerservice');class AzureCloudProvider extends CloudProvider{constructor(_0x4efee5,_0x1ff37d,_0x14ce01,_0x3d3780){const _0x5f59b0=a1_0x4966b2,_0x55b8ab={};_0x55b8ab['DQEsX']='0|2|3|5|1|4';const _0x11074e=_0x55b8ab,_0x3bb16c=_0x11074e[_0x5f59b0(0x29e)][_0x5f59b0(0x226)]('|');let _0x50832b=0x0;while(!![]){switch(_0x3bb16c[_0x50832b++]){case'0':super(AZURE,_0x4efee5,_0x1ff37d,_0x14ce01,_0x3d3780);continue;case'1':this[_0x5f59b0(0x1d5)]=null;continue;case'2':this['clusterInfo']=null;continue;case'3':this['containerClient']=null;continue;case'4':this[_0x5f59b0(0x173)]=null;continue;case'5':this[_0x5f59b0(0x1c1)]=null;continue;}break;}}async['init'](){const _0x14fea3=a1_0x4966b2;return await super[_0x14fea3(0x2aa)](),this;}[a1_0x4966b2(0x202)](){const _0x215902=a1_0x4966b2,_0x3dbab0=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry['cloudProviderClientId'],global_registry[_0x215902(0x26a)]);this[_0x215902(0x1d9)]=new ContainerServiceClient(_0x3dbab0,global_registry[_0x215902(0x20a)]),this[_0x215902(0x1c1)]=new StorageManagementClient(_0x3dbab0,global_registry['cloudProviderSubscriptionId']),this['resourceClient']=new ResourceManagementClient(_0x3dbab0,global_registry[_0x215902(0x20a)]),this[_0x215902(0x173)]=new NetworkManagementClient(_0x3dbab0,global_registry[_0x215902(0x20a)]);}[a1_0x4966b2(0x286)](){const _0x2ba2ed=a1_0x4966b2,_0x33eceb={};_0x33eceb[_0x2ba2ed(0x251)]=function(_0x3fe7b6,_0x2b30ed){return _0x3fe7b6+_0x2b30ed;},_0x33eceb[_0x2ba2ed(0x1b0)]=_0x2ba2ed(0x1fb),_0x33eceb['sGXMU']=function(_0x33c2a7,_0xe11986){return _0x33c2a7-_0xe11986;};const _0x2fbcb9=_0x33eceb,_0x511c56=global_registry[_0x2ba2ed(0x279)]['split']('-'),_0x40fd38=_0x2fbcb9['PhfOR'](_0x2fbcb9[_0x2ba2ed(0x1b0)],_0x511c56[_0x2fbcb9[_0x2ba2ed(0x221)](_0x511c56[_0x2ba2ed(0x23b)],0x1)])['slice'](0x0,0x18);return _0x40fd38[_0x2ba2ed(0x235)]();}[a1_0x4966b2(0x1f3)](_0x3bba81){const _0x2b778a=a1_0x4966b2,_0x343736={};_0x343736[_0x2b778a(0x227)]=_0x2b778a(0x1bd);const _0x17b267=_0x343736,_0x11d422=_0x17b267[_0x2b778a(0x227)][_0x2b778a(0x226)]('|');let _0x537699=0x0;while(!![]){switch(_0x11d422[_0x537699++]){case'0':global_registry[_0x2b778a(0x1cc)]=_0x3bba81[this[_0x2b778a(0x1ec)]]['resourceGroup'];continue;case'1':this[_0x2b778a(0x202)]();continue;case'2':global_registry['cloudProviderSubscriptionId']=_0x3bba81[this[_0x2b778a(0x1ec)]][_0x2b778a(0x185)];continue;case'3':global_registry[_0x2b778a(0x2a9)]=_0x3bba81[this['cloudProviderName']]['tenantId'];continue;case'4':global_registry[_0x2b778a(0x26a)]=_0x3bba81[this[_0x2b778a(0x1ec)]]['clientSecret'];continue;case'5':global_registry[_0x2b778a(0x1b1)]=_0x3bba81[this[_0x2b778a(0x1ec)]][_0x2b778a(0x281)];continue;}break;}}async[a1_0x4966b2(0x2a4)](_0x34dcdb,_0x3fcc21){const _0x39cfe5=a1_0x4966b2,_0xc98a68={'EmRma':function(_0x721d3c,_0x6226c0){return _0x721d3c===_0x6226c0;},'hsltw':function(_0x285600,_0x5ef5c5){return _0x285600(_0x5ef5c5);},'JWwdC':function(_0x30e366,_0x4550a0){return _0x30e366(_0x4550a0);},'Uvvlk':function(_0x44826e,_0x1057cd){return _0x44826e!==_0x1057cd;},'OXVFe':_0x39cfe5(0x215),'zuWzf':function(_0x4d6c8c,_0x283d39){return _0x4d6c8c===_0x283d39;},'RGlzp':'KBVCa','ZfOUE':_0x39cfe5(0x2a1),'HrcKd':function(_0x3ca6ea,_0x1781b3){return _0x3ca6ea(_0x1781b3);},'aaIvt':function(_0x1dae03,_0x4d1de0){return _0x1dae03===_0x4d1de0;},'ecNIQ':function(_0x4b6c9c,_0x591932){return _0x4b6c9c===_0x591932;},'kntCb':_0x39cfe5(0x289),'LTgKV':_0x39cfe5(0x1c6),'xtRIM':_0x39cfe5(0x158),'PnbML':function(_0x11b15b,_0x4d5a6d){return _0x11b15b===_0x4d5a6d;},'bIWOG':_0x39cfe5(0x292),'nqBvT':_0x39cfe5(0x1a5),'jVyKR':_0x39cfe5(0x16b),'pNPeb':function(_0x3e03c1,_0x31bfd4){return _0x3e03c1<_0x31bfd4;},'OFuEF':'RYGug','xTTSD':'KmIQU','WmBAg':function(_0x33519b,_0x1bae4d){return _0x33519b+_0x1bae4d;},'VNPIh':_0x39cfe5(0x164),'PGxTf':function(_0x1724df,_0x320d22){return _0x1724df<=_0x320d22;},'wnXxq':function(_0x4ccf41,_0x1b8211){return _0x4ccf41>_0x1b8211;},'ddlcI':function(_0x2cb749,_0x157ec8){return _0x2cb749===_0x157ec8;},'sKETh':_0x39cfe5(0x1f1),'IPxqZ':'lpdyr','EXdMM':function(_0x262c96,_0x3d6c6d){return _0x262c96-_0x3d6c6d;}},_0x8f0085=this[_0x39cfe5(0x1ec)][_0x39cfe5(0x1df)](),_0x16e0f3=await _0xc98a68['hsltw'](_0x34dcdb,_0x8f0085+'\x20CLIENT\x20ID:\x20'),_0x31d7ff=await _0xc98a68[_0x39cfe5(0x1c3)](_0x34dcdb,_0x8f0085+_0x39cfe5(0x15f)),_0x1b5d4c=await _0xc98a68[_0x39cfe5(0x1c3)](_0x34dcdb,_0x8f0085+_0x39cfe5(0x22f)),_0xcf3d7c=await _0xc98a68[_0x39cfe5(0x210)](_0x34dcdb,_0x8f0085+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x39cfe5(0x1b1)]=_0x16e0f3,global_registry[_0x39cfe5(0x26a)]=_0x31d7ff,global_registry['cloudProviderTenantId']=_0x1b5d4c,global_registry[_0x39cfe5(0x20a)]=_0xcf3d7c,this[_0x39cfe5(0x202)]();const _0x3b2c6e=await this[_0x39cfe5(0x16d)](),_0x3b7a6b=_0x3b2c6e[_0x39cfe5(0x23b)];let _0x56f48b;if(_0xc98a68[_0x39cfe5(0x1c7)](_0x3b7a6b,0x0)){if(_0xc98a68[_0x39cfe5(0x15c)](_0xc98a68[_0x39cfe5(0x168)],_0xc98a68[_0x39cfe5(0x168)]))return;else _0x56f48b=await _0xc98a68[_0x39cfe5(0x1c3)](_0x34dcdb,_0x8f0085+_0x39cfe5(0x196));}else{if(_0xc98a68[_0x39cfe5(0x201)](_0x3b7a6b,0x1)){if(_0xc98a68['zuWzf'](_0xc98a68[_0x39cfe5(0x186)],_0xc98a68[_0x39cfe5(0x29c)])){if(_0xc98a68[_0x39cfe5(0x1c7)](_0x3f177c['name'],'turboscale-managed-identity-'+this[_0x39cfe5(0x1bb)]))return!![];}else{const _0xa475be=await _0xc98a68[_0x39cfe5(0x238)](_0x34dcdb,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x3b2c6e[0x0]+_0x39cfe5(0x299));(_0xc98a68[_0x39cfe5(0x1c7)](_0xa475be,undefined)||_0xc98a68['zuWzf'](_0xa475be,null)||!(_0xc98a68[_0x39cfe5(0x1c7)](_0xa475be[_0x39cfe5(0x235)](),'y')||_0xc98a68[_0x39cfe5(0x1fa)](_0xa475be['toLowerCase'](),'n')))&&(_0xc98a68[_0x39cfe5(0x1c5)](_0xc98a68[_0x39cfe5(0x217)],_0xc98a68[_0x39cfe5(0x2b8)])?_0x40d996['push'](_0x2c2204):(console[_0x39cfe5(0x234)](_0xc98a68[_0x39cfe5(0x1d6)]),process[_0x39cfe5(0x192)](0x1)));if(_0xc98a68[_0x39cfe5(0x23f)](_0xa475be['toLowerCase'](),'n')){if(_0xc98a68[_0x39cfe5(0x15c)](_0xc98a68[_0x39cfe5(0x1ba)],_0xc98a68[_0x39cfe5(0x1c8)]))process[_0x39cfe5(0x192)](0x0);else return!![];}_0x56f48b=_0x3b2c6e[0x0];}}else{if(_0xc98a68[_0x39cfe5(0x15c)](_0xc98a68[_0x39cfe5(0x1ee)],_0xc98a68[_0x39cfe5(0x1ee)]))_0x4715cd['push'](_0x1171e6);else{for(let _0x51269c=0x0;_0xc98a68['pNPeb'](_0x51269c,_0x3b2c6e['length']);_0x51269c+=0x1){_0xc98a68[_0x39cfe5(0x1c5)](_0xc98a68[_0x39cfe5(0x233)],_0xc98a68[_0x39cfe5(0x2a3)])?_0x51b40a['push'](_0x4d9872):console['log']('['+_0xc98a68['WmBAg'](_0x51269c,0x1)+']\x20'+_0x3b2c6e[_0x51269c]);}const _0x1fbe70=await _0xc98a68['HrcKd'](_0x34dcdb,_0xc98a68[_0x39cfe5(0x156)]),_0x5dc51f=_0xc98a68[_0x39cfe5(0x238)](Number,_0x1fbe70);if(_0xc98a68['HrcKd'](isNaN,_0x5dc51f)||_0xc98a68['PGxTf'](_0x5dc51f,0x0)||_0xc98a68['wnXxq'](_0x5dc51f,_0x3b7a6b)){if(_0xc98a68['ddlcI'](_0xc98a68['sKETh'],_0xc98a68['IPxqZ']))return _0x392f26[_0x39cfe5(0x234)](_0x39cfe5(0x206)+_0x46b7dc+_0x39cfe5(0x298)+_0x52e7e8),![];else console['error'](_0xc98a68['xtRIM']),process[_0x39cfe5(0x192)](0x1);}_0x56f48b=_0x3b2c6e[_0xc98a68[_0x39cfe5(0x2a8)](_0x5dc51f,0x1)];}}}global_registry['cloudProviderResourceGroup']=_0x56f48b;const _0x3cff43={};return _0x3cff43[_0x39cfe5(0x281)]=_0x16e0f3,_0x3cff43[_0x39cfe5(0x284)]=_0x31d7ff,_0x3cff43[_0x39cfe5(0x17d)]=_0x1b5d4c,_0x3cff43[_0x39cfe5(0x185)]=_0xcf3d7c,_0x3cff43[_0x39cfe5(0x2a7)]=_0x56f48b,_0x3fcc21[_0x39cfe5(0x1cb)][AZURE]=_0x3cff43,_0x3fcc21;}async[a1_0x4966b2(0x16d)](){const _0x3459a7=a1_0x4966b2,_0x3b282b={};_0x3b282b[_0x3459a7(0x25f)]=_0x3459a7(0x256),_0x3b282b[_0x3459a7(0x181)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x3b282b[_0x3459a7(0x20d)]=function(_0x155fd8,_0x46a1f7){return _0x155fd8!==_0x46a1f7;},_0x3b282b[_0x3459a7(0x273)]=_0x3459a7(0x250),_0x3b282b[_0x3459a7(0x1c4)]=_0x3459a7(0x20e);const _0x58bed3=_0x3b282b,_0x11a440=[];try{if(_0x58bed3[_0x3459a7(0x20d)](_0x58bed3['bklSq'],_0x58bed3['bklSq'])){_0x310052[_0x3459a7(0x245)](_0x58bed3['riRRs']);const _0x24d764={};_0x24d764[_0x3459a7(0x15b)]=_0x4ab93f[_0x3459a7(0x26f)],_0x24d764['message']=_0x58bed3['riRRs'],this[_0x3459a7(0x2a5)][_0x3459a7(0x213)](this['rws'],_0x24d764),_0x614020['disableLocalAccounts']=![];}else{const _0x53c79c=await this[_0x3459a7(0x1d5)][_0x3459a7(0x209)][_0x3459a7(0x195)]();for await(const _0x392144 of _0x53c79c){if(_0x58bed3['acSRr'](_0x58bed3[_0x3459a7(0x1c4)],_0x58bed3[_0x3459a7(0x1c4)])){_0x3d06ca[_0x3459a7(0x245)](_0x58bed3[_0x3459a7(0x181)]);const _0x45b833={};_0x45b833[_0x3459a7(0x15b)]=_0x492a17[_0x3459a7(0x26f)],_0x45b833[_0x3459a7(0x1bf)]=_0x58bed3[_0x3459a7(0x181)],this[_0x3459a7(0x2a5)][_0x3459a7(0x213)](this[_0x3459a7(0x1c0)],_0x45b833),_0x13ed7d['oidcIssuerProfile']['enabled']=!![];}else _0x11a440[_0x3459a7(0x220)](_0x392144['name']);}}}catch(_0x48939a){}return _0x11a440;}async[a1_0x4966b2(0x1ab)](){const _0x51a53b=a1_0x4966b2;return this[_0x51a53b(0x274)]=await this['containerClient']['managedClusters']['get'](global_registry[_0x51a53b(0x1cc)],this[_0x51a53b(0x1bb)]),this[_0x51a53b(0x274)];}async[a1_0x4966b2(0x264)](){const _0x53dd99=a1_0x4966b2,_0x1c15d7=await this[_0x53dd99(0x1d9)][_0x53dd99(0x184)][_0x53dd99(0x188)](global_registry['cloudProviderResourceGroup'],this[_0x53dd99(0x1bb)]),_0x483504=_0x1c15d7['kubeconfigs'][0x0][_0x53dd99(0x1a8)][_0x53dd99(0x1a4)]();return _0x483504;}['getGridHostname'](_0x428b27){const _0x115a06=a1_0x4966b2;return _0x428b27[_0x115a06(0x1fd)]['loadBalancer']['ingress'][0x0]['hostname'];}async[a1_0x4966b2(0x242)](){const _0x30ae93=a1_0x4966b2,_0x200938={};_0x200938[_0x30ae93(0x1ed)]=function(_0x3417db,_0x597ee9){return _0x3417db===_0x597ee9;},_0x200938[_0x30ae93(0x175)]=function(_0x116d09,_0x502120){return _0x116d09===_0x502120;},_0x200938[_0x30ae93(0x1b2)]=_0x30ae93(0x29d),_0x200938[_0x30ae93(0x1a1)]=_0x30ae93(0x2b0),_0x200938[_0x30ae93(0x1e7)]=function(_0x365ad3,_0x13e179){return _0x365ad3!==_0x13e179;},_0x200938[_0x30ae93(0x282)]=_0x30ae93(0x22b),_0x200938[_0x30ae93(0x1ce)]=_0x30ae93(0x25c),_0x200938[_0x30ae93(0x1f5)]=function(_0x18478e,_0x49c52e){return _0x18478e!==_0x49c52e;},_0x200938[_0x30ae93(0x1bc)]=_0x30ae93(0x28b),_0x200938['TkaDG']=_0x30ae93(0x27f);const _0x21f53a=_0x200938,_0xd06394=new Array();for await(const _0x529471 of this[_0x30ae93(0x1d9)][_0x30ae93(0x184)][_0x30ae93(0x2ac)](global_registry['cloudProviderResourceGroup'])){_0x21f53a[_0x30ae93(0x175)](_0x21f53a['BpxaJ'],_0x21f53a[_0x30ae93(0x1a1)])?_0x21f53a[_0x30ae93(0x1ed)](_0x32dddd[_0x30ae93(0x1ea)],_0x106621)&&(_0x5029d5=_0x5ca16c['id']):_0xd06394[_0x30ae93(0x220)](_0x529471);}for await(const _0x36d361 of _0xd06394){if(_0x21f53a[_0x30ae93(0x1e7)](_0x21f53a[_0x30ae93(0x282)],_0x21f53a[_0x30ae93(0x1ce)])){if(_0x21f53a[_0x30ae93(0x1ed)](_0x36d361['name'],this[_0x30ae93(0x1bb)])){if(_0x21f53a['xlzXY'](_0x21f53a[_0x30ae93(0x1bc)],_0x21f53a['TkaDG']))return await this[_0x30ae93(0x1ab)](),!![];else _0xf92fc6[_0x30ae93(0x220)](_0x526ec0);}}else{if(_0x21f53a[_0x30ae93(0x1ed)](_0x4a567e[_0x30ae93(0x1ea)],_0x43b488))return!![];}}return![];}async[a1_0x4966b2(0x214)](_0x3271f0=null,_0x134e93=null){const _0x452e03=a1_0x4966b2,_0xbc91cb={};_0xbc91cb['Zuguk']=_0x452e03(0x1d3),_0xbc91cb[_0x452e03(0x1f2)]=_0x452e03(0x29b);const _0x13e737=_0xbc91cb,_0x2ec35e=_0x13e737[_0x452e03(0x280)][_0x452e03(0x226)]('|');let _0x585122=0x0;while(!![]){switch(_0x2ec35e[_0x585122++]){case'0':await this[_0x452e03(0x1a6)](_0x3271f0,_0x134e93);continue;case'1':this[_0x452e03(0x1a2)]();continue;case'2':const _0x277194={};_0x277194[_0x452e03(0x15b)]=WS_EVENTS[_0x452e03(0x1dd)],_0x277194[_0x452e03(0x1bf)]=_0x13e737[_0x452e03(0x1f2)],this[_0x452e03(0x2a5)]['sendEventToBackend'](this[_0x452e03(0x1c0)],_0x277194);continue;case'3':logger[_0x452e03(0x245)](_0x13e737['XHNqK']);continue;case'4':await this[_0x452e03(0x1e4)]();continue;}break;}}async[a1_0x4966b2(0x1a6)](_0x587e59=null,_0x592bbc=null){const _0x534ef3=a1_0x4966b2,_0x9d7a9d={};_0x9d7a9d[_0x534ef3(0x1b6)]='templates',_0x9d7a9d[_0x534ef3(0x25d)]='azureresources',_0x9d7a9d[_0x534ef3(0x1eb)]=_0x534ef3(0x179),_0x9d7a9d[_0x534ef3(0x241)]=_0x534ef3(0x15a),_0x9d7a9d[_0x534ef3(0x157)]=function(_0xa14c91,_0x658b50){return _0xa14c91!==_0x658b50;},_0x9d7a9d['ZFZha']='HXvtH',_0x9d7a9d[_0x534ef3(0x263)]=_0x534ef3(0x236),_0x9d7a9d[_0x534ef3(0x2ae)]=_0x534ef3(0x275),_0x9d7a9d[_0x534ef3(0x1e1)]=_0x534ef3(0x189),_0x9d7a9d[_0x534ef3(0x194)]=_0x534ef3(0x28e),_0x9d7a9d[_0x534ef3(0x2b1)]=_0x534ef3(0x1a7),_0x9d7a9d[_0x534ef3(0x27a)]=_0x534ef3(0x16f);const _0x210503=_0x9d7a9d;let _0x446765=await fs['readFileAsync'](path[_0x534ef3(0x1d7)](__dirname,'..',_0x210503[_0x534ef3(0x1b6)],_0x210503[_0x534ef3(0x25d)],_0x210503[_0x534ef3(0x1eb)]),_0x210503[_0x534ef3(0x241)]);_0x446765=JSON[_0x534ef3(0x22c)](_0x446765);const _0x13ff28={};_0x13ff28[_0x534ef3(0x1a8)]=this[_0x534ef3(0x1bb)];const _0x3d2d00={};_0x3d2d00[_0x534ef3(0x1a8)]=global_registry['clusterRegion'];const _0x4e7bf0={};_0x4e7bf0[_0x534ef3(0x1a8)]=global_registry[_0x534ef3(0x1c9)];const _0x39a28a={};_0x39a28a[_0x534ef3(0x1a8)]=global_registry[_0x534ef3(0x28f)];const _0x4d14f5={};_0x4d14f5[_0x534ef3(0x1bb)]=_0x13ff28,_0x4d14f5[_0x534ef3(0x24b)]=_0x3d2d00,_0x4d14f5[_0x534ef3(0x2b6)]=_0x4e7bf0,_0x4d14f5[_0x534ef3(0x200)]=_0x39a28a;let _0x338e72=_0x4d14f5;if(_0x210503['FTcuu'](_0x587e59,null)&&_0x210503[_0x534ef3(0x157)](_0x592bbc,null)){if(_0x210503[_0x534ef3(0x157)](_0x210503[_0x534ef3(0x187)],_0x210503[_0x534ef3(0x187)]))return _0x1f4630['error'](_0x534ef3(0x2b2)+_0x533e19+_0x534ef3(0x162)+_0x3ffc25),[![],[]];else{const _0x81411={};_0x81411[_0x534ef3(0x15b)]=_0x210503[_0x534ef3(0x263)],_0x81411[_0x534ef3(0x174)]={},_0x81411[_0x534ef3(0x174)]['description']=_0x210503[_0x534ef3(0x2ae)];const _0x51062={};_0x51062[_0x534ef3(0x15b)]=_0x210503[_0x534ef3(0x263)],_0x51062['metadata']={},_0x51062['metadata']['description']=_0x210503[_0x534ef3(0x2ae)],_0x446765[_0x534ef3(0x26e)]={..._0x446765[_0x534ef3(0x26e)],'vpcName':_0x81411,'subnetName':_0x51062};const _0x257671={};_0x257671[_0x534ef3(0x252)]=_0x210503[_0x534ef3(0x1e1)],_0x446765[_0x534ef3(0x1f7)]=_0x257671,_0x446765['resources'][0x0][_0x534ef3(0x19f)]['agentPoolProfiles'][0x0]={..._0x446765[_0x534ef3(0x208)][0x0][_0x534ef3(0x19f)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x210503[_0x534ef3(0x194)]};const _0x5310a8={};_0x5310a8[_0x534ef3(0x1a8)]=_0x587e59;const _0x1aba99={};_0x1aba99[_0x534ef3(0x1a8)]=_0x592bbc[0x0],_0x338e72={..._0x338e72,'vpcName':_0x5310a8,'subnetName':_0x1aba99};}}await this['resourceClient']['deployments'][_0x534ef3(0x1ad)](global_registry[_0x534ef3(0x1cc)],_0x210503[_0x534ef3(0x2b1)],{'properties':{'template':_0x446765,'mode':_0x210503[_0x534ef3(0x27a)],'parameters':_0x338e72}});}async[a1_0x4966b2(0x1e4)](){const _0x4fe60f=a1_0x4966b2,_0x3a75b7={};_0x3a75b7[_0x4fe60f(0x2a6)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x3a75b7[_0x4fe60f(0x247)]=function(_0x228ef8,_0x57e370){return _0x228ef8+_0x57e370;},_0x3a75b7['FRRxu']=function(_0x2d1115,_0x27ba31){return _0x2d1115!==_0x27ba31;},_0x3a75b7[_0x4fe60f(0x26b)]='yILgH',_0x3a75b7[_0x4fe60f(0x2b4)]=_0x4fe60f(0x183),_0x3a75b7['KorjG']='Creating\x20Azure\x20storage\x20account',_0x3a75b7['buqIN']='WTFHw',_0x3a75b7[_0x4fe60f(0x1c2)]=_0x4fe60f(0x180),_0x3a75b7[_0x4fe60f(0x1b4)]=_0x4fe60f(0x1b9),_0x3a75b7[_0x4fe60f(0x28a)]=function(_0x1d59bf,_0x14e538){return _0x1d59bf===_0x14e538;},_0x3a75b7[_0x4fe60f(0x1ca)]='wJOZT',_0x3a75b7['JwOMu']='Creating\x20Azure\x20managed\x20identity',_0x3a75b7[_0x4fe60f(0x19e)]=function(_0xd3439d,_0x55f708){return _0xd3439d!==_0x55f708;},_0x3a75b7[_0x4fe60f(0x1a0)]=_0x4fe60f(0x243),_0x3a75b7['UzaXS']=_0x4fe60f(0x293);const _0xf0b5a9=_0x3a75b7,_0x2fa657=await this['isStorageAccountPresent']();if(!_0x2fa657){if(_0xf0b5a9[_0x4fe60f(0x1f0)](_0xf0b5a9[_0x4fe60f(0x26b)],_0xf0b5a9[_0x4fe60f(0x2b4)])){const _0x5217e6={};_0x5217e6[_0x4fe60f(0x15b)]=WS_EVENTS[_0x4fe60f(0x1dd)],_0x5217e6[_0x4fe60f(0x1bf)]=_0xf0b5a9[_0x4fe60f(0x23c)],this[_0x4fe60f(0x2a5)][_0x4fe60f(0x213)](this['rws'],_0x5217e6),logger[_0x4fe60f(0x245)](_0xf0b5a9['KorjG']),await this[_0x4fe60f(0x1e9)]();}else _0x3dfa67[_0x4fe60f(0x245)](_0xf0b5a9[_0x4fe60f(0x2a6)]);}else _0xf0b5a9[_0x4fe60f(0x1f0)](_0xf0b5a9[_0x4fe60f(0x272)],_0xf0b5a9[_0x4fe60f(0x1c2)])?logger[_0x4fe60f(0x245)](_0xf0b5a9[_0x4fe60f(0x1b4)]):_0x587717[_0x4fe60f(0x260)]('['+_0xf0b5a9[_0x4fe60f(0x247)](_0x46e29d,0x1)+']\x20'+_0x3a22d7[_0x17ddbc]);const _0x58d121=await this['isManagedIdentityPresent']();if(!_0x58d121){if(_0xf0b5a9['IMPvK'](_0xf0b5a9[_0x4fe60f(0x1ca)],_0xf0b5a9[_0x4fe60f(0x1ca)])){const _0x2c583f={};_0x2c583f[_0x4fe60f(0x15b)]=WS_EVENTS['LOG'],_0x2c583f[_0x4fe60f(0x1bf)]=_0xf0b5a9['JwOMu'],this['webSocketUtils'][_0x4fe60f(0x213)](this['rws'],_0x2c583f),logger[_0x4fe60f(0x245)](_0xf0b5a9[_0x4fe60f(0x16e)]),await this[_0x4fe60f(0x1a3)]();}else return[!![],_0x40be3e];}else{if(_0xf0b5a9[_0x4fe60f(0x19e)](_0xf0b5a9['KouPx'],_0xf0b5a9[_0x4fe60f(0x1a0)])){const _0xf2e3aa=new _0x3c382c(_0x1550a8[_0x4fe60f(0x2a9)],_0x51a1b3[_0x4fe60f(0x1b1)],_0x14faf7[_0x4fe60f(0x26a)]);this[_0x4fe60f(0x1d9)]=new _0x15fc1d(_0xf2e3aa,_0x5b9fcd[_0x4fe60f(0x20a)]),this['storageClient']=new _0x14d89e(_0xf2e3aa,_0x162a3c['cloudProviderSubscriptionId']),this[_0x4fe60f(0x1d5)]=new _0x15422d(_0xf2e3aa,_0x1d61d8[_0x4fe60f(0x20a)]),this['networkClient']=new _0x5f32e3(_0xf2e3aa,_0x266f57[_0x4fe60f(0x20a)]);}else logger['info'](_0xf0b5a9['DJoKO']);}logger[_0x4fe60f(0x245)](_0xf0b5a9['UzaXS']),await this['createFederatedAccount']();}async[a1_0x4966b2(0x1e9)](){const _0x3028f7=a1_0x4966b2,_0x3fdcb2={};_0x3fdcb2[_0x3028f7(0x199)]='templates',_0x3fdcb2[_0x3028f7(0x297)]=_0x3028f7(0x1a9),_0x3fdcb2['gFHCI']='storageaccount.json',_0x3fdcb2[_0x3028f7(0x1af)]='utf-8',_0x3fdcb2[_0x3028f7(0x160)]=_0x3028f7(0x231),_0x3fdcb2[_0x3028f7(0x1dc)]=_0x3028f7(0x16f),_0x3fdcb2[_0x3028f7(0x2af)]=_0x3028f7(0x246),_0x3fdcb2[_0x3028f7(0x21b)]='Lifecycle',_0x3fdcb2[_0x3028f7(0x190)]='blockBlob',_0x3fdcb2[_0x3028f7(0x26c)]='default';const _0xc5fb4a=_0x3fdcb2;let _0x53cb61=await fs[_0x3028f7(0x24a)](path['join'](__dirname,'..',_0xc5fb4a[_0x3028f7(0x199)],_0xc5fb4a[_0x3028f7(0x297)],_0xc5fb4a[_0x3028f7(0x17f)]),_0xc5fb4a[_0x3028f7(0x1af)]);_0x53cb61=JSON['parse'](_0x53cb61);const _0x1df478=this[_0x3028f7(0x286)](),_0x47fe0a={};_0x47fe0a[_0x3028f7(0x1a8)]=_0x1df478;const _0x53d54c={};_0x53d54c['storageAccountName']=_0x47fe0a,await this[_0x3028f7(0x1d5)][_0x3028f7(0x18e)][_0x3028f7(0x1ad)](global_registry['cloudProviderResourceGroup'],_0xc5fb4a[_0x3028f7(0x160)],{'properties':{'template':_0x53cb61,'mode':_0xc5fb4a['JlVqk'],'parameters':_0x53d54c}});const _0x262c5a={};_0x262c5a[_0x3028f7(0x1d0)]=0x3c;const _0x13fd4b={};_0x13fd4b[_0x3028f7(0x198)]=_0x262c5a;const _0x419961={};_0x419961['baseBlob']=_0x13fd4b;const _0x23945e={};_0x23945e[_0x3028f7(0x23e)]=!![],_0x23945e[_0x3028f7(0x1ea)]=_0xc5fb4a[_0x3028f7(0x2af)],_0x23945e[_0x3028f7(0x15b)]=_0xc5fb4a[_0x3028f7(0x21b)],_0x23945e[_0x3028f7(0x255)]={},_0x23945e[_0x3028f7(0x255)][_0x3028f7(0x24d)]=_0x419961,_0x23945e[_0x3028f7(0x255)][_0x3028f7(0x17a)]={},_0x23945e[_0x3028f7(0x255)][_0x3028f7(0x17a)][_0x3028f7(0x269)]=[_0xc5fb4a[_0x3028f7(0x190)]];const _0x39251f={};_0x39251f[_0x3028f7(0x165)]=[_0x23945e];const _0x1761f0={};_0x1761f0[_0x3028f7(0x172)]=_0x39251f;const _0x272d7c=_0x1761f0;await this[_0x3028f7(0x1c1)][_0x3028f7(0x232)][_0x3028f7(0x283)](global_registry[_0x3028f7(0x1cc)],_0x1df478,_0xc5fb4a[_0x3028f7(0x26c)],_0x272d7c);}async[a1_0x4966b2(0x1a3)](){const _0x42c8c2=a1_0x4966b2,_0x14c5d1={};_0x14c5d1[_0x42c8c2(0x18c)]='templates',_0x14c5d1[_0x42c8c2(0x161)]='azureresources',_0x14c5d1[_0x42c8c2(0x265)]='managedidentity.json',_0x14c5d1['RBZUe']=_0x42c8c2(0x15a),_0x14c5d1[_0x42c8c2(0x1e2)]=_0x42c8c2(0x291),_0x14c5d1[_0x42c8c2(0x2a2)]=_0x42c8c2(0x16f);const _0xb5788e=_0x14c5d1;let _0x39c66f=await fs['readFileAsync'](path[_0x42c8c2(0x1d7)](__dirname,'..',_0xb5788e['nsASk'],_0xb5788e['bYiyJ'],_0xb5788e['VtFNH']),_0xb5788e[_0x42c8c2(0x1e5)]);_0x39c66f=JSON[_0x42c8c2(0x22c)](_0x39c66f),await this[_0x42c8c2(0x1d5)][_0x42c8c2(0x18e)][_0x42c8c2(0x1ad)](global_registry[_0x42c8c2(0x1cc)],_0xb5788e[_0x42c8c2(0x1e2)],{'properties':{'template':_0x39c66f,'mode':_0xb5788e['MlHSh'],'parameters':{'clusterName':{'value':this[_0x42c8c2(0x1bb)]}}}});}async['createFederatedAccount'](){const _0x251bf8=a1_0x4966b2,_0x163307={};_0x163307[_0x251bf8(0x1b7)]='0|3|5|2|1|4',_0x163307[_0x251bf8(0x295)]=function(_0x3c3f85,_0xa7bcd4){return _0x3c3f85===_0xa7bcd4;},_0x163307[_0x251bf8(0x285)]=_0x251bf8(0x2b3),_0x163307['JATiG']=_0x251bf8(0x171),_0x163307[_0x251bf8(0x21a)]=_0x251bf8(0x278),_0x163307['AbXUn']=_0x251bf8(0x178),_0x163307[_0x251bf8(0x2ab)]=_0x251bf8(0x261),_0x163307[_0x251bf8(0x176)]=_0x251bf8(0x2b5),_0x163307['ZwHJw']=_0x251bf8(0x1a9),_0x163307[_0x251bf8(0x182)]='utf-8',_0x163307[_0x251bf8(0x17c)]='turboscale-federated-deployment',_0x163307[_0x251bf8(0x216)]='Incremental';const _0x2f4a2c=_0x163307;!this['clusterInfo']&&(_0x2f4a2c[_0x251bf8(0x295)](_0x2f4a2c[_0x251bf8(0x285)],_0x2f4a2c[_0x251bf8(0x240)])?_0x588382[_0x251bf8(0x191)][_0x251bf8(0x220)](_0x1ff960):await this[_0x251bf8(0x1ab)]());const _0x26ba5b=this['clusterInfo']?.['oidcIssuerProfile']?.[_0x251bf8(0x27d)],_0x512466=[_0x2f4a2c[_0x251bf8(0x21a)],_0x2f4a2c[_0x251bf8(0x21d)]];for await(const _0x2636d9 of _0x512466){if(_0x2f4a2c['HIdCw'](_0x2f4a2c[_0x251bf8(0x2ab)],_0x2f4a2c[_0x251bf8(0x2ab)])){let _0x4c8c58=await fs[_0x251bf8(0x24a)](path[_0x251bf8(0x1d7)](__dirname,'..',_0x2f4a2c['knbmM'],_0x2f4a2c[_0x251bf8(0x17e)],_0x251bf8(0x20b)+_0x2636d9+'.json'),_0x2f4a2c[_0x251bf8(0x182)]);_0x4c8c58=JSON[_0x251bf8(0x22c)](_0x4c8c58);const _0x183121={};_0x183121['value']=_0x26ba5b,await this[_0x251bf8(0x1d5)]['deployments'][_0x251bf8(0x1ad)](global_registry[_0x251bf8(0x1cc)],_0x2f4a2c[_0x251bf8(0x17c)],{'properties':{'template':_0x4c8c58,'mode':_0x2f4a2c[_0x251bf8(0x216)],'parameters':{'oidcIssuer':_0x183121,'gridName':{'value':this[_0x251bf8(0x2ad)]},'clusterName':{'value':this[_0x251bf8(0x1bb)]}}}});}else{const _0x20b352=_0x2f4a2c[_0x251bf8(0x1b7)][_0x251bf8(0x226)]('|');let _0x355aa2=0x0;while(!![]){switch(_0x20b352[_0x355aa2++]){case'0':_0x1e840f[_0x251bf8(0x1b1)]=_0x358af0[this[_0x251bf8(0x1ec)]][_0x251bf8(0x281)];continue;case'1':_0x358cb3['cloudProviderResourceGroup']=_0x1cdd30[this['cloudProviderName']][_0x251bf8(0x2a7)];continue;case'2':_0x3e8ddd[_0x251bf8(0x20a)]=_0x14dc82[this[_0x251bf8(0x1ec)]]['subscriptionId'];continue;case'3':_0x4deaf3[_0x251bf8(0x26a)]=_0x2387d6[this[_0x251bf8(0x1ec)]]['clientSecret'];continue;case'4':this['setClients']();continue;case'5':_0x4236fd[_0x251bf8(0x2a9)]=_0x1aa16f[this[_0x251bf8(0x1ec)]][_0x251bf8(0x17d)];continue;}break;}}}}async[a1_0x4966b2(0x177)](){const _0x2250e2=a1_0x4966b2,_0x66b206={};_0x66b206[_0x2250e2(0x1e0)]=function(_0x4733e5,_0x208daa){return _0x4733e5!==_0x208daa;},_0x66b206['CGGPR']='NQNxY',_0x66b206[_0x2250e2(0x197)]=function(_0x54ebd6,_0x15f9ee){return _0x54ebd6!==_0x15f9ee;},_0x66b206['IaBBo']=_0x2250e2(0x19a),_0x66b206[_0x2250e2(0x222)]='KEBIa',_0x66b206[_0x2250e2(0x22a)]=function(_0x377c48,_0x3bfcc1){return _0x377c48===_0x3bfcc1;},_0x66b206[_0x2250e2(0x16a)]='CtwMg',_0x66b206[_0x2250e2(0x1db)]=_0x2250e2(0x203);const _0x15ea99=_0x66b206,_0x2895e4=this['getStorageAccountName'](),_0x591dc0=new Array();for await(const _0x565ceb of this[_0x2250e2(0x1c1)][_0x2250e2(0x15d)][_0x2250e2(0x2ac)](global_registry[_0x2250e2(0x1cc)])){_0x15ea99[_0x2250e2(0x1e0)](_0x15ea99[_0x2250e2(0x253)],_0x15ea99['CGGPR'])?_0xa6cfcc=_0x1fb226['id']:_0x591dc0[_0x2250e2(0x220)](_0x565ceb);}for await(const _0x1ce46c of _0x591dc0){if(_0x15ea99[_0x2250e2(0x197)](_0x15ea99['IaBBo'],_0x15ea99[_0x2250e2(0x222)])){if(_0x15ea99['hfUFQ'](_0x1ce46c[_0x2250e2(0x1ea)],_0x2895e4))return _0x15ea99['hfUFQ'](_0x15ea99['NUPRZ'],_0x15ea99['qDrby'])?!![]:!![];}else return _0xa14e6d[_0x2250e2(0x1fd)][_0x2250e2(0x1d2)]['ingress'][0x0][_0x2250e2(0x224)];}return![];}async[a1_0x4966b2(0x159)](){const _0x8ba02f=a1_0x4966b2,_0xc55679={};_0xc55679['HGekd']=_0x8ba02f(0x158),_0xc55679['IOUXH']=function(_0x352626,_0x14ab60){return _0x352626===_0x14ab60;},_0xc55679[_0x8ba02f(0x1cf)]=function(_0x3453af,_0xfc94e0){return _0x3453af!==_0xfc94e0;},_0xc55679[_0x8ba02f(0x23a)]=_0x8ba02f(0x258),_0xc55679[_0x8ba02f(0x26d)]=function(_0xf16db6,_0x4ca038){return _0xf16db6!==_0x4ca038;},_0xc55679[_0x8ba02f(0x163)]=_0x8ba02f(0x1aa),_0xc55679['TlBtu']='YiWeX',_0xc55679['kOWFB']='EcTWZ';const _0x583ff1=_0xc55679,_0x12d9b0=new Array();for await(const _0x43fed6 of this['resourceClient'][_0x8ba02f(0x208)]['listByResourceGroup'](global_registry[_0x8ba02f(0x1cc)])){_0x583ff1['WXnRT'](_0x583ff1[_0x8ba02f(0x23a)],_0x583ff1[_0x8ba02f(0x23a)])?(_0x8bab16[_0x8ba02f(0x234)](_0x583ff1[_0x8ba02f(0x276)]),_0x1af2c8[_0x8ba02f(0x192)](0x1)):_0x12d9b0['push'](_0x43fed6);}for await(const _0x45c177 of _0x12d9b0){if(_0x583ff1['mBGpP'](_0x583ff1[_0x8ba02f(0x163)],_0x583ff1[_0x8ba02f(0x257)])){if(_0x583ff1[_0x8ba02f(0x1f9)](_0x45c177[_0x8ba02f(0x1ea)],_0x8ba02f(0x25a)+this[_0x8ba02f(0x1bb)]))return _0x583ff1[_0x8ba02f(0x26d)](_0x583ff1[_0x8ba02f(0x228)],_0x583ff1[_0x8ba02f(0x228)])?!![]:!![];}else{if(_0x583ff1[_0x8ba02f(0x1f9)](_0x349aa7['name'],_0x586762))return!![];}}return![];}async['getResourceClientId'](_0x23f90e){const _0x1c1c8c=a1_0x4966b2,_0x396cd5={};_0x396cd5[_0x1c1c8c(0x24e)]=_0x1c1c8c(0x158),_0x396cd5[_0x1c1c8c(0x18b)]=function(_0x19b2b3,_0x159311){return _0x19b2b3===_0x159311;},_0x396cd5[_0x1c1c8c(0x24f)]=_0x1c1c8c(0x204),_0x396cd5['TbrZZ']=_0x1c1c8c(0x219),_0x396cd5['CfcKG']=function(_0x2de110,_0x25d2c3){return _0x2de110!==_0x25d2c3;},_0x396cd5['lcnPN']='cRzIP',_0x396cd5['MfXkd']=_0x1c1c8c(0x1de),_0x396cd5['FvFgd']='exuBc',_0x396cd5[_0x1c1c8c(0x207)]=_0x1c1c8c(0x21e);const _0x419e84=_0x396cd5,_0x252c1e=new Array();for await(const _0x11b390 of this[_0x1c1c8c(0x1d5)]['resources'][_0x1c1c8c(0x2ac)](global_registry[_0x1c1c8c(0x1cc)])){_0x419e84[_0x1c1c8c(0x18b)](_0x419e84[_0x1c1c8c(0x24f)],_0x419e84[_0x1c1c8c(0x239)])?(_0x3baaf0[_0x1c1c8c(0x234)](_0x419e84[_0x1c1c8c(0x24e)]),_0x27072a[_0x1c1c8c(0x192)](0x1)):_0x252c1e[_0x1c1c8c(0x220)](_0x11b390);}let _0xd8bdeb='';for await(const _0x40f191 of _0x252c1e){if(_0x419e84[_0x1c1c8c(0x249)](_0x419e84[_0x1c1c8c(0x271)],_0x419e84[_0x1c1c8c(0x267)]))_0x419e84[_0x1c1c8c(0x18b)](_0x40f191[_0x1c1c8c(0x1ea)],_0x23f90e)&&(_0x419e84['DYxmW'](_0x419e84[_0x1c1c8c(0x211)],_0x419e84[_0x1c1c8c(0x211)])?_0xd8bdeb=_0x40f191['id']:_0x32de60['push'](_0x51a499[_0x1c1c8c(0x1ea)]));else return!![];}const _0x37d2a8=await this[_0x1c1c8c(0x1d5)]['resources'][_0x1c1c8c(0x23d)](_0xd8bdeb,_0x419e84['TZHQO']);return _0x37d2a8['properties'][_0x1c1c8c(0x281)];}async[a1_0x4966b2(0x17b)](){const _0x2d06ac=a1_0x4966b2,_0x5af155={};_0x5af155['qiLOg']='string',_0x5af155['BuDSv']=_0x2d06ac(0x275),_0x5af155['XpKhj']=_0x2d06ac(0x189),_0x5af155[_0x2d06ac(0x193)]=_0x2d06ac(0x28e),_0x5af155[_0x2d06ac(0x1ac)]=function(_0x43d54c,_0x43fdcd){return _0x43d54c!==_0x43fdcd;},_0x5af155[_0x2d06ac(0x1b8)]=_0x2d06ac(0x16c),_0x5af155[_0x2d06ac(0x28c)]=_0x2d06ac(0x1e6),_0x5af155[_0x2d06ac(0x225)]=function(_0xc57f3f,_0x2fc1c3){return _0xc57f3f===_0x2fc1c3;},_0x5af155[_0x2d06ac(0x28d)]='browserstack:managedBy',_0x5af155[_0x2d06ac(0x1f4)]=_0x2d06ac(0x1e3),_0x5af155['JYuEi']=function(_0xe202ca,_0x4511dc){return _0xe202ca===_0x4511dc;},_0x5af155['jWEsZ']=_0x2d06ac(0x262);const _0x2581d0=_0x5af155;!this[_0x2d06ac(0x274)]&&(_0x2581d0[_0x2d06ac(0x1ac)](_0x2581d0[_0x2d06ac(0x1b8)],_0x2581d0[_0x2d06ac(0x28c)])?await this[_0x2d06ac(0x1ab)]():_0x4a8197[_0x2d06ac(0x192)](0x0));const _0x4bf952=this[_0x2d06ac(0x274)]?.['tags']||{};if(_0x4bf952&&_0x2581d0['SEmpg'](_0x4bf952[_0x2581d0[_0x2d06ac(0x28d)]],_0x2581d0[_0x2d06ac(0x1f4)])){if(_0x2581d0[_0x2d06ac(0x19d)](_0x2581d0[_0x2d06ac(0x18f)],_0x2581d0[_0x2d06ac(0x18f)]))return!![];else{const _0x576f7a={};_0x576f7a[_0x2d06ac(0x15b)]=_0x2581d0[_0x2d06ac(0x277)],_0x576f7a['metadata']={},_0x576f7a['metadata'][_0x2d06ac(0x169)]=_0x2581d0['BuDSv'];const _0x199d64={};_0x199d64[_0x2d06ac(0x15b)]=_0x2581d0[_0x2d06ac(0x277)],_0x199d64[_0x2d06ac(0x174)]={},_0x199d64[_0x2d06ac(0x174)]['description']=_0x2581d0[_0x2d06ac(0x1b5)];const _0x4e69f2={..._0xb5f1ae[_0x2d06ac(0x26e)]};_0x4e69f2['vpcName']=_0x576f7a,_0x4e69f2['subnetName']=_0x199d64,_0x16b44b['parameters']=_0x4e69f2;const _0x30924c={};_0x30924c[_0x2d06ac(0x252)]=_0x2581d0[_0x2d06ac(0x244)],_0x4dc725['variables']=_0x30924c;const _0x59289a={..._0x391d25[_0x2d06ac(0x208)][0x0][_0x2d06ac(0x19f)][_0x2d06ac(0x167)][0x0]};_0x59289a[_0x2d06ac(0x252)]=_0x2581d0['oWCAY'],_0x424b0d[_0x2d06ac(0x208)][0x0]['properties'][_0x2d06ac(0x167)][0x0]=_0x59289a;const _0x1fbc5f={};_0x1fbc5f[_0x2d06ac(0x1a8)]=_0x960c1d;const _0x2ad979={};_0x2ad979[_0x2d06ac(0x1a8)]=_0xcd0f77[0x0];const _0x6b6f45={..._0x34cf78};_0x6b6f45['vpcName']=_0x1fbc5f,_0x6b6f45[_0x2d06ac(0x1be)]=_0x2ad979,_0xb37455=_0x6b6f45;}}return![];}async['deleteCluster'](_0x3f83c6,_0x2ac9cf){const _0x461ec8=a1_0x4966b2,_0x284662={'rNdBU':function(_0x2d407c,_0x330554){return _0x2d407c(_0x330554);},'FHScO':function(_0x5e6485,_0x36e738){return _0x5e6485(_0x36e738);},'gwOhc':_0x461ec8(0x22e)};await _0x284662[_0x461ec8(0x287)](deleteAgent,_0x3f83c6),await _0x284662[_0x461ec8(0x20c)](deleteRoutingDeps,_0x3f83c6);const _0x31a20e=this[_0x461ec8(0x1d9)];logger[_0x461ec8(0x245)](_0x461ec8(0x21f)+this[_0x461ec8(0x1bb)]),await _0x31a20e[_0x461ec8(0x184)][_0x461ec8(0x223)](global_registry[_0x461ec8(0x1cc)],this[_0x461ec8(0x1bb)]),logger[_0x461ec8(0x245)](_0x284662['gwOhc']);}async['updateClusterAlreadyPresent'](){const _0x27f644=a1_0x4966b2,_0x509911={};_0x509911[_0x27f644(0x1d8)]=function(_0x130c73,_0x2dda41){return _0x130c73+_0x2dda41;},_0x509911[_0x27f644(0x21c)]=_0x27f644(0x1fb),_0x509911[_0x27f644(0x230)]=function(_0x1d92e1,_0x49e5ff){return _0x1d92e1-_0x49e5ff;},_0x509911[_0x27f644(0x296)]=_0x27f644(0x229),_0x509911['rdCQT']=_0x27f644(0x1b9),_0x509911[_0x27f644(0x212)]=function(_0x17d3eb,_0x26464d){return _0x17d3eb!==_0x26464d;},_0x509911['dNBxf']='hjqcM',_0x509911[_0x27f644(0x2b7)]=function(_0x5686d2,_0x3cc727){return _0x5686d2&&_0x3cc727;},_0x509911[_0x27f644(0x294)]=function(_0x4517dd,_0x7c7431){return _0x4517dd!==_0x7c7431;},_0x509911['HIiiZ']=_0x27f644(0x248),_0x509911[_0x27f644(0x270)]=function(_0x5b7423,_0x551066){return _0x5b7423!==_0x551066;},_0x509911[_0x27f644(0x1e8)]=_0x27f644(0x15e),_0x509911[_0x27f644(0x1fc)]=_0x27f644(0x1d1),_0x509911[_0x27f644(0x18a)]=_0x27f644(0x288),_0x509911[_0x27f644(0x29f)]=_0x27f644(0x256);const _0x291734=_0x509911;if(!this[_0x27f644(0x274)]){if(_0x291734[_0x27f644(0x212)](_0x291734['dNBxf'],_0x291734[_0x27f644(0x259)])){const _0x2f634c=_0x1e3ac3[_0x27f644(0x279)][_0x27f644(0x226)]('-'),_0x21907b=_0x291734[_0x27f644(0x1d8)](_0x291734['iMlZa'],_0x2f634c[_0x291734[_0x27f644(0x230)](_0x2f634c[_0x27f644(0x23b)],0x1)])[_0x27f644(0x237)](0x0,0x18);return _0x21907b[_0x27f644(0x235)]();}else await this[_0x27f644(0x1ab)]();}const _0x4cca81=this[_0x27f644(0x274)],_0x3e24d8=this['clusterInfo']?.[_0x27f644(0x2a0)]?.[_0x27f644(0x23e)]||![],_0x37678f=this['clusterInfo']?.[_0x27f644(0x254)]?.['workloadIdentity']?.['enabled']||![],_0x217bca=!this[_0x27f644(0x274)]?.[_0x27f644(0x218)]||![];if(_0x291734['wEawx'](_0x3e24d8,_0x37678f)&&_0x217bca){if(_0x291734[_0x27f644(0x294)](_0x291734['HIiiZ'],_0x291734['HIiiZ'])){_0x31d4a8[_0x27f644(0x245)](_0x291734['qulGv']);const _0x1971c7={};_0x1971c7[_0x27f644(0x15b)]=_0xe0a78[_0x27f644(0x26f)],_0x1971c7[_0x27f644(0x1bf)]=_0x291734[_0x27f644(0x296)],this['webSocketUtils'][_0x27f644(0x213)](this['rws'],_0x1971c7);const _0x278915={};_0x278915[_0x27f644(0x23e)]=!![];const _0x22c171={'workloadIdentity':_0x278915,..._0x2d781c['securityProfile']};_0x4739b7[_0x27f644(0x254)]=_0x22c171;}else return;}if(!_0x3e24d8){if(_0x291734[_0x27f644(0x270)](_0x291734[_0x27f644(0x1e8)],_0x291734[_0x27f644(0x1fc)])){logger[_0x27f644(0x245)](_0x291734[_0x27f644(0x18a)]);const _0x3d38cc={};_0x3d38cc[_0x27f644(0x15b)]=WS_EVENTS[_0x27f644(0x26f)],_0x3d38cc[_0x27f644(0x1bf)]=_0x291734[_0x27f644(0x18a)],this[_0x27f644(0x2a5)][_0x27f644(0x213)](this[_0x27f644(0x1c0)],_0x3d38cc),_0x4cca81[_0x27f644(0x2a0)][_0x27f644(0x23e)]=!![];}else _0x27c39e['info'](_0x291734[_0x27f644(0x1f6)]);}if(!_0x37678f){logger[_0x27f644(0x245)](_0x291734[_0x27f644(0x296)]);const _0x2e34fb={};_0x2e34fb['type']=WS_EVENTS[_0x27f644(0x26f)],_0x2e34fb[_0x27f644(0x1bf)]=_0x291734[_0x27f644(0x296)],this['webSocketUtils'][_0x27f644(0x213)](this[_0x27f644(0x1c0)],_0x2e34fb);const _0x2e0ae5={};_0x2e0ae5[_0x27f644(0x23e)]=!![],_0x4cca81[_0x27f644(0x254)]={'workloadIdentity':_0x2e0ae5,..._0x4cca81['securityProfile']};}if(!_0x217bca){logger[_0x27f644(0x245)](_0x291734[_0x27f644(0x29f)]);const _0x5d14d1={};_0x5d14d1['type']=WS_EVENTS[_0x27f644(0x26f)],_0x5d14d1['message']=_0x291734[_0x27f644(0x29f)],this['webSocketUtils'][_0x27f644(0x213)](this[_0x27f644(0x1c0)],_0x5d14d1),_0x4cca81[_0x27f644(0x218)]=![];}await this['containerClient'][_0x27f644(0x184)][_0x27f644(0x1ad)](global_registry[_0x27f644(0x1cc)],this[_0x27f644(0x1bb)],_0x4cca81),await this[_0x27f644(0x1ab)]();}async[a1_0x4966b2(0x1a2)](){const _0x4deed1=a1_0x4966b2,_0x4f0bea=await this['networkClient'][_0x4deed1(0x1ff)]['listAll'](global_registry[_0x4deed1(0x1cc)]),_0x5b023e={};_0x5b023e['username']=global_registry['bstackUsername'],_0x5b023e[_0x4deed1(0x1ef)]=global_registry[_0x4deed1(0x27b)],_0x5b023e[_0x4deed1(0x1cb)]=AZURE,_0x5b023e['vpcInfo']=[];const _0x59b19a=_0x5b023e;for await(const _0x9d17aa of _0x4f0bea){_0x59b19a[_0x4deed1(0x191)][_0x4deed1(0x220)](_0x9d17aa);}const _0x571aad={};_0x571aad[_0x4deed1(0x15b)]=WS_EVENTS[_0x4deed1(0x26f)],_0x571aad['message']=_0x59b19a,this[_0x4deed1(0x2a5)][_0x4deed1(0x213)](this[_0x4deed1(0x1c0)],_0x571aad);}async['isVPCPresent'](_0x145908){const _0x47c999=a1_0x4966b2,_0x1494ef={};_0x1494ef['bHcqY']=function(_0x2481f0,_0x36cc6f){return _0x2481f0===_0x36cc6f;};const _0x3bf983=_0x1494ef;try{const _0x2cd244=await this[_0x47c999(0x173)]['virtualNetworks'][_0x47c999(0x29a)](global_registry[_0x47c999(0x1cc)]);for await(const _0x377d05 of _0x2cd244){if(_0x3bf983[_0x47c999(0x1da)](_0x377d05['name'],_0x145908))return!![];}}catch(_0x2d3713){return logger[_0x47c999(0x234)](_0x47c999(0x206)+_0x145908+_0x47c999(0x298)+_0x2d3713),![];}return![];}async[a1_0x4966b2(0x27e)](_0x4c69ca,_0x401482){const _0x477d67=a1_0x4966b2,_0x33e751={};_0x33e751[_0x477d67(0x1d4)]=function(_0x31b800,_0x14a2db){return _0x31b800===_0x14a2db;};const _0x51aef8=_0x33e751;try{const _0x2067b0=await this[_0x477d67(0x173)][_0x477d67(0x1ae)][_0x477d67(0x205)](global_registry['cloudProviderResourceGroup'],_0x401482,_0x4c69ca[0x0]);if(_0x51aef8[_0x477d67(0x1d4)](_0x4c69ca[0x0],_0x2067b0[_0x477d67(0x1ea)]))return[!![],_0x4c69ca];}catch(_0x3abaa3){return logger['error'](_0x477d67(0x2b2)+_0x4c69ca+'.\x20Error:\x20'+_0x3abaa3),[![],[]];}return[![],[]];}}function a1_0x51cd(_0x51fb6d,_0x1c2e8c){const _0x3159c3=a1_0x3159();return a1_0x51cd=function(_0x51cd3e,_0x22b269){_0x51cd3e=_0x51cd3e-0x156;let _0x137a80=_0x3159c3[_0x51cd3e];return _0x137a80;},a1_0x51cd(_0x51fb6d,_0x1c2e8c);}const a1_0x5c9108={};function a1_0x3159(){const _0x5551dc=['resources','resourceGroups','cloudProviderSubscriptionId','federatedidentity','FHScO','acSRr','SURro','4vcslNL','JWwdC','FvFgd','JgAtP','sendEventToBackend','setupNewCluster','cdeho','UkgUH','kntCb','disableLocalAccounts','xrzBu','Rlnim','CuAhk','iMlZa','AbXUn','2023-01-31','Deleting\x20the\x20cluster\x20','push','sGXMU','arBKs','beginDeleteAndWait','hostname','SEmpg','split','zeXkM','kOWFB','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','hfUFQ','uwmqA','parse','AzureCloudProvider','Deleted\x20the\x20cluster\x20successfully','\x20TENANT\x20ID:\x20','CekdK','turboscale-storageaccount-deployment','managementPolicies','OFuEF','error','toLowerCase','string','slice','HrcKd','TbrZZ','kVzMW','length','KorjG','getById','enabled','PnbML','JATiG','FFRnN','isClusterPresent','IVvex','XpKhj','info','Blob\x20delete\x20lifecycle','YaxOu','zkmmu','CfcKG','readFileAsync','location','1492136VTlZUb','actions','dkBzF','DUHlr','uVTqc','PhfOR','vnetSubnetID','CGGPR','securityProfile','definition','Enabling\x20Local\x20account\x20for\x20the\x20cluster','TlBtu','IGzTc','dNBxf','turboscale-managed-identity-','3283FbcDvT','wdEzP','ZvXkC','js-yaml','riRRs','log','yvUht','zFQhl','DTBxn','getKubeConfigData','VtFNH','2210JOeZQJ','MfXkd','7238kPuHRH','blobTypes','cloudProviderClientSecret','TFqWA','eWYLc','mBGpP','parameters','RESOURCES','xXNNO','lcnPN','buqIN','bklSq','clusterInfo','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','HGekd','qiLOg','hub','s3Bucket','qTgVF','bstackAccesskey','path','issuerURL','isSubnetsValid','dMOLF','Zuguk','clientId','OYYdK','createOrUpdate','clientSecret','xZHUL','getStorageAccountName','rNdBU','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','dYHHU','IMPvK','IOKKB','xFqts','WzxCH','[variables(\x27vnetSubnetID\x27)]','maxNodes','2517588hgFRlg','turboscale-identity-deployment','iCYVJ','Creating\x20Azure\x20federated\x20identity','wnxBU','HIdCw','qulGv','NzWmr','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','listAll','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','ZfOUE','mWJfa','DQEsX','aRxfO','oidcIssuerProfile','VrHGe','MlHSh','xTTSD','getUserInput','webSocketUtils','DJoKO','resourceGroup','EXdMM','cloudProviderTenantId','init','fqqla','listByResourceGroup','gridName','RReuG','arfbs','STgoX','MhnOt','Cannot\x20find\x20subnets\x20','rcHWO','pMqSn','templates','userInstanceType','wEawx','LTgKV','VNPIh','FTcuu','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','isManagedIdentityPresent','utf-8','type','Uvvlk','storageAccounts','VznXr','\x20CLIENT\x20SECRET:\x20','KRFeS','bYiyJ','.\x20Error:\x20','LxQwF','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','rules','exports','agentPoolProfiles','OXVFe','description','NUPRZ','bRhfc','EOLUN','getResourceGroups','JwOMu','Incremental','../config/logger','loOQR','policy','networkClient','metadata','YDUhl','knbmM','isStorageAccountPresent','node','akscluster.json','filters','isBrowserstackCluster','TUCzg','tenantId','ZwHJw','gFHCI','vQIsw','VPJJQ','rijVK','sbkzC','managedClusters','subscriptionId','RGlzp','ZFZha','listClusterAdminCredentials','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','eRaSn','DYxmW','nsASk','1812QDkgIW','deployments','jWEsZ','OJjAc','vpcInfo','exit','oWCAY','SBuka','list','\x20RESOURCE\x20GROUP:\x20','rWCvO','delete','bnwbo','fYUzH','@azure/arm-network','642945HGgXoK','JYuEi','WGoRa','properties','KouPx','YnaGq','sendAzureInfoToHST','createManagedIdentity','toString','MKNbF','createCluster','turboscale-cluster-deployment','value','azureresources','SzYRt','getClusterInfo','GYtUH','beginCreateOrUpdateAndWait','subnets','pgPtH','DrbrJ','cloudProviderClientId','BpxaJ','./CloudProvider','MDXNW','BuDSv','MwxZv','EBXHY','XKFbI','Storage\x20account\x20already\x20exists,\x20skipping','bIWOG','clusterName','lpLpx','5|4|3|2|0|1','subnetName','message','rws','storageClient','sIiya','hsltw','ckmCy','ecNIQ','mNUNb','EmRma','nqBvT','instanceType','tjlAK','cloudProvider','cloudProviderResourceGroup','42302wUlxlu','Fhdvu','WXnRT','daysAfterCreationGreaterThan','FiFuW','loadBalancer','1|2|3|0|4','xcdtN','resourceClient','xtRIM','join','RYpWj','containerClient','bHcqY','qDrby','JlVqk','LOG','sfVBV','toUpperCase','Dzxsz','gaxhc','gDUHo','BrowserStack','createOtherResources','RBZUe','QEndI','eHUvu','IXrfz','createStorageAccount','name','PJNBz','cloudProviderName','cnmFG','jVyKR','accessKey','FRRxu','hkGXU','XHNqK','setCachedCredsInRegistry','GmcRO','xlzXY','rdCQT','variables','27EMPQNT','IOUXH','aaIvt','turboscale','BqQru','status','90572ByhxUN','virtualNetworks','userMaxNodes','zuWzf','setClients','tudxz','ThVjw','get','Cannot\x20find\x20VPC\x20','TZHQO'];a1_0x3159=function(){return _0x5551dc;};return a1_0x3159();}a1_0x5c9108[a1_0x4966b2(0x22d)]=AzureCloudProvider,module[a1_0x4966b2(0x166)]=a1_0x5c9108;